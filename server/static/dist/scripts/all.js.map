{"version":3,"sources":["app.js","controllers/main.js","directives/directives.js","leaflet-dev/leaflet-src.js","services/services.js"],"names":["angular","module","titties","anal","controller","$timeout","FiresFact","$scope","displayState","mastHead","messages","loading","errors","currentPos","latitude","longitude","setCurrentPos","geoLocation","navigator","geolocation","getCurrentPosition","data","coords","$apply","console","log","JSON","stringify","globalStrings","StringsFact","getStrings","src","date","provinces","debounceFires","currentTimeout","params","getFires","emptyDataset","payload","key","fireData","get","rows","length","loopOverArrayForPoints","dataList","isArray","point","last","config","cb","pushIntoPointSet","marker","L","lat","long","toGeoJSON","stroke","intensity","pointSet","push","markerOptions","fillOpacity","i","fillColor","pointToLayer","feature","latlng","parseInt","intensityRadius","clickable","circleMarker","renderer","canvasLayer","radius","group","addLayer","circle","arr","undefined","pop","cheese","time","LATITUDE","LONGITUDE","SIZE_HA","splice","directive","restrict","coordList","link","scope","element","attrs","map","addTo","mapConfig","min","max","LayerGroup","canvas","pointSetAlreadyAdded","currentLat","currentLong","$watch","position","newVal","oldVal","latLng","setView","getLayers","removeLayer","aggregatePoint","aggregateCB","window","document","expose","version","noConflict","oldL","_typeof","exports","define","amd","Util","extend","dest","j","len","arguments","create","Object","F","proto","bind","fn","obj","slice","Array","prototype","args","apply","call","concat","stamp","_leaflet_id","lastId","context","lock","wrapperFn","later","throttle","setTimeout","wrapNum","x","range","includeMax","d","falseFn","formatNum","num","digits","pow","Math","round","trim","str","replace","splitWords","split","setOptions","hasOwnProperty","options","getParamString","existingUrl","uppercase","encodeURIComponent","toUpperCase","indexOf","join","template","templateRe","value","toString","emptyImageUrl","getPrefixed","name","lastTime","Date","timeToCall","requestFn","timeoutDefer","cancelFn","cancelAnimationFrame","id","clearTimeout","immediate","cancelAnimFrame","Class","props","NewClass","this","initialize","_initHooks","callInitHooks","parentProto","__super__","constructor","statics","includes","_initHooksCalled","include","mergeOptions","addInitHook","init","Evented","on","types","type","_on","off","_events","_off","events","contextId","indexKey","indexLenKey","typeIndex","ctx","listeners","listener","listens","propagate","event","target","fire","_propagateEvent","_eventParents","once","handler","addEventParent","removeEventParent","e","addEventListener","removeEventListener","addOneTimeEventListener","fireEvent","hasEventListeners","Mixin","Events","toLowerCase","doc","documentElement","ie","webkit","ua","phantomjs","android23","search","chrome","userAgent","mobile","orientation","msPointer","msPointerEnabled","msMaxTouchPoints","PointerEvent","pointer","pointerEnabled","maxTouchPoints","ie3d","style","webkit3d","WebKitCSSMatrix","gecko3d","opera3d","retina","devicePixelRatio","matchMedia","matches","DocumentTouch","Browser","ielt9","opera","gecko","android","safari","any3d","mobileWebkit","mobileOpera","touch","y","clone","add","_add","subtract","_subtract","divideBy","_divideBy","multiplyBy","_multiplyBy","_round","floor","_floor","ceil","_ceil","distanceTo","equals","abs","Point","Bounds","a","b","points","getCenter","getBottomLeft","getTopRight","getSize","contains","bounds","min2","max2","xIntersects","yIntersects","isValid","Transformation","c","_a","_b","_c","_d","transform","scale","_transform","untransform","DomUtil","getStyle","getElementById","el","defaultView","getComputedStyle","currentStyle","css","tagName","className","container","createElement","remove","appendChild","parent","removeChild","parentNode","empty","firstChild","toFront","toBack","hasClass","getClass","addClass","test","classList","classes","setClass","removeClass","baseVal","setOpacity","opacity","filter","filters","item","filterName","Enabled","testProp","setTransform","offset","TRANSFORM","setPosition","pos","no3d","_leaflet_pos","left","top","getPosition","disableTextSelection","preventDefault","transition","userSelectProperty","DomEvent","_userSelect","enableTextSelection","disableImageDrag","isNaN","Error","LatLng","lng","alt","maxMargin","Earth","distance","wrap","margin","precision","CRS","other","southWest","lon","northEast","latlngs","LatLngBounds","sw2","ne2","sw","_southWest","ne","_northEast","latLngBounds","heightBuffer","pad","bufferRatio","getSouthWest","widthBuffer","getNorthEast","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","latIntersects","lngIntersects","intersects","toBBoxString","Projection","LonLat","project","unproject","SphericalMercator","R","PI","sin","atan","exp","latLngToPoint","transformation","zoom","projectedPoint","projection","pointToLatLng","untransformedPoint","getProjectedBounds","infinite","s","wrapLatLng","wrapLng","wrapLat","latlng1","latlng2","dx","dy","sqrt","lat1","rad","lat2","cos","acos","EPSG3857","code","EPSG900913","EPSG4326","fadeAnimation","trackResize","Map","_initContainer","crs","markerZoomAnimation","_limitZoom","_initLayout","_onResize","_initEvents","maxBounds","setMaxBounds","center","reset","_handlers","_layers","_zoomBoundLayers","_addLayers","layers","getZoom","setZoomAround","setZoom","centerOffset","containerPoint","newCenter","_zoom","getBounds","zoomOut","paddingBR","getBoundsZoom","paddingTL","paddingOffset","viewHalf","latLngToContainerPoint","fitBounds","panTo","paddingTopLeft","padding","paddingBottomRight","maxZoom","swPoint","nePoint","fitWorld","pan","panBy","_rawPanBy","_loaded","_panInsideMaxBounds","invalidateSize","panInsideBounds","_sizeChanged","_initialCenter","newSize","animate","oldSize","oldCenter","debounceMoveend","_sizeTimer","HandlerClass","enable","_container","_clearControlPos","_leaflet","_mapPane","pane","_clearHandlers","createPane","_checkIfLoaded","_moved","_panes","layerPointToLatLng","_getCenterLayerPoint","getPixelBounds","getMinZoom","size","nw","_layersMinZoom","minZoom","getMaxZoom","boundsSize","Infinity","_layersMaxZoom","zoomNotFound","inside","se","_size","getPixelWorldBounds","clientWidth","clientHeight","topLeftPoint","_getTopLeftPoint","getContainer","getPixelOrigin","_initialTopLeftPoint","toZoom","getPane","getPanes","getZoomScale","getScaleZoom","LN2","containerPointToLayerPoint","layerPointToContainerPoint","_getMapPanePos","containerPointToLatLng","layerPoint","mouseEventToContainerPoint","latLngToLayerPoint","getMousePosition","mouseEventToLayerPoint","mouseEventToLatLng","_fadeAnimated","_initControlPos","_initPanes","panes","_resetView","zoomChanged","markerPane","preserveMapOffset","afterZoomAnim","_getNewTopLeftPoint","hard","_getZoomSpan","onOff","_handleMouseEvent","_fireMouseEvent","_resizeRequest","draggableObj","dragging","moved","boxZoom","stopPropagation","draggable","originalEvent","callback","disable","whenReady","_latLngToNewLayerPoint","topLeft","newZoom","_limitCenter","centerPoint","_getCenterOffset","_limitOffset","viewBounds","_getBoundsOffset","nwOffset","seOffset","_rebound","newBounds","pxBounds","right","Layer","_map","removeFrom","_mapToAdd","_zoomAnimated","getAttribution","attributionControl","_layerAdd","getEvents","hasLayer","onAdd","layer","addAttribution","beforeAdd","onRemove","removeAttribution","method","eachLayer","_addZoomLimit","_updateZoomLevels","_removeZoomLimit","oldZoomSpan","R_MINOR","ts","tmp","r","con","phi","dphi","EPSG3395","GridLayer","Mercator","tileSize","updateWhenIdle","updateInterval","_clearBgBuffer","_update","_reset","_setAutoZIndex","bringToFront","attribution","bringToBack","_updateZIndex","_updateOpacity","setZIndex","zIndex","moveend","redraw","move","viewreset","_startZoomAnim","zoomanim","_animateZoom","zoomend","_endZoomAnim","compare","children","edgeZIndex","isFinite","_tiles","_tileContainer","tile","_tilesTotal","_abortLoading","_tileNumBounds","_resetWrap","_getTileNumBounds","_wrapLat","_getTileSize","_wrapLng","_removeOtherTiles","_addTiles","queue","tileBounds","unloadInvisibleTiles","tilesToLoad","z","_isValidTile","_addTile","_tilesToLoad","sort","fragment","createDocumentFragment","_tileCoordsToBounds","sePoint","nwPoint","_tileCoordsToKey","_keyToTileCoords","kArr","_removeTile","_initTile","width","height","onselectstart","tilePos","_getTilePos","_wrapCoords","WebkitBackfaceVisibility","createTile","_tileReady","_visibleTilesReady","err","error","_clearBgBufferTimer","_prepareBgBuffer","front","visibility","_translate","bg","_bgBuffer","_prevTranslate","origin","_scale","_prevScale","_animatingZoom","touchZoom","_zooming","TileLayer","gridLayer","subdomains","url","_url","noRedraw","detectRetina","onload","crossOrigin","setUrl","done","getTileUrl","onerror","_getSubdomain","_getZoomForUrl","errorUrl","zoomOffset","zoomN","_tileOnLoad","_tileOnError","zoomReverse","maxNativeZoom","complete","index","tilePoint","service","request","styles","format","tileLayer","WMS","wmsParams","_uppercase","_wmsVersion","projectionKey","bbox","_crs","parseFloat","wms","_image","_initImage","img","onmousemove","_bounds","ImageOverlay","image","imageOverlay","_createIcon","Icon","marginLeft","marginTop","createIcon","oldIcon","createShadow","_getIconUrl","_setIconStyles","shadowAnchor","iconAnchor","popupAnchor","anchor","_createImg","icon","path","Default","iconSize","shadowSize","interactive","imagePath","keyboard","zIndexOffset","riseOffset","scripts","leafletRe","_initIcon","match","Marker","oldLatLng","_latlng","update","setIcon","_removeIcon","_removeShadow","_setPos","getLatLng","setLatLng","classToAdd","addIcon","setZIndexOffset","_icon","bindPopup","_popup","_initInteraction","riseOnHover","mouseover","addShadow","newShadow","_shadow","title","tabIndex","mouseout","_bringToFront","_resetZIndex","_zIndex","opt","Handler","MarkerDrag","keyCode","div","innerHTML","divIcon","closePopupOnClick","maxWidth","html","autoPan","autoPanPadding","bgPos","backgroundPosition","Popup","minWidth","_source","openOn","closeButton","source","zoomAnimation","_updatePosition","_adjustPan","popup","setContent","_content","content","_updateContent","preclick","isOpen","_close","prefix","disableClickPropagation","_tip","closeOnClick","keepInView","node","hasChildNodes","closePopup","offsetWidth","_closeButton","whiteSpace","_onCloseButtonClick","wrapper","_wrapper","offsetHeight","disableScrollPropagation","maxHeight","_tipContainer","scrolledClass","_containerWidth","_updateLayout","_containerBottom","_containerLeft","containerHeight","containerWidth","layerPos","containerPos","bottom","openPopup","autoPanPaddingBottomRight","stop","click","_movePopup","unbindPopup","_popupHandlersAdded","togglePopup","setPopupContent","_openPopup","getPopup","invoke","methodName","getLayerId","clearLayers","getLayer","layerGroup","FeatureGroup","setStyle","_popupContent","_popupOptions","featureGroup","Renderer","getRenderer","Path","weight","lineCap","fillRule","p","_renderer","_addPath","SVG","svg","Canvas","color","lineJoin","_initPath","_project","_removePath","_updatePath","tolerance","sqTolerance","_updateStyle","pointToSegmentDistance","_sqClosestPointOnSegment","_simplifyDP","LineUtil","simplify","newPoints","sqDist","_reducePoints","p1","p2","closestPointOnSegment","_simplifyDPStep","markers","ArrayConstructor","Uint8Array","_sqDist","prev","reducedPoints","_getBitCode","first","newCode","maxSqDist","_lastCode","codeA","codeOut","codeB","_getEdgeIntersection","clipSegment","useLastCode","t","Polyline","smoothFactor","dot","getLatLngs","_setLatLngs","removed","minPoint","jLen","_latlngs","setLatLngs","minDistance","addLatLng","spliceLatLngs","dist","closestLayerPoint","closest","_parts","segDist","ratio","halfDist","_rings","result","_flat","_projectLatlngs","_convertLatLngs","flat","ring","_clipPoints","w","_clickTolerance","_pxBounds","parts","segment","k","noClip","len2","_simplifyPoints","PolyUtil","_updatePoly","polyline","edge","clipPolygon","clippedPoints","lu","edges","_code","area","Polygon","f","polygon","clipped","setBounds","_boundsToLatLngs","Rectangle","fill","rectangle","CircleMarker","setRadius","getRadius","_radius","_point","_updateBounds","r2","_radiusY","_updateCircle","_empty","Circle","_mRadius","latR","half","lngR","setAttribute","_paths","_path","dashArray","removeAttribute","pointerEvents","dashOffset","arc","_setPath","pointsToPath","closed","_bringToBack","rings","srcElement","createElementNS","createSVGRect","vml","shape","behavior","_fill","_stroke","dashStyle","endcap","joinstyle","stroked","filled","v","_ctx","_onMouseMove","translate","_onClick","getContext","_removed","_requestRedraw","m","_redrawBounds","_draw","_redrawRequest","_redraw","clear","requestAnimFrame","_clear","beginPath","_fillStroke","save","globalCompositeOperation","_prevWeight","globalAlpha","fillStyle","_containsPoint","lineWidth","strokeStyle","_handleHover","_mouseInside","part","GeoJSON","geojson","addData","features","geometry","coordinates","geometryToLayer","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","coordsToLatLng","coordsToLatLngs","geometries","properties","levelsDeep","latLngToCoords","latLngsToCoords","getFeature","newGeometry","asFeature","geoJSON","PointToGeoJSON","multi","holes","toMultiPoint","isGeometryCollection","jsons","json","geoJson","eventsKey","originalHandler","addPointerListener","addDoubleTapListener","_checkMouse","_filterClick","removePointerListener","removeDoubleTapListener","detachEvent","_skipped","Draggable","START","dblclick","returnValue","getWheelDelta","clientX","clientY","rect","wheelDelta","getBoundingClientRect","clientLeft","delta","detail","clientTop","_skipEvents","_fakeStop","skipped","related","relatedTarget","elapsed","timeStamp","_lastClick","_simulatedClick","_simulated","addListener","MOVE","touchstart","pointerdown","MSPointerDown","mousedown","_enabled","_dragStartTarget","_element","dragStartTarget","_onDown","shiftKey","_disabled","button","touches","_moving","_startPoint","_startPos","_newPos","_onMove","END","_onUp","newPoint","body","_lastTarget","_animRequest","enableImageDrag","addHooks","removeHooks","enabled","inertiaDeceleration","inertia","inertiaMaxSpeed","worldCopyJump","Drag","_draggable","down","dragstart","_onDrag","_onDragEnd","drag","_onPreDrag","_onViewReset","_panAnim","_onDragStart","_positions","_times","_lastTime","_lastPos","shift","pxWorldCenter","pxCenter","_initialWorldOffset","_worldWidth","worldWidth","halfWidth","newX1","newX2","newX","delay","noInertia","inertiaThreshold","direction","ease","speedVector","duration","limitedSpeed","limitedSpeedVector","decelerationDuration","speed","easeLinearity","noMoveStart","doubleClickZoom","_onDoubleClick","DoubleClickZoom","scrollWheelZoom","wheelDebounceTime","mousewheel","_onWheelScroll","MozMousePixelScroll","_delta","_lastMousePos","debounce","_startTime","_timer","_performZoom","_touchstart","doubleTap","trackedTouches","_touchend","onTouchStart","count","pointerId","now","idx","prop","newTouch","pre","touchend","onTouchEnd","endElement","POINTER_CANCEL","POINTER_UP","POINTER_DOWN","_pointers","_addPointerStart","_addPointerMove","POINTER_MOVE","onDown","_handlePointer","_pointerDocListener","removePointer","onMove","changedTouches","pointerType","MSPOINTER_TYPE_MOUSE","buttons","_addPointerEnd","onUp","bounceAtZoomLimits","TouchZoom","_onTouchStart","_startDist","viewCenter","_startCenter","_centerOffset","_onTouchMove","_onTouchEnd","currentZoom","_updateOnMove","_center","_getTargetCenter","oldZoom","zoomDelta","finalZoom","tapTolerance","_holdTimeout","_fireClick","_simulateEvent","touchmove","_isTapValid","simulatedEvent","dispatchEvent","screenX","screenY","Tap","_pane","overlayPane","_onMouseDown","contextmenu","mouseup","mousemove","keydown","_onKeyDown","_box","_onMouseUp","_finish","boxZoomBounds","BoxZoom","up","zoomIn","keyCodes","_setPanOffset","_setZoomOffset","keyboardPanOffset","keyboardZoomOffset","focus","_addHooks","blur","_removeHooks","_onFocus","_focused","docEl","scrollTo","scrollTop","scrollLeft","keys","_onBlur","codes","_zoomKeys","_panKeys","metaKey","_inProgress","Keyboard","_marker","dragend","shadow","iconPos","Control","addControl","removeControl","corner","insertBefore","_controlCorners","control","createCorner","vSide","hSide","l","corners","_controlContainer","zoomInText","zoomInTitle","_updateDisabled","zoomOutText","_zoomIn","zoomName","_zoomOut","_createButton","_zoomOutButton","zoomOutTitle","zoomControl","_refocusOnMap","Zoom","_zoomInButton","_attributions","Attribution","setPrefix","text","attribs","prefixAndAttribs","imperial","Scale","metric","_addScales","maxMeters","_updateMetric","_mScale","_iScale","label","_updateScale","_updateImperial","maxFeet","miles","_updateScales","maxMiles","_getRoundNum","feet","meters","pow10","autoZIndex","_handlingClick","collapsed","baseLayers","overlays","addOverlay","_lastZIndex","_addLayer","form","_form","mouseenter","_expand","mouseleave","_collapse","_onInputClick","_baseLayersList","_separator","_overlaysList","_layersLink","overlay","_addItem","overlaysPresent","baseLayersPresent","_createRadioElement","radioHtml","radioFragment","_onLayerChange","input","defaultChecked","layerId","checked","inputs","getElementsByTagName","PosAnimation","_getPos","_el","_onTransitionEnd","newPos","_onStep","stepPos","TRANSITION","TRANSITION_END","_stepTimer","setInterval","_transformRe","clearInterval","animated","_tryAnimatedZoom","_tryAnimatedPan","_onPanTransitionStep","step","end","_onPanTransitionEnd","run","_offset","_complete","_animate","_duration","_easeOutPower","_step","_runFrame","_animId","_easeOut","progress","zoomAnimationThreshold","zoomAnimated","_catchTransitionEnd","_nothingToAnimate","propertyName","getElementsByClassName","startAnim","_animateToCenter","_animateToZoom","timeout","locate","_defaultLocateOptions","onError","watch","stopLocate","_locateOptions","_handleGeolocationError","message","_handleGeolocationResponse","_locationWatchId","watchPosition","onResponse","lngAccuracy","accuracy","latAccuracy","timestamp","$http","agency","domain","apiString","fullUrl","cache","success","status","headers","setAgency","setDate","setFireType","fireType","getDate","getFireType","getAgency","factory","FireQuery","Fire","strings"],"mappings":"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","file":"all.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc overview\n * @name mapprojectApp\n * @description\n * # mapprojectApp\n *\n * Main module of the application.\n */\nangular\n    .module('mapprojectApp', [\n        'ngResource',\n        'ngRoute',\n        'ui.utils'\n    ]);\n\nconst bacon = {\n    toast,\n    titties,\n    anal,\n    [\"bacon\" + \"toast\"]: 42\n}","'use strict';\n\n/**\n * @ngdoc function\n * @name mapprojectApp.controller:MainCtrl\n * @description\n * # MainCtrl\n * Controller of the mapprojectApp\n */\nangular.module('mapprojectApp')\n    .controller('MainCtrl', function ($scope, $timeout, FiresFact, StringsFact) {\n        $scope.displayState = {\n          mastHead: true\n        };\n        $scope.messages = {\n            loading: false,\n            errors: null\n        };\n\n        $scope.currentPos = {\n            latitude: \"\",\n            longitude: \"\"\n        };\n        $scope.setCurrentPos = function () {\n            var geoLocation = navigator.geolocation;\n            geoLocation.getCurrentPosition(function successCallback(data) {\n\n\n                $scope.currentPos.latitude = data.coords.latitude;\n                $scope.currentPos.longitude = data.coords.longitude;\n                $scope.$apply();\n                console.log(\"current data: \" + JSON.stringify(data));\n                //mapConfig.currentLat = data.latitude;\n                //mapConfig.currentLong = data.longitude;\n            }, function errorCallback(data) {\n                debugger;\n                console.log(\"Error Happened dawg: \" + JSON.stringify(data));\n            });\n        };\n        $scope.setCurrentPos();\n\n        $scope.globalStrings = StringsFact.getStrings();\n\n        // Can be moved to template\n        $scope.fireConfig = {\n            src: $scope.globalStrings.provinces[0],\n            date: 1973\n        };\n        var currentTimeout = null;\n        $scope.debounceFires = function (params){\n            if (currentTimeout !== null) {\n                $timeout.cancel(currentTimeout);\n                currentTimeout = null;\n            }\n                currentTimeout = $timeout(function(){\n                    $scope.getFires(params);\n                }, 500);\n\n\n        };\n        $scope.getFires = function (params) {\n\n            $scope.messages.loading = true;\n            $scope.messages.emptyDataset = false;\n            $scope.messages.errors = null;\n            //console.log(params);\n            var payload = {\n                src: params.src.key,\n                date: params.date\n            };\n            console.log(payload);\n            FiresFact.get(payload, function (data) {\n                if (data.rows) {\n                    $scope.fireData = data.rows;\n                }\n                else {\n                    $scope.fireData = data;\n                }\n                if (data.errors) {\n                    $scope.messages.errors = data.errors;\n                }\n                $scope.messages.loading = false;\n                if (data.length == 0) {\n                    $scope.messages.emptyDataset = true;\n                } else {\n                    $scope.messages.emptyDataset = false;\n                }\n\n            });\n        };\n\n\n        // Implement async return of data\n\n\n    });\n","angular.module('mapprojectApp')\n    .directive(\"ltMap\", function () {\n        return {\n            restrict: \"E\",\n            scope: {\n                coordList: \"=coords\",\n                currentPos: \"=position\"\n            },\n            link: function (scope, element, attrs) {\n                var map = L.map('map').setView([51.106739, -114.913696], 4);\n                L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {}).addTo(map);\n\n\n                var mapConfig = {\n                    min: 0,\n                    max: null,\n                    group: new L.LayerGroup(),\n                    canvasLayer: L.canvas(),\n                    pointSet: [],\n                    pointSetAlreadyAdded: [],\n                    map: map,\n                    currentLat: \"\",\n                    currentLong: \"\",\n                };\n                scope.$watch(attrs.position, function (newVal, oldVal) {\n                    if (newVal.latitude !== \"\") {\n                        mapConfig.currentLat = newVal.latitude;\n                        mapConfig.currentLong = newVal.longitude;\n                        var latlng = L.latLng(mapConfig.currentLat, mapConfig.currentLong);\n                        L.circle(latlng, 200).addTo(mapConfig.map);\n                        mapConfig.map.setView(latlng);\n                    }\n\n                }, true);\n\n\n                scope.$watch('coordList', function (newVal, oldVal) {\n                    data = newVal;\n\n                    console.log(\"Triggered\");\n                    if (newVal) {\n                        console.log(\"Aggregating\");\n//\t\tvar geoProvs = L.geoJson(provinces, {\n//\t\t\tstyle: {\n//\t\t\t\tcolor: \"#000000\",\n//\t\t\t\tweight: 1,\n//\t\t\t\tfill: false\n//\t\t\t}\n//\t\t});\n\n//\t\tgeoProvs.addTo(map);\n\n//\n//\t\tvar markers = new L.marker,\n//\t\t\t\tpotholePriority = [],\n//\t\t\t\tu = 0;\n\n// TODO: Loop and add markers here\n\n// Match priority value\n//\t\tvar priorityRegex = /Priority (\\d)/;\n//\t\tvar holes = potholes.features[0].items;\n\n\n                        if (mapConfig.max) {\n                            data = data.splice(mapConfig.min, mapConfig.max);\n                        }\n                        if (mapConfig.group.getLayers()) {\n                            console.log(\"has layers\");\n                            mapConfig.map.removeLayer(mapConfig.canvasLayer);\n                            mapConfig.canvasLayer = L.canvas();\n                        }\n                        console.log(\"Cleared\");\n                        aggregatePoint(data, mapConfig, aggregateCB);\n\n\n                    }\n\n                });\n\n\n            }\n        }\n    });\n\n\nfunction aggregatePoint(dataList, config, cb) {\n    console.log(config);\n    console.timeEnd(\"Cheese\");\n    //debugger;\n    // check if this is an array of arrays\n    if (isArray(dataList)) {\n        if (isArray(dataList[0])) {\n            console.log(\"Looping started\");\n            loopOverArrayForPoints(dataList[0], config, function (config) {\n                console.log(\"Looping Ended\");\n                dataList.splice(0, 1);\n                cb(dataList, config);\n            });\n        }\n        else {\n            console.log(\"Looping started\");\n            loopOverArrayForPoints(dataList, config, function (config) {\n                console.log(\"Looping Ended\");\n\n                cb(dataList, config);\n            });\n        }\n    }\n    else {\n        throw \"datalist was not an array\";\n    }\n};\nfunction pushIntoPointSet(point, config, cb) {\n    var marker = new L.marker([point.lat, point.long]).toGeoJSON();\n\n    // remap properties from point to the new marker object\n    marker.intensity = point.intensity;\n//\t\t\tconsole.log(marker.intensity);\n    config.pointSet.push(marker); // Push the newly created marker onto the stack\n    if (point.last == true) {\n        //var group = new L.LayerGroup();\n        for (var i = 0; i < config.pointSet.length; i++) {\n            //\t\t\t\t\t\tdebugger;\n            //\t\t\t\t\t\tpointSet[i].addTo(map);\n            L.geoJson(config.pointSet[i], {\n                pointToLayer: function (feature, latlng) {\n                    var intensity = parseInt(config.pointSet[i].intensity);\n                    var intensityRadius = intensity / 2;\n                    var markerOptions = {\n                        stroke: false,\n                        clickable: true,\n                        fillOpacity: 1,\n                        renderer: config.canvasLayer,\n                        radius: intensityRadius,\n                        fillColor: \"#671c03\"\n                    };\n                    // Colour options from lowest to highest hectares burned\n\n\n                    config.group.addLayer(new L.circle(latlng, intensityRadius, markerOptions));\n                    return L.circleMarker(latlng, markerOptions);\n                }\n            });\n\n        }\n\n        config.pointSetAlreadyAdded.push(config.pointSet);\n        config.pointSet = [];\n        cb(config.group, config);\n//\t\t\t\tdebugger;\n    }\n\n}\n\n//:TODO Strip this callback out entirely\nfunction aggregateCB(cheese) {\n    if (isArray(cheese) && cheese.length !== 0) {\n//\t\t\t\tdebugger;\n        console.log(\"Callback called\");\n        console.time(\"Cheese\");\n//\t\t\t\tvar newTime = window.setTimeout(aggregatePoint, 1, cheese, aggregateCB);\n    } else {\n        console.log(\"Done\");\n    }\n}\n\nfunction isArray(arr) {\n    if (arr !== undefined && arr !== null) {\n        if (arr.pop && typeof arr.pop === \"function\") {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n}\n\n\nfunction loopOverArrayForPoints(arr, config, cb) {\n    for (var i = 0; i < arr.length; i++) {\n        // Set the current object for reference later\n//\t\t\t\tthis.currentSet = arr[i];\n\n        //TODO: Write a more extensive test for this.\n        if (parseInt(arr[i].LATITUDE) !== 0 && parseInt(arr[i].LONGITUDE) !== 0) {\n            if (i > 50000) {\n//\t\t\t\t\t\tconsole.log(i);\n            }\n            if (i == arr.length - 1) {\n                pushIntoPointSet({\n                    lat: arr[i].LATITUDE,\n                    long: arr[i].LONGITUDE,\n                    intensity: arr[i].SIZE_HA,\n                    last: true\n                }, config, function (group, config) {\n                    config.map.addLayer(group);\n                    console.log(\"Added Points to map\");\n\n                });\n                cb(); // One of a few spots that doesn't need to be sent the config\n            }\n            else {\n                pushIntoPointSet({\n                    lat: arr[i].LATITUDE,\n                    long: arr[i].LONGITUDE,\n                    intensity: arr[i].SIZE_HA,\n                    last: false\n                }, config);\n            }\n\n        }\n        else {\n            console.log(\"Could not parse proper coords from this object:\");\n            console.log(arr[i]);\n            arr.splice(i, 1);\n            i = i - 2;\n        }\n\n    }\n}\n","/*\n Leaflet 0.8-dev (fc05abd), a JS library for interactive maps. http://leafletjs.com\n (c) 2010-2014 Vladimir Agafonkin, (c) 2010-2011 CloudMade\n*/\n(function (window, document, undefined) {\nvar L = {\n\tversion: '0.8-dev'\n};\n\nfunction expose() {\n\tvar oldL = window.L;\n\n\tL.noConflict = function () {\n\t\twindow.L = oldL;\n\t\treturn this;\n\t};\n\n\twindow.L = L;\n}\n\n// define Leaflet for Node module pattern loaders, including Browserify\nif (typeof module === 'object' && typeof module.exports === 'object') {\n\tmodule.exports = L;\n\n// define Leaflet as an AMD module\n} else if (typeof define === 'function' && define.amd) {\n\tdefine(L);\n}\n\n// define Leaflet as a global L variable, saving the original L to restore later if needed\nif (typeof window !== 'undefined') {\n\texpose();\n}\n\n\n/*\n * L.Util contains various utility functions used throughout Leaflet code.\n */\n\nL.Util = {\n\t// extend an object with properties of one or more other objects\n\textend: function (dest) {\n\t\tvar i, j, len, src;\n\n\t\tfor (j = 1, len = arguments.length; j < len; j++) {\n\t\t\tsrc = arguments[j];\n\t\t\tfor (i in src) {\n\t\t\t\tdest[i] = src[i];\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t},\n\n\t// create an object from a given prototype\n\tcreate: Object.create || (function () {\n\t\tfunction F() {}\n\t\treturn function (proto) {\n\t\t\tF.prototype = proto;\n\t\t\treturn new F();\n\t\t};\n\t})(),\n\n\t// bind a function to be called with a given context\n\tbind: function (fn, obj) {\n\t\tvar slice = Array.prototype.slice;\n\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind.apply(fn, slice.call(arguments, 1));\n\t\t}\n\n\t\tvar args = slice.call(arguments, 2);\n\n\t\treturn function () {\n\t\t\treturn fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\n\t\t};\n\t},\n\n\t// return unique ID of an object\n\tstamp: function (obj) {\n\t\t// jshint camelcase: false\n\t\tobj._leaflet_id = obj._leaflet_id || ++L.Util.lastId;\n\t\treturn obj._leaflet_id;\n\t},\n\n\tlastId: 0,\n\n\t// return a function that won't be called more often than the given interval\n\tthrottle: function (fn, time, context) {\n\t\tvar lock, args, wrapperFn, later;\n\n\t\tlater = function () {\n\t\t\t// reset lock and call if queued\n\t\t\tlock = false;\n\t\t\tif (args) {\n\t\t\t\twrapperFn.apply(context, args);\n\t\t\t\targs = false;\n\t\t\t}\n\t\t};\n\n\t\twrapperFn = function () {\n\t\t\tif (lock) {\n\t\t\t\t// called too soon, queue to call later\n\t\t\t\targs = arguments;\n\n\t\t\t} else {\n\t\t\t\t// call and lock until later\n\t\t\t\tfn.apply(context, arguments);\n\t\t\t\tsetTimeout(later, time);\n\t\t\t\tlock = true;\n\t\t\t}\n\t\t};\n\n\t\treturn wrapperFn;\n\t},\n\n\t// wrap the given number to lie within a certain range (used for wrapping longitude)\n\twrapNum: function (x, range, includeMax) {\n\t\tvar max = range[1],\n\t\t    min = range[0],\n\t\t    d = max - min;\n\t\treturn x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n\t},\n\n\t// do nothing (used as a noop throughout the code)\n\tfalseFn: function () { return false; },\n\n\t// round a given number to a given precision\n\tformatNum: function (num, digits) {\n\t\tvar pow = Math.pow(10, digits || 5);\n\t\treturn Math.round(num * pow) / pow;\n\t},\n\n\t// trim whitespace from both sides of a string\n\ttrim: function (str) {\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n\t},\n\n\t// split a string into words\n\tsplitWords: function (str) {\n\t\treturn L.Util.trim(str).split(/\\s+/);\n\t},\n\n\t// set options to an object, inheriting parent's options as well\n\tsetOptions: function (obj, options) {\n\t\tif (!obj.hasOwnProperty('options')) {\n\t\t\tobj.options = obj.options ? L.Util.create(obj.options) : {};\n\t\t}\n\t\tfor (var i in options) {\n\t\t\tobj.options[i] = options[i];\n\t\t}\n\t\treturn obj.options;\n\t},\n\n\t// make an URL with GET parameters out of a set of properties/values\n\tgetParamString: function (obj, existingUrl, uppercase) {\n\t\tvar params = [];\n\t\tfor (var i in obj) {\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\n\t\t}\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\n\t},\n\n\t// super-simple templating facility, used for TileLayer URLs\n\ttemplate: function (str, data) {\n\t\treturn str.replace(L.Util.templateRe, function (str, key) {\n\t\t\tvar value = data[key];\n\n\t\t\tif (value === undefined) {\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\n\n\t\t\t} else if (typeof value === 'function') {\n\t\t\t\tvalue = value(data);\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t},\n\n\ttemplateRe: /\\{ *([\\w_]+) *\\}/g,\n\n\tisArray: Array.isArray || function (obj) {\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\n\t},\n\n\t// minimal image URI, set to an image when disposing to flush memory\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n};\n\n(function () {\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\tfunction getPrefixed(name) {\n\t\treturn window['webkit' + name] || window['moz' + name] || window['ms' + name];\n\t}\n\n\tvar lastTime = 0;\n\n\t// fallback for IE 7-8\n\tfunction timeoutDefer(fn) {\n\t\tvar time = +new Date(),\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\n\n\t\tlastTime = time + timeToCall;\n\t\treturn window.setTimeout(fn, timeToCall);\n\t}\n\n\tvar requestFn = window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer,\n\t    cancelFn = window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') ||\n\t               getPrefixed('CancelRequestAnimationFrame') || function (id) { window.clearTimeout(id); };\n\n\n\tL.Util.requestAnimFrame = function (fn, context, immediate) {\n\t\tif (immediate && requestFn === timeoutDefer) {\n\t\t\tfn.call(context);\n\t\t} else {\n\t\t\treturn requestFn.call(window, L.bind(fn, context));\n\t\t}\n\t};\n\n\tL.Util.cancelAnimFrame = function (id) {\n\t\tif (id) {\n\t\t\tcancelFn.call(window, id);\n\t\t}\n\t};\n})();\n\n// shortcuts for most used utility functions\nL.extend = L.Util.extend;\nL.bind = L.Util.bind;\nL.stamp = L.Util.stamp;\nL.setOptions = L.Util.setOptions;\n\n\n/*\n * L.Class powers the OOP facilities of the library.\n * Thanks to John Resig and Dean Edwards for inspiration!\n */\n\nL.Class = function () {};\n\nL.Class.extend = function (props) {\n\n\t// extended class with the new prototype\n\tvar NewClass = function () {\n\n\t\t// call the constructor\n\t\tif (this.initialize) {\n\t\t\tthis.initialize.apply(this, arguments);\n\t\t}\n\n\t\t// call all constructor hooks\n\t\tif (this._initHooks.length) {\n\t\t\tthis.callInitHooks();\n\t\t}\n\t};\n\n\t// jshint camelcase: false\n\tvar parentProto = NewClass.__super__ = this.prototype;\n\n\tvar proto = L.Util.create(parentProto);\n\tproto.constructor = NewClass;\n\n\tNewClass.prototype = proto;\n\n\t//inherit parent's statics\n\tfor (var i in this) {\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {\n\t\t\tNewClass[i] = this[i];\n\t\t}\n\t}\n\n\t// mix static properties into the class\n\tif (props.statics) {\n\t\tL.extend(NewClass, props.statics);\n\t\tdelete props.statics;\n\t}\n\n\t// mix includes into the prototype\n\tif (props.includes) {\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));\n\t\tdelete props.includes;\n\t}\n\n\t// merge options\n\tif (proto.options) {\n\t\tprops.options = L.Util.extend(L.Util.create(proto.options), props.options);\n\t}\n\n\t// mix given properties into the prototype\n\tL.extend(proto, props);\n\n\tproto._initHooks = [];\n\n\t// add method for calling all hooks\n\tproto.callInitHooks = function () {\n\n\t\tif (this._initHooksCalled) { return; }\n\n\t\tif (parentProto.callInitHooks) {\n\t\t\tparentProto.callInitHooks.call(this);\n\t\t}\n\n\t\tthis._initHooksCalled = true;\n\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\n\t\t\tproto._initHooks[i].call(this);\n\t\t}\n\t};\n\n\treturn NewClass;\n};\n\n\n// method for adding properties to prototype\nL.Class.include = function (props) {\n\tL.extend(this.prototype, props);\n};\n\n// merge new default options to the Class\nL.Class.mergeOptions = function (options) {\n\tL.extend(this.prototype.options, options);\n};\n\n// add a constructor hook\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar init = typeof fn === 'function' ? fn : function () {\n\t\tthis[fn].apply(this, args);\n\t};\n\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\n\tthis.prototype._initHooks.push(init);\n};\n\n\n/*\n * L.Evented is a base class that Leaflet classes inherit from to handle custom events.\n */\n\nL.Evented = L.Class.extend({\n\n\ton: function (types, fn, context) {\n\n\t\t// types can be a map of types/handlers\n\t\tif (typeof types === 'object') {\n\t\t\tfor (var type in types) {\n\t\t\t\t// we don't process space-separated events here for performance;\n\t\t\t\t// it's a hot path since Layer uses the on(obj) syntax\n\t\t\t\tthis._on(type, types[type], fn);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// types can be a string of space-separated words\n\t\t\ttypes = L.Util.splitWords(types);\n\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\n\t\t\t\tthis._on(types[i], fn, context);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\toff: function (types, fn, context) {\n\n\t\tif (!types) {\n\t\t\t// clear all listeners if called without arguments\n\t\t\tdelete this._events;\n\n\t\t} else if (typeof types === 'object') {\n\t\t\tfor (var type in types) {\n\t\t\t\tthis._off(type, types[type], fn);\n\t\t\t}\n\n\t\t} else {\n\t\t\ttypes = L.Util.splitWords(types);\n\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\n\t\t\t\tthis._off(types[i], fn, context);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// attach listener (without syntactic sugar now)\n\t_on: function (type, fn, context) {\n\n\t\tvar events = this._events = this._events || {},\n\t\t    contextId = context && context !== this && L.stamp(context);\n\n\t\tif (contextId) {\n\t\t\t// store listeners with custom context in a separate hash (if it has an id);\n\t\t\t// gives a major performance boost when firing and removing events (e.g. on map object)\n\n\t\t\tvar indexKey = type + '_idx',\n\t\t\t    indexLenKey = type + '_len',\n\t\t\t    typeIndex = events[indexKey] = events[indexKey] || {},\n\t\t\t    id = L.stamp(fn) + '_' + contextId;\n\n\t\t\tif (!typeIndex[id]) {\n\t\t\t\ttypeIndex[id] = {fn: fn, ctx: context};\n\n\t\t\t\t// keep track of the number of keys in the index to quickly check if it's empty\n\t\t\t\tevents[indexLenKey] = (events[indexLenKey] || 0) + 1;\n\t\t\t}\n\n\t\t} else {\n\t\t\t// individual layers mostly use \"this\" for context and don't fire listeners too often\n\t\t\t// so simple array makes the memory footprint better while not degrading performance\n\n\t\t\tevents[type] = events[type] || [];\n\t\t\tevents[type].push({fn: fn});\n\t\t}\n\t},\n\n\t_off: function (type, fn, context) {\n\t\tvar events = this._events,\n\t\t    indexKey = type + '_idx',\n\t\t    indexLenKey = type + '_len';\n\n\t\tif (!events) { return; }\n\n\t\tif (!fn) {\n\t\t\t// clear all listeners for a type if function isn't specified\n\t\t\tdelete events[type];\n\t\t\tdelete events[indexKey];\n\t\t\tdelete events[indexLenKey];\n\t\t\treturn;\n\t\t}\n\n\t\tvar contextId = context && context !== this && L.stamp(context),\n\t\t    listeners, i, len, listener, id;\n\n\t\tif (contextId) {\n\t\t\tid = L.stamp(fn) + '_' + contextId;\n\t\t\tlisteners = events[indexKey];\n\n\t\t\tif (listeners && listeners[id]) {\n\t\t\t\tlistener = listeners[id];\n\t\t\t\tdelete listeners[id];\n\t\t\t\tevents[indexLenKey]--;\n\t\t\t}\n\n\t\t} else {\n\t\t\tlisteners = events[type];\n\n\t\t\tif (listeners) {\n\t\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\t\tif (listeners[i].fn === fn) {\n\t\t\t\t\t\tlistener = listeners[i];\n\t\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// set the removed listener to noop so that's not called if remove happens in fire\n\t\tif (listener) {\n\t\t\tlistener.fn = L.Util.falseFn;\n\t\t}\n\t},\n\n\tfire: function (type, data, propagate) {\n\t\tif (!this.listens(type, propagate)) { return this; }\n\n\t\tvar event = L.Util.extend({}, data, {type: type, target: this}),\n\t\t    events = this._events;\n\n\t\tif (events) {\n\t\t    var typeIndex = events[type + '_idx'],\n\t\t        i, len, listeners, id;\n\n\t\t\tif (events[type]) {\n\t\t\t\t// make sure adding/removing listeners inside other listeners won't cause infinite loop\n\t\t\t\tlisteners = events[type].slice();\n\n\t\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\t\tlisteners[i].fn.call(this, event);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// fire event for the context-indexed listeners as well\n\t\t\tfor (id in typeIndex) {\n\t\t\t\ttypeIndex[id].fn.call(typeIndex[id].ctx, event);\n\t\t\t}\n\t\t}\n\n\t\tif (propagate) {\n\t\t\t// propagate the event to parents (set with addEventParent)\n\t\t\tthis._propagateEvent(event);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tlistens: function (type, propagate) {\n\t\tvar events = this._events;\n\n\t\tif (events && (events[type] || events[type + '_len'])) { return true; }\n\n\t\tif (propagate) {\n\t\t\t// also check parents for listeners if event propagates\n\t\t\tfor (var id in this._eventParents) {\n\t\t\t\tif (this._eventParents[id].listens(type, propagate)) { return true; }\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tonce: function (types, fn, context) {\n\n\t\tif (typeof types === 'object') {\n\t\t\tfor (var type in types) {\n\t\t\t\tthis.once(type, types[type], fn);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tvar handler = L.bind(function () {\n\t\t\tthis\n\t\t\t    .off(types, fn, context)\n\t\t\t    .off(types, handler, context);\n\t\t}, this);\n\n\t\t// add a listener that's executed once and removed after that\n\t\treturn this\n\t\t    .on(types, fn, context)\n\t\t    .on(types, handler, context);\n\t},\n\n\t// adds a parent to propagate events to (when you fire with true as a 3rd argument)\n\taddEventParent: function (obj) {\n\t\tthis._eventParents = this._eventParents || {};\n\t\tthis._eventParents[L.stamp(obj)] = obj;\n\t\treturn this;\n\t},\n\n\tremoveEventParent: function (obj) {\n\t\tif (this._eventParents) {\n\t\t\tdelete this._eventParents[L.stamp(obj)];\n\t\t}\n\t\treturn this;\n\t},\n\n\t_propagateEvent: function (e) {\n\t\tfor (var id in this._eventParents) {\n\t\t\tthis._eventParents[id].fire(e.type, L.extend({layer: e.target}, e), true);\n\t\t}\n\t}\n});\n\nvar proto = L.Evented.prototype;\n\n// aliases; we should ditch those eventually\nproto.addEventListener = proto.on;\nproto.removeEventListener = proto.clearAllEventListeners = proto.off;\nproto.addOneTimeEventListener = proto.once;\nproto.fireEvent = proto.fire;\nproto.hasEventListeners = proto.listens;\n\nL.Mixin = {Events: proto};\n\n\n/*\n * L.Browser handles different browser and feature detections for internal Leaflet use.\n */\n\n(function () {\n\n\tvar ua = navigator.userAgent.toLowerCase(),\n\t    doc = document.documentElement,\n\n\t    ie = 'ActiveXObject' in window,\n\n\t    webkit    = ua.indexOf('webkit') !== -1,\n\t    phantomjs = ua.indexOf('phantom') !== -1,\n\t    android23 = ua.search('android [23]') !== -1,\n\t    chrome    = ua.indexOf('chrome') !== -1,\n\n\t    mobile = typeof orientation !== 'undefined',\n\t    msPointer = navigator.msPointerEnabled && navigator.msMaxTouchPoints && !window.PointerEvent,\n\t    pointer = (window.PointerEvent && navigator.pointerEnabled && navigator.maxTouchPoints) || msPointer,\n\n\t    ie3d = ie && ('transition' in doc.style),\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,\n\t    gecko3d = 'MozPerspective' in doc.style,\n\t    opera3d = 'OTransition' in doc.style;\n\n\n\tvar retina = 'devicePixelRatio' in window && window.devicePixelRatio > 1;\n\n\tif (!retina && 'matchMedia' in window) {\n\t\tvar matches = window.matchMedia('(min-resolution:144dpi)');\n\t\tretina = matches && matches.matches;\n\t}\n\n\tvar touch = !window.L_NO_TOUCH && !phantomjs && (pointer || 'ontouchstart' in window ||\n\t\t\t(window.DocumentTouch && document instanceof window.DocumentTouch));\n\n\tL.Browser = {\n\t\tie: ie,\n\t\tielt9: ie && !document.addEventListener,\n\t\twebkit: webkit,\n\t\tgecko: (ua.indexOf('gecko') !== -1) && !webkit && !window.opera && !ie,\n\t\tandroid: ua.indexOf('android') !== -1,\n\t\tandroid23: android23,\n\t\tchrome: chrome,\n\t\tsafari: !chrome && ua.indexOf('safari') !== -1,\n\n\t\tie3d: ie3d,\n\t\twebkit3d: webkit3d,\n\t\tgecko3d: gecko3d,\n\t\topera3d: opera3d,\n\t\tany3d: !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs,\n\n\t\tmobile: mobile,\n\t\tmobileWebkit: mobile && webkit,\n\t\tmobileWebkit3d: mobile && webkit3d,\n\t\tmobileOpera: mobile && window.opera,\n\n\t\ttouch: !!touch,\n\t\tmsPointer: !!msPointer,\n\t\tpointer: !!pointer,\n\n\t\tretina: !!retina\n\t};\n\n}());\n\n\n/*\n * L.Point represents a point with x and y coordinates.\n */\n\nL.Point = function (/*Number*/ x, /*Number*/ y, /*Boolean*/ round) {\n\tthis.x = (round ? Math.round(x) : x);\n\tthis.y = (round ? Math.round(y) : y);\n};\n\nL.Point.prototype = {\n\n\tclone: function () {\n\t\treturn new L.Point(this.x, this.y);\n\t},\n\n\t// non-destructive, returns a new point\n\tadd: function (point) {\n\t\treturn this.clone()._add(L.point(point));\n\t},\n\n\t// destructive, used directly for performance in situations where it's safe to modify existing point\n\t_add: function (point) {\n\t\tthis.x += point.x;\n\t\tthis.y += point.y;\n\t\treturn this;\n\t},\n\n\tsubtract: function (point) {\n\t\treturn this.clone()._subtract(L.point(point));\n\t},\n\n\t_subtract: function (point) {\n\t\tthis.x -= point.x;\n\t\tthis.y -= point.y;\n\t\treturn this;\n\t},\n\n\tdivideBy: function (num) {\n\t\treturn this.clone()._divideBy(num);\n\t},\n\n\t_divideBy: function (num) {\n\t\tthis.x /= num;\n\t\tthis.y /= num;\n\t\treturn this;\n\t},\n\n\tmultiplyBy: function (num) {\n\t\treturn this.clone()._multiplyBy(num);\n\t},\n\n\t_multiplyBy: function (num) {\n\t\tthis.x *= num;\n\t\tthis.y *= num;\n\t\treturn this;\n\t},\n\n\tround: function () {\n\t\treturn this.clone()._round();\n\t},\n\n\t_round: function () {\n\t\tthis.x = Math.round(this.x);\n\t\tthis.y = Math.round(this.y);\n\t\treturn this;\n\t},\n\n\tfloor: function () {\n\t\treturn this.clone()._floor();\n\t},\n\n\t_floor: function () {\n\t\tthis.x = Math.floor(this.x);\n\t\tthis.y = Math.floor(this.y);\n\t\treturn this;\n\t},\n\n\tceil: function () {\n\t\treturn this.clone()._ceil();\n\t},\n\n\t_ceil: function () {\n\t\tthis.x = Math.ceil(this.x);\n\t\tthis.y = Math.ceil(this.y);\n\t\treturn this;\n\t},\n\n\tdistanceTo: function (point) {\n\t\tpoint = L.point(point);\n\n\t\tvar x = point.x - this.x,\n\t\t    y = point.y - this.y;\n\n\t\treturn Math.sqrt(x * x + y * y);\n\t},\n\n\tequals: function (point) {\n\t\tpoint = L.point(point);\n\n\t\treturn point.x === this.x &&\n\t\t       point.y === this.y;\n\t},\n\n\tcontains: function (point) {\n\t\tpoint = L.point(point);\n\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\n\t},\n\n\ttoString: function () {\n\t\treturn 'Point(' +\n\t\t        L.Util.formatNum(this.x) + ', ' +\n\t\t        L.Util.formatNum(this.y) + ')';\n\t}\n};\n\nL.point = function (x, y, round) {\n\tif (x instanceof L.Point) {\n\t\treturn x;\n\t}\n\tif (L.Util.isArray(x)) {\n\t\treturn new L.Point(x[0], x[1]);\n\t}\n\tif (x === undefined || x === null) {\n\t\treturn x;\n\t}\n\treturn new L.Point(x, y, round);\n};\n\n\n/*\n * L.Bounds represents a rectangular area on the screen in pixel coordinates.\n */\n\nL.Bounds = function (a, b) { //(Point, Point) or Point[]\n\tif (!a) { return; }\n\n\tvar points = b ? [a, b] : a;\n\n\tfor (var i = 0, len = points.length; i < len; i++) {\n\t\tthis.extend(points[i]);\n\t}\n};\n\nL.Bounds.prototype = {\n\t// extend the bounds to contain the given point\n\textend: function (point) { // (Point)\n\t\tpoint = L.point(point);\n\n\t\tif (!this.min && !this.max) {\n\t\t\tthis.min = point.clone();\n\t\t\tthis.max = point.clone();\n\t\t} else {\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetCenter: function (round) { // (Boolean) -> Point\n\t\treturn new L.Point(\n\t\t        (this.min.x + this.max.x) / 2,\n\t\t        (this.min.y + this.max.y) / 2, round);\n\t},\n\n\tgetBottomLeft: function () { // -> Point\n\t\treturn new L.Point(this.min.x, this.max.y);\n\t},\n\n\tgetTopRight: function () { // -> Point\n\t\treturn new L.Point(this.max.x, this.min.y);\n\t},\n\n\tgetSize: function () {\n\t\treturn this.max.subtract(this.min);\n\t},\n\n\tcontains: function (obj) { // (Bounds) or (Point) -> Boolean\n\t\tvar min, max;\n\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {\n\t\t\tobj = L.point(obj);\n\t\t} else {\n\t\t\tobj = L.bounds(obj);\n\t\t}\n\n\t\tif (obj instanceof L.Bounds) {\n\t\t\tmin = obj.min;\n\t\t\tmax = obj.max;\n\t\t} else {\n\t\t\tmin = max = obj;\n\t\t}\n\n\t\treturn (min.x >= this.min.x) &&\n\t\t       (max.x <= this.max.x) &&\n\t\t       (min.y >= this.min.y) &&\n\t\t       (max.y <= this.max.y);\n\t},\n\n\tintersects: function (bounds) { // (Bounds) -> Boolean\n\t\tbounds = L.bounds(bounds);\n\n\t\tvar min = this.min,\n\t\t    max = this.max,\n\t\t    min2 = bounds.min,\n\t\t    max2 = bounds.max,\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\n\n\t\treturn xIntersects && yIntersects;\n\t},\n\n\tisValid: function () {\n\t\treturn !!(this.min && this.max);\n\t}\n};\n\nL.bounds = function (a, b) { // (Bounds) or (Point, Point) or (Point[])\n\tif (!a || a instanceof L.Bounds) {\n\t\treturn a;\n\t}\n\treturn new L.Bounds(a, b);\n};\n\n\n/*\n * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.\n */\n\nL.Transformation = function (a, b, c, d) {\n\tthis._a = a;\n\tthis._b = b;\n\tthis._c = c;\n\tthis._d = d;\n};\n\nL.Transformation.prototype = {\n\ttransform: function (point, scale) { // (Point, Number) -> Point\n\t\treturn this._transform(point.clone(), scale);\n\t},\n\n\t// destructive transform (faster)\n\t_transform: function (point, scale) {\n\t\tscale = scale || 1;\n\t\tpoint.x = scale * (this._a * point.x + this._b);\n\t\tpoint.y = scale * (this._c * point.y + this._d);\n\t\treturn point;\n\t},\n\n\tuntransform: function (point, scale) {\n\t\tscale = scale || 1;\n\t\treturn new L.Point(\n\t\t        (point.x / scale - this._b) / this._a,\n\t\t        (point.y / scale - this._d) / this._c);\n\t}\n};\n\n\n/*\n * L.DomUtil contains various utility functions for working with DOM.\n */\n\nL.DomUtil = {\n\tget: function (id) {\n\t\treturn typeof id === 'string' ? document.getElementById(id) : id;\n\t},\n\n\tgetStyle: function (el, style) {\n\n\t\tvar value = el.style[style] || (el.currentStyle && el.currentStyle[style]);\n\n\t\tif ((!value || value === 'auto') && document.defaultView) {\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);\n\t\t\tvalue = css ? css[style] : null;\n\t\t}\n\n\t\treturn value === 'auto' ? null : value;\n\t},\n\n\tcreate: function (tagName, className, container) {\n\n\t\tvar el = document.createElement(tagName);\n\t\tel.className = className;\n\n\t\tif (container) {\n\t\t\tcontainer.appendChild(el);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\tremove: function (el) {\n\t\tvar parent = el.parentNode;\n\t\tif (parent) {\n\t\t\tparent.removeChild(el);\n\t\t}\n\t},\n\n\tempty: function (el) {\n\t\twhile (el.firstChild) {\n\t\t\tel.removeChild(el.firstChild);\n\t\t}\n\t},\n\n\ttoFront: function (el) {\n\t\tel.parentNode.appendChild(el);\n\t},\n\n\ttoBack: function (el) {\n\t\tvar parent = el.parentNode;\n\t\tparent.insertBefore(el, parent.firstChild);\n\t},\n\n\thasClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\treturn el.classList.contains(name);\n\t\t}\n\t\tvar className = L.DomUtil.getClass(el);\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\n\t},\n\n\taddClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\tvar classes = L.Util.splitWords(name);\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {\n\t\t\t\tel.classList.add(classes[i]);\n\t\t\t}\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {\n\t\t\tvar className = L.DomUtil.getClass(el);\n\t\t\tL.DomUtil.setClass(el, (className ? className + ' ' : '') + name);\n\t\t}\n\t},\n\n\tremoveClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\tel.classList.remove(name);\n\t\t} else {\n\t\t\tL.DomUtil.setClass(el, L.Util.trim((' ' + L.DomUtil.getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\n\t\t}\n\t},\n\n\tsetClass: function (el, name) {\n\t\tif (el.className.baseVal === undefined) {\n\t\t\tel.className = name;\n\t\t} else {\n\t\t\t// in case of SVG element\n\t\t\tel.className.baseVal = name;\n\t\t}\n\t},\n\n\tgetClass: function (el) {\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\n\t},\n\n\tsetOpacity: function (el, value) {\n\n\t\tif ('opacity' in el.style) {\n\t\t\tel.style.opacity = value;\n\n\t\t} else if ('filter' in el.style) {\n\n\t\t\tvar filter = false,\n\t\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';\n\n\t\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\n\t\t\ttry {\n\t\t\t\tfilter = el.filters.item(filterName);\n\t\t\t} catch (e) {\n\t\t\t\t// don't set opacity to 1 if we haven't already set an opacity,\n\t\t\t\t// it isn't needed and breaks transparent pngs.\n\t\t\t\tif (value === 1) { return; }\n\t\t\t}\n\n\t\t\tvalue = Math.round(value * 100);\n\n\t\t\tif (filter) {\n\t\t\t\tfilter.Enabled = (value !== 100);\n\t\t\t\tfilter.Opacity = value;\n\t\t\t} else {\n\t\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\n\t\t\t}\n\t\t}\n\t},\n\n\ttestProp: function (props) {\n\n\t\tvar style = document.documentElement.style;\n\n\t\tfor (var i = 0; i < props.length; i++) {\n\t\t\tif (props[i] in style) {\n\t\t\t\treturn props[i];\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tsetTransform: function (el, offset, scale) {\n\t\tvar pos = offset || new L.Point(0, 0);\n\n\t\tel.style[L.DomUtil.TRANSFORM] =\n\t\t\t'translate3d(' + pos.x + 'px,' + pos.y + 'px' + ',0)' + (scale ? ' scale(' + scale + ')' : '');\n\t},\n\n\tsetPosition: function (el, point, no3d) { // (HTMLElement, Point[, Boolean])\n\n\t\t// jshint camelcase: false\n\t\tel._leaflet_pos = point;\n\n\t\tif (L.Browser.any3d && !no3d) {\n\t\t\tL.DomUtil.setTransform(el, point);\n\t\t} else {\n\t\t\tel.style.left = point.x + 'px';\n\t\t\tel.style.top = point.y + 'px';\n\t\t}\n\t},\n\n\tgetPosition: function (el) {\n\t\t// this method is only used for elements previously positioned using setPosition,\n\t\t// so it's safe to cache the position for performance\n\n\t\t// jshint camelcase: false\n\t\treturn el._leaflet_pos;\n\t}\n};\n\n\n(function () {\n\t// prefix style property names\n\n\tL.DomUtil.TRANSFORM = L.DomUtil.testProp(\n\t\t\t['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\n\n\n\t// webkitTransition comes first because some browser versions that drop vendor prefix don't do\n\t// the same for the transitionend event, in particular the Android 4.1 stock browser\n\n\tvar transition = L.DomUtil.TRANSITION = L.DomUtil.testProp(\n\t\t\t['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\n\n\tL.DomUtil.TRANSITION_END =\n\t\t\ttransition === 'webkitTransition' || transition === 'OTransition' ? transition + 'End' : 'transitionend';\n\n\n\tif ('onselectstart' in document) {\n\t\tL.DomUtil.disableTextSelection = function () {\n\t\t\tL.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);\n\t\t};\n\t\tL.DomUtil.enableTextSelection = function () {\n\t\t\tL.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);\n\t\t};\n\n\t} else {\n\t\tvar userSelectProperty = L.DomUtil.testProp(\n\t\t\t['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\n\n\t\tL.DomUtil.disableTextSelection = function () {\n\t\t\tif (userSelectProperty) {\n\t\t\t\tvar style = document.documentElement.style;\n\t\t\t\tthis._userSelect = style[userSelectProperty];\n\t\t\t\tstyle[userSelectProperty] = 'none';\n\t\t\t}\n\t\t};\n\t\tL.DomUtil.enableTextSelection = function () {\n\t\t\tif (userSelectProperty) {\n\t\t\t\tdocument.documentElement.style[userSelectProperty] = this._userSelect;\n\t\t\t\tdelete this._userSelect;\n\t\t\t}\n\t\t};\n\t}\n\n\tL.DomUtil.disableImageDrag = function () {\n\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);\n\t};\n\tL.DomUtil.enableImageDrag = function () {\n\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);\n\t};\n})();\n\n\n/*\n * L.LatLng represents a geographical point with latitude and longitude coordinates.\n */\n\nL.LatLng = function (lat, lng, alt) {\n\tif (isNaN(lat) || isNaN(lng)) {\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\n\t}\n\n\tthis.lat = +lat;\n\tthis.lng = +lng;\n\n\tif (alt !== undefined) {\n\t\tthis.alt = +alt;\n\t}\n};\n\nL.LatLng.prototype = {\n\tequals: function (obj, maxMargin) {\n\t\tif (!obj) { return false; }\n\n\t\tobj = L.latLng(obj);\n\n\t\tvar margin = Math.max(\n\t\t        Math.abs(this.lat - obj.lat),\n\t\t        Math.abs(this.lng - obj.lng));\n\n\t\treturn margin <= (maxMargin === undefined ? 1.0E-9 : maxMargin);\n\t},\n\n\ttoString: function (precision) {\n\t\treturn 'LatLng(' +\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +\n\t\t        L.Util.formatNum(this.lng, precision) + ')';\n\t},\n\n\tdistanceTo: function (other) {\n\t\treturn L.CRS.Earth.distance(this, L.latLng(other));\n\t},\n\n\twrap: function () {\n\t\treturn L.CRS.Earth.wrapLatLng(this);\n\t}\n};\n\n\n// constructs LatLng with different signatures\n// (LatLng) or ([Number, Number]) or (Number, Number) or (Object)\n\nL.latLng = function (a, b) {\n\tif (a instanceof L.LatLng) {\n\t\treturn a;\n\t}\n\tif (L.Util.isArray(a) && typeof a[0] !== 'object') {\n\t\tif (a.length === 3) {\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);\n\t\t}\n\t\treturn new L.LatLng(a[0], a[1]);\n\t}\n\tif (a === undefined || a === null) {\n\t\treturn a;\n\t}\n\tif (typeof a === 'object' && 'lat' in a) {\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon);\n\t}\n\tif (b === undefined) {\n\t\treturn null;\n\t}\n\treturn new L.LatLng(a, b);\n};\n\n\n\n/*\n * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.\n */\n\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])\n\tif (!southWest) { return; }\n\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;\n\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\tthis.extend(latlngs[i]);\n\t}\n};\n\nL.LatLngBounds.prototype = {\n\n\t// extend the bounds to contain the given point or bounds\n\textend: function (obj) { // (LatLng) or (LatLngBounds)\n\t\tvar sw = this._southWest,\n\t\t\tne = this._northEast,\n\t\t\tsw2, ne2;\n\n\t\tif (obj instanceof L.LatLng) {\n\t\t\tsw2 = obj;\n\t\t\tne2 = obj;\n\n\t\t} else if (obj instanceof L.LatLngBounds) {\n\t\t\tsw2 = obj._southWest;\n\t\t\tne2 = obj._northEast;\n\n\t\t\tif (!sw2 || !ne2) { return this; }\n\n\t\t} else {\n\t\t\treturn obj ? this.extend(L.latLng(obj) || L.latLngBounds(obj)) : this;\n\t\t}\n\n\t\tif (!sw && !ne) {\n\t\t\tthis._southWest = new L.LatLng(sw2.lat, sw2.lng);\n\t\t\tthis._northEast = new L.LatLng(ne2.lat, ne2.lng);\n\t\t} else {\n\t\t\tsw.lat = Math.min(sw2.lat, sw.lat);\n\t\t\tsw.lng = Math.min(sw2.lng, sw.lng);\n\t\t\tne.lat = Math.max(ne2.lat, ne.lat);\n\t\t\tne.lng = Math.max(ne2.lng, ne.lng);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// extend the bounds by a percentage\n\tpad: function (bufferRatio) { // (Number) -> LatLngBounds\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\n\n\t\treturn new L.LatLngBounds(\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\n\t},\n\n\tgetCenter: function () { // -> LatLng\n\t\treturn new L.LatLng(\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\n\t},\n\n\tgetSouthWest: function () {\n\t\treturn this._southWest;\n\t},\n\n\tgetNorthEast: function () {\n\t\treturn this._northEast;\n\t},\n\n\tgetNorthWest: function () {\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());\n\t},\n\n\tgetSouthEast: function () {\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());\n\t},\n\n\tgetWest: function () {\n\t\treturn this._southWest.lng;\n\t},\n\n\tgetSouth: function () {\n\t\treturn this._southWest.lat;\n\t},\n\n\tgetEast: function () {\n\t\treturn this._northEast.lng;\n\t},\n\n\tgetNorth: function () {\n\t\treturn this._northEast.lat;\n\t},\n\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {\n\t\t\tobj = L.latLng(obj);\n\t\t} else {\n\t\t\tobj = L.latLngBounds(obj);\n\t\t}\n\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    sw2, ne2;\n\n\t\tif (obj instanceof L.LatLngBounds) {\n\t\t\tsw2 = obj.getSouthWest();\n\t\t\tne2 = obj.getNorthEast();\n\t\t} else {\n\t\t\tsw2 = ne2 = obj;\n\t\t}\n\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\n\t},\n\n\tintersects: function (bounds) { // (LatLngBounds)\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    sw2 = bounds.getSouthWest(),\n\t\t    ne2 = bounds.getNorthEast(),\n\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\n\n\t\treturn latIntersects && lngIntersects;\n\t},\n\n\ttoBBoxString: function () {\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\n\t},\n\n\tequals: function (bounds) { // (LatLngBounds)\n\t\tif (!bounds) { return false; }\n\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&\n\t\t       this._northEast.equals(bounds.getNorthEast());\n\t},\n\n\tisValid: function () {\n\t\treturn !!(this._southWest && this._northEast);\n\t}\n};\n\n//TODO International date line?\n\nL.latLngBounds = function (a, b) { // (LatLngBounds) or (LatLng, LatLng)\n\tif (!a || a instanceof L.LatLngBounds) {\n\t\treturn a;\n\t}\n\treturn new L.LatLngBounds(a, b);\n};\n\n\n/*\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.\n */\n\nL.Projection = {};\n\nL.Projection.LonLat = {\n\tproject: function (latlng) {\n\t\treturn new L.Point(latlng.lng, latlng.lat);\n\t},\n\n\tunproject: function (point) {\n\t\treturn new L.LatLng(point.y, point.x);\n\t},\n\n\tbounds: L.bounds([-180, -90], [180, 90])\n};\n\n\n/*\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.\n */\n\nL.Projection.SphericalMercator = {\n\n\tR: 6378137,\n\n\tproject: function (latlng) {\n\t\tvar d = Math.PI / 180,\n\t\t    max = 1 - 1E-15,\n\t\t    sin = Math.max(Math.min(Math.sin(latlng.lat * d), max), -max);\n\n\t\treturn new L.Point(\n\t\t\t\tthis.R * latlng.lng * d,\n\t\t\t\tthis.R * Math.log((1 + sin) / (1 - sin)) / 2);\n\t},\n\n\tunproject: function (point) {\n\t\tvar d = 180 / Math.PI;\n\n\t\treturn new L.LatLng(\n\t\t\t(2 * Math.atan(Math.exp(point.y / this.R)) - (Math.PI / 2)) * d,\n\t\t\tpoint.x * d / this.R);\n\t},\n\n\tbounds: (function () {\n\t\tvar d = 6378137 * Math.PI;\n\t\treturn L.bounds([-d, -d], [d, d]);\n\t})()\n};\n\n\n/*\n * L.CRS is the base object for all defined CRS (Coordinate Reference Systems) in Leaflet.\n */\n\nL.CRS = {\n\t// converts geo coords to pixel ones\n\tlatLngToPoint: function (latlng, zoom) {\n\t\tvar projectedPoint = this.projection.project(latlng),\n\t\t    scale = this.scale(zoom);\n\n\t\treturn this.transformation._transform(projectedPoint, scale);\n\t},\n\n\t// converts pixel coords to geo coords\n\tpointToLatLng: function (point, zoom) {\n\t\tvar scale = this.scale(zoom),\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\n\n\t\treturn this.projection.unproject(untransformedPoint);\n\t},\n\n\t// converts geo coords to projection-specific coords (e.g. in meters)\n\tproject: function (latlng) {\n\t\treturn this.projection.project(latlng);\n\t},\n\n\t// converts projected coords to geo coords\n\tunproject: function (point) {\n\t\treturn this.projection.unproject(point);\n\t},\n\n\t// defines how the world scales with zoom\n\tscale: function (zoom) {\n\t\treturn 256 * Math.pow(2, zoom);\n\t},\n\n\t// returns the bounds of the world in projected coords if applicable\n\tgetProjectedBounds: function (zoom) {\n\t\tif (this.infinite) { return null; }\n\n\t\tvar b = this.projection.bounds,\n\t\t    s = this.scale(zoom),\n\t\t    min = this.transformation.transform(b.min, s),\n\t\t    max = this.transformation.transform(b.max, s);\n\n\t\treturn L.bounds(min, max);\n\t},\n\n\t// whether a coordinate axis wraps in a given range (e.g. longitude from -180 to 180); depends on CRS\n\t// wrapLng: [min, max],\n\t// wrapLat: [min, max],\n\n\t// if true, the coordinate space will be unbounded (infinite in all directions)\n\t// infinite: false,\n\n\t// wraps geo coords in certain ranges if applicable\n\twrapLatLng: function (latlng) {\n\t\tvar lng = this.wrapLng ? L.Util.wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng,\n\t\t    lat = this.wrapLat ? L.Util.wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat;\n\n\t\treturn L.latLng(lat, lng);\n\t}\n};\n\n\n/*\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.\n */\n\nL.CRS.Simple = L.extend({}, L.CRS, {\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t},\n\n\tdistance: function (latlng1, latlng2) {\n\t\tvar dx = latlng2.lng - latlng1.lng,\n\t\t    dy = latlng2.lat - latlng1.lat;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\n\tinfinite: true\n});\n\n\n/*\n * L.CRS.Earth is the base class for all CRS representing Earth.\n */\n\nL.CRS.Earth = L.extend({}, L.CRS, {\n\twrapLng: [-180, 180],\n\n\tR: 6378137,\n\n\t// distane between two geographical points using spherical law of cosines approximation\n\tdistance: function (latlng1, latlng2) {\n\t\tvar rad = Math.PI / 180,\n\t\t    lat1 = latlng1.lat * rad,\n\t\t    lat2 = latlng2.lat * rad,\n\t\t    a = Math.sin(lat1) * Math.sin(lat2) +\n\t\t        Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlng2.lng - latlng1.lng) * rad);\n\n\t\treturn this.R * Math.acos(Math.min(a, 1));\n\t}\n});\n\n\n/*\n * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping and is used by Leaflet by default.\n */\n\nL.CRS.EPSG3857 = L.extend({}, L.CRS.Earth, {\n\tcode: 'EPSG:3857',\n\tprojection: L.Projection.SphericalMercator,\n\n\ttransformation: (function () {\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.SphericalMercator.R);\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\n\t}())\n});\n\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {\n\tcode: 'EPSG:900913'\n});\n\n\n/*\n * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\n */\n\nL.CRS.EPSG4326 = L.extend({}, L.CRS.Earth, {\n\tcode: 'EPSG:4326',\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1 / 180, 1, -1 / 180, 0.5)\n});\n\n\n/*\n * L.Map is the central class of the API - it is used to create a map.\n */\n\nL.Map = L.Evented.extend({\n\n\toptions: {\n\t\tcrs: L.CRS.EPSG3857,\n\n\t\t/*\n\t\tcenter: LatLng,\n\t\tzoom: Number,\n\t\tlayers: Array,\n\t\t*/\n\n\t\tfadeAnimation: true,\n\t\ttrackResize: true,\n\t\tmarkerZoomAnimation: true\n\t},\n\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\n\t\toptions = L.setOptions(this, options);\n\n\t\tthis._initContainer(id);\n\t\tthis._initLayout();\n\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\n\t\tthis._onResize = L.bind(this._onResize, this);\n\n\t\tthis._initEvents();\n\n\t\tif (options.maxBounds) {\n\t\t\tthis.setMaxBounds(options.maxBounds);\n\t\t}\n\n\t\tif (options.zoom !== undefined) {\n\t\t\tthis._zoom = this._limitZoom(options.zoom);\n\t\t}\n\n\t\tif (options.center && options.zoom !== undefined) {\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});\n\t\t}\n\n\t\tthis._handlers = [];\n\t\tthis._layers = {};\n\t\tthis._zoomBoundLayers = {};\n\n\t\tthis.callInitHooks();\n\n\t\tthis._addLayers(this.options.layers);\n\t},\n\n\n\t// public methods that modify map state\n\n\t// replaced by animation-powered implementation in Map.PanAnimation.js\n\tsetView: function (center, zoom) {\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;\n\t\tthis._resetView(L.latLng(center), this._limitZoom(zoom));\n\t\treturn this;\n\t},\n\n\tsetZoom: function (zoom, options) {\n\t\tif (!this._loaded) {\n\t\t\tthis._zoom = this._limitZoom(zoom);\n\t\t\treturn this;\n\t\t}\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\n\t},\n\n\tzoomIn: function (delta, options) {\n\t\treturn this.setZoom(this._zoom + (delta || 1), options);\n\t},\n\n\tzoomOut: function (delta, options) {\n\t\treturn this.setZoom(this._zoom - (delta || 1), options);\n\t},\n\n\tsetZoomAround: function (latlng, zoom, options) {\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    viewHalf = this.getSize().divideBy(2),\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),\n\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\n\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\n\t},\n\n\tfitBounds: function (bounds, options) {\n\n\t\toptions = options || {};\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);\n\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),\n\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));\n\n\t\tzoom = options.maxZoom ? Math.min(options.maxZoom, zoom) : zoom;\n\n\t\tvar paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\n\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\n\n\t\treturn this.setView(center, zoom, options);\n\t},\n\n\tfitWorld: function (options) {\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\n\t},\n\n\tpanTo: function (center, options) { // (LatLng)\n\t\treturn this.setView(center, this._zoom, {pan: options});\n\t},\n\n\tpanBy: function (offset) { // (Point)\n\t\t// replaced with animated panBy in Map.PanAnimation.js\n\t\tthis.fire('movestart');\n\n\t\tthis._rawPanBy(L.point(offset));\n\n\t\tthis.fire('move');\n\t\treturn this.fire('moveend');\n\t},\n\n\tsetMaxBounds: function (bounds) {\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tthis.options.maxBounds = bounds;\n\n\t\tif (!bounds) {\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds);\n\t\t}\n\n\t\tif (this._loaded) {\n\t\t\tthis._panInsideMaxBounds();\n\t\t}\n\n\t\treturn this.on('moveend', this._panInsideMaxBounds);\n\t},\n\n\tpanInsideBounds: function (bounds, options) {\n\t\tvar center = this.getCenter(),\n\t\t\tnewCenter = this._limitCenter(center, this._zoom, bounds);\n\n\t\tif (center.equals(newCenter)) { return this; }\n\n\t\treturn this.panTo(newCenter, options);\n\t},\n\n\tinvalidateSize: function (options) {\n\t\tif (!this._loaded) { return this; }\n\n\t\toptions = L.extend({\n\t\t\tanimate: false,\n\t\t\tpan: true\n\t\t}, options === true ? {animate: true} : options);\n\n\t\tvar oldSize = this.getSize();\n\t\tthis._sizeChanged = true;\n\t\tthis._initialCenter = null;\n\n\t\tvar newSize = this.getSize(),\n\t\t    oldCenter = oldSize.divideBy(2).round(),\n\t\t    newCenter = newSize.divideBy(2).round(),\n\t\t    offset = oldCenter.subtract(newCenter);\n\n\t\tif (!offset.x && !offset.y) { return this; }\n\n\t\tif (options.animate && options.pan) {\n\t\t\tthis.panBy(offset);\n\n\t\t} else {\n\t\t\tif (options.pan) {\n\t\t\t\tthis._rawPanBy(offset);\n\t\t\t}\n\n\t\t\tthis.fire('move');\n\n\t\t\tif (options.debounceMoveend) {\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);\n\t\t\t} else {\n\t\t\t\tthis.fire('moveend');\n\t\t\t}\n\t\t}\n\n\t\treturn this.fire('resize', {\n\t\t\toldSize: oldSize,\n\t\t\tnewSize: newSize\n\t\t});\n\t},\n\n\t// TODO handler.addTo\n\taddHandler: function (name, HandlerClass) {\n\t\tif (!HandlerClass) { return this; }\n\n\t\tvar handler = this[name] = new HandlerClass(this);\n\n\t\tthis._handlers.push(handler);\n\n\t\tif (this.options[name]) {\n\t\t\thandler.enable();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremove: function () {\n\n\t\tthis._initEvents('off');\n\n\t\ttry {\n\t\t\t// throws error in IE6-8\n\t\t\tdelete this._container._leaflet;\n\t\t} catch (e) {\n\t\t\tthis._container._leaflet = undefined;\n\t\t}\n\n\t\tL.DomUtil.remove(this._mapPane);\n\n\t\tif (this._clearControlPos) {\n\t\t\tthis._clearControlPos();\n\t\t}\n\n\t\tthis._clearHandlers();\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('unload');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tcreatePane: function (name, container) {\n\t\tvar className = 'leaflet-pane' + (name ? ' leaflet-' + name.replace('Pane', '') + '-pane' : ''),\n\t\t    pane = L.DomUtil.create('div', className, container || this._mapPane);\n\n\t\tif (name) {\n\t\t\tthis._panes[name] = pane;\n\t\t}\n\t\treturn pane;\n\t},\n\n\n\t// public methods for getting map state\n\n\tgetCenter: function () { // (Boolean) -> LatLng\n\t\tthis._checkIfLoaded();\n\n\t\tif (this._initialCenter && !this._moved()) {\n\t\t\treturn this._initialCenter;\n\t\t}\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\n\t},\n\n\tgetZoom: function () {\n\t\treturn this._zoom;\n\t},\n\n\tgetBounds: function () {\n\t\tvar bounds = this.getPixelBounds(),\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\n\t\t    ne = this.unproject(bounds.getTopRight());\n\n\t\treturn new L.LatLngBounds(sw, ne);\n\t},\n\n\tgetMinZoom: function () {\n\t\treturn this.options.minZoom === undefined ? this._layersMinZoom || 0 : this.options.minZoom;\n\t},\n\n\tgetMaxZoom: function () {\n\t\treturn this.options.maxZoom === undefined ?\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\n\t\t\tthis.options.maxZoom;\n\t},\n\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tvar zoom = this.getMinZoom() - (inside ? 1 : 0),\n\t\t    maxZoom = this.getMaxZoom(),\n\t\t    size = this.getSize(),\n\n\t\t    nw = bounds.getNorthWest(),\n\t\t    se = bounds.getSouthEast(),\n\n\t\t    zoomNotFound = true,\n\t\t    boundsSize;\n\n\t\tpadding = L.point(padding || [0, 0]);\n\n\t\tdo {\n\t\t\tzoom++;\n\t\t\tboundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)).add(padding);\n\t\t\tzoomNotFound = !inside ? size.contains(boundsSize) : boundsSize.x < size.x || boundsSize.y < size.y;\n\n\t\t} while (zoomNotFound && zoom <= maxZoom);\n\n\t\tif (zoomNotFound && inside) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn inside ? zoom : zoom - 1;\n\t},\n\n\tgetSize: function () {\n\t\tif (!this._size || this._sizeChanged) {\n\t\t\tthis._size = new L.Point(\n\t\t\t\tthis._container.clientWidth,\n\t\t\t\tthis._container.clientHeight);\n\n\t\t\tthis._sizeChanged = false;\n\t\t}\n\t\treturn this._size.clone();\n\t},\n\n\tgetPixelBounds: function () {\n\t\tvar topLeftPoint = this._getTopLeftPoint();\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\n\t},\n\n\tgetPixelOrigin: function () {\n\t\tthis._checkIfLoaded();\n\t\treturn this._initialTopLeftPoint;\n\t},\n\n\tgetPixelWorldBounds: function () {\n\t\treturn this.options.crs.getProjectedBounds(this.getZoom());\n\t},\n\n\tgetPane: function (pane) {\n\t\treturn typeof pane === 'string' ? this._panes[pane] : pane;\n\t},\n\n\tgetPanes: function () {\n\t\treturn this._panes;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\n\t// TODO replace with universal implementation after refactoring projections\n\n\tgetZoomScale: function (toZoom) {\n\t\tvar crs = this.options.crs;\n\t\treturn crs.scale(toZoom) / crs.scale(this._zoom);\n\t},\n\n\tgetScaleZoom: function (scale) {\n\t\treturn this._zoom + (Math.log(scale) / Math.LN2);\n\t},\n\n\n\t// conversion methods\n\n\tproject: function (latlng, zoom) { // (LatLng[, Number]) -> Point\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);\n\t},\n\n\tunproject: function (point, zoom) { // (Point[, Number]) -> LatLng\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);\n\t},\n\n\tlayerPointToLatLng: function (point) { // (Point)\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());\n\t\treturn this.unproject(projectedPoint);\n\t},\n\n\tlatLngToLayerPoint: function (latlng) { // (LatLng)\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\n\t},\n\n\twrapLatLng: function (latlng) {\n\t\treturn this.options.crs.wrapLatLng(L.latLng(latlng));\n\t},\n\n\tdistance: function (latlng1, latlng2) {\n\t\treturn this.options.crs.distance(L.latLng(latlng1), L.latLng(latlng2));\n\t},\n\n\tcontainerPointToLayerPoint: function (point) { // (Point)\n\t\treturn L.point(point).subtract(this._getMapPanePos());\n\t},\n\n\tlayerPointToContainerPoint: function (point) { // (Point)\n\t\treturn L.point(point).add(this._getMapPanePos());\n\t},\n\n\tcontainerPointToLatLng: function (point) {\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));\n\t\treturn this.layerPointToLatLng(layerPoint);\n\t},\n\n\tlatLngToContainerPoint: function (latlng) {\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));\n\t},\n\n\tmouseEventToContainerPoint: function (e) { // (MouseEvent)\n\t\treturn L.DomEvent.getMousePosition(e, this._container);\n\t},\n\n\tmouseEventToLayerPoint: function (e) { // (MouseEvent)\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\n\t},\n\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\n\t},\n\n\n\t// map initialization methods\n\n\t_initContainer: function (id) {\n\t\tvar container = this._container = L.DomUtil.get(id);\n\n\t\tif (!container) {\n\t\t\tthrow new Error('Map container not found.');\n\t\t} else if (container._leaflet) {\n\t\t\tthrow new Error('Map container is already initialized.');\n\t\t}\n\n\t\tcontainer._leaflet = true;\n\t},\n\n\t_initLayout: function () {\n\t\tvar container = this._container;\n\n\t\tthis._fadeAnimated = this.options.fadeAnimation && L.Browser.any3d;\n\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +\n\t\t\t(L.Browser.safari ? ' leaflet-safari' : '') +\n\t\t\t(this._fadeAnimated ? ' leaflet-fade-anim' : ''));\n\n\t\tvar position = L.DomUtil.getStyle(container, 'position');\n\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\n\t\t\tcontainer.style.position = 'relative';\n\t\t}\n\n\t\tthis._initPanes();\n\n\t\tif (this._initControlPos) {\n\t\t\tthis._initControlPos();\n\t\t}\n\t},\n\n\t_initPanes: function () {\n\t\tvar panes = this._panes = {};\n\n\t\tthis._mapPane = this.createPane('mapPane', this._container);\n\n\t\tthis.createPane('tilePane');\n\t\tthis.createPane('shadowPane');\n\t\tthis.createPane('overlayPane');\n\t\tthis.createPane('markerPane');\n\t\tthis.createPane('popupPane');\n\n\t\tif (!this.options.markerZoomAnimation) {\n\t\t\tL.DomUtil.addClass(panes.markerPane, 'leaflet-zoom-hide');\n\t\t\tL.DomUtil.addClass(panes.shadowPane, 'leaflet-zoom-hide');\n\t\t}\n\t},\n\n\n\t// private methods that modify map state\n\n\t_resetView: function (center, zoom, preserveMapOffset, afterZoomAnim) {\n\n\t\tvar zoomChanged = (this._zoom !== zoom);\n\n\t\tif (!afterZoomAnim) {\n\t\t\tthis.fire('movestart');\n\n\t\t\tif (zoomChanged) {\n\t\t\t\tthis.fire('zoomstart');\n\t\t\t}\n\t\t}\n\n\t\tthis._zoom = zoom;\n\t\tthis._initialCenter = center;\n\n\t\tthis._initialTopLeftPoint = this._getNewTopLeftPoint(center);\n\n\t\tif (!preserveMapOffset) {\n\t\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\n\t\t} else {\n\t\t\tthis._initialTopLeftPoint._add(this._getMapPanePos());\n\t\t}\n\n\t\tvar loading = !this._loaded;\n\t\tthis._loaded = true;\n\n\t\tthis.fire('viewreset', {hard: !preserveMapOffset});\n\n\t\tif (loading) {\n\t\t\tthis.fire('load');\n\t\t}\n\n\t\tthis.fire('move');\n\n\t\tif (zoomChanged || afterZoomAnim) {\n\t\t\tthis.fire('zoomend');\n\t\t}\n\n\t\tthis.fire('moveend', {hard: !preserveMapOffset});\n\t},\n\n\t_rawPanBy: function (offset) {\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));\n\t},\n\n\t_getZoomSpan: function () {\n\t\treturn this.getMaxZoom() - this.getMinZoom();\n\t},\n\n\t_panInsideMaxBounds: function () {\n\t\tthis.panInsideBounds(this.options.maxBounds);\n\t},\n\n\t_checkIfLoaded: function () {\n\t\tif (!this._loaded) {\n\t\t\tthrow new Error('Set map center and zoom first.');\n\t\t}\n\t},\n\n\t// map events\n\n\t_initEvents: function (onOff) {\n\t\tif (!L.DomEvent) { return; }\n\n\t\tonOff = onOff || 'on';\n\n\t\tL.DomEvent[onOff](this._container,\n\t\t\t'click dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu',\n\t\t\tthis._handleMouseEvent, this);\n\n\t\tif (this.options.trackResize) {\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);\n\t\t}\n\t},\n\n\t_onResize: function () {\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this, false, this._container);\n\t},\n\n\t_handleMouseEvent: function (e) {\n\t\tif (!this._loaded) { return; }\n\n\t\tthis._fireMouseEvent(this, e,\n\t\t\t\te.type === 'mouseenter' ? 'mouseover' :\n\t\t\t\te.type === 'mouseleave' ? 'mouseout' : e.type);\n\t},\n\n\t_fireMouseEvent: function (obj, e, type, propagate, latlng) {\n\t\ttype = type || e.type;\n\n\t\tif (L.DomEvent._skipped(e)) { return; }\n\t\tif (type === 'click') {\n\t\t\tvar draggableObj = obj.options.draggable === true ? obj : this;\n\t\t\tif (!e._simulated && ((draggableObj.dragging && draggableObj.dragging.moved()) ||\n\t\t\t                      (this.boxZoom && this.boxZoom.moved()))) { return; }\n\t\t\tobj.fire('preclick');\n\t\t}\n\n\t\tif (!obj.listens(type, propagate)) { return; }\n\n\t\tif (type === 'contextmenu') {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\t\tif (type === 'click' || type === 'dblclick' || type === 'contextmenu') {\n\t\t\tL.DomEvent.stopPropagation(e);\n\t\t}\n\n\t\tvar data = {\n\t\t\toriginalEvent: e,\n\t\t\tcontainerPoint: this.mouseEventToContainerPoint(e)\n\t\t};\n\n\t\tdata.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\n\t\tdata.latlng = latlng || this.layerPointToLatLng(data.layerPoint);\n\n\t\tobj.fire(type, data, propagate);\n\t},\n\n\t_clearHandlers: function () {\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\n\t\t\tthis._handlers[i].disable();\n\t\t}\n\t},\n\n\twhenReady: function (callback, context) {\n\t\tif (this._loaded) {\n\t\t\tcallback.call(context || this, {target: this});\n\t\t} else {\n\t\t\tthis.on('load', callback, context);\n\t\t}\n\t\treturn this;\n\t},\n\n\n\t// private methods for getting map state\n\n\t_getMapPanePos: function () {\n\t\treturn L.DomUtil.getPosition(this._mapPane);\n\t},\n\n\t_moved: function () {\n\t\tvar pos = this._getMapPanePos();\n\t\treturn pos && !pos.equals([0, 0]);\n\t},\n\n\t_getTopLeftPoint: function () {\n\t\treturn this.getPixelOrigin().subtract(this._getMapPanePos());\n\t},\n\n\t_getNewTopLeftPoint: function (center, zoom) {\n\t\tvar viewHalf = this.getSize()._divideBy(2);\n\t\t// TODO round on display, not calculation to increase precision?\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._round();\n\t},\n\n\t_latLngToNewLayerPoint: function (latlng, newZoom, newCenter) {\n\t\tvar topLeft = this._getNewTopLeftPoint(newCenter, newZoom).add(this._getMapPanePos());\n\t\treturn this.project(latlng, newZoom)._subtract(topLeft);\n\t},\n\n\t// layer point of the current center\n\t_getCenterLayerPoint: function () {\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\n\t},\n\n\t// offset of the specified place to the current center in pixels\n\t_getCenterOffset: function (latlng) {\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\n\t},\n\n\t// adjust center for view to get inside bounds\n\t_limitCenter: function (center, zoom, bounds) {\n\n\t\tif (!bounds) { return center; }\n\n\t\tvar centerPoint = this.project(center, zoom),\n\t\t    viewHalf = this.getSize().divideBy(2),\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\n\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\n\t},\n\n\t// adjust offset for view to get inside bounds\n\t_limitOffset: function (offset, bounds) {\n\t\tif (!bounds) { return offset; }\n\n\t\tvar viewBounds = this.getPixelBounds(),\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\n\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\n\t},\n\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\n\t\tvar nwOffset = this.project(maxBounds.getNorthWest(), zoom).subtract(pxBounds.min),\n\t\t    seOffset = this.project(maxBounds.getSouthEast(), zoom).subtract(pxBounds.max),\n\n\t\t    dx = this._rebound(nwOffset.x, -seOffset.x),\n\t\t    dy = this._rebound(nwOffset.y, -seOffset.y);\n\n\t\treturn new L.Point(dx, dy);\n\t},\n\n\t_rebound: function (left, right) {\n\t\treturn left + right > 0 ?\n\t\t\tMath.round(left - right) / 2 :\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\n\t},\n\n\t_limitZoom: function (zoom) {\n\t\tvar min = this.getMinZoom(),\n\t\t    max = this.getMaxZoom();\n\n\t\treturn Math.max(min, Math.min(max, zoom));\n\t}\n});\n\nL.map = function (id, options) {\n\treturn new L.Map(id, options);\n};\n\n\n\nL.Layer = L.Evented.extend({\n\n\toptions: {\n\t\tpane: 'overlayPane'\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\tremove: function () {\n\t\treturn this.removeFrom(this._map || this._mapToAdd);\n\t},\n\n\tremoveFrom: function (obj) {\n\t\tif (obj) {\n\t\t\tobj.removeLayer(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetPane: function (name) {\n\t\treturn this._map.getPane(name ? (this.options[name] || name) : this.options.pane);\n\t},\n\n\t_layerAdd: function (e) {\n\t\tvar map = e.target;\n\n\t\t// check in case layer gets added and then removed before the map is ready\n\t\tif (!map.hasLayer(this)) { return; }\n\n\t\tthis._map = map;\n\t\tthis._zoomAnimated = map._zoomAnimated;\n\n\t\tthis.onAdd(map);\n\n\t\tif (this.getAttribution && this._map.attributionControl) {\n\t\t\tthis._map.attributionControl.addAttribution(this.getAttribution());\n\t\t}\n\n\t\tif (this.getEvents) {\n\t\t\tmap.on(this.getEvents(), this);\n\t\t}\n\n\t\tthis.fire('add');\n\t\tmap.fire('layeradd', {layer: this});\n\t}\n});\n\n\nL.Map.include({\n\taddLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\t\tif (this._layers[id]) { return layer; }\n\t\tthis._layers[id] = layer;\n\n\t\tlayer._mapToAdd = this;\n\n\t\tif (layer.beforeAdd) {\n\t\t\tlayer.beforeAdd(this);\n\t\t}\n\n\t\tthis.whenReady(layer._layerAdd, layer);\n\n\t\treturn this;\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (!this._layers[id]) { return this; }\n\n\t\tif (this._loaded) {\n\t\t\tlayer.onRemove(this);\n\t\t}\n\n\t\tif (layer.getAttribution && this.attributionControl) {\n\t\t\tthis.attributionControl.removeAttribution(layer.getAttribution());\n\t\t}\n\n\t\tif (layer.getEvents) {\n\t\t\tthis.off(layer.getEvents(), layer);\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('layerremove', {layer: layer});\n\t\t\tlayer.fire('remove');\n\t\t}\n\n\t\tlayer._map = layer._mapToAdd = null;\n\n\t\treturn this;\n\t},\n\n\thasLayer: function (layer) {\n\t\treturn !!layer && (L.stamp(layer) in this._layers);\n\t},\n\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_addLayers: function (layers) {\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];\n\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\n\t\t\tthis.addLayer(layers[i]);\n\t\t}\n\t},\n\n\t_addZoomLimit: function (layer) {\n\t\tif (isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {\n\t\t\tthis._zoomBoundLayers[L.stamp(layer)] = layer;\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_removeZoomLimit: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (this._zoomBoundLayers[id]) {\n\t\t\tdelete this._zoomBoundLayers[id];\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_updateZoomLevels: function () {\n\t\tvar minZoom = Infinity,\n\t\t\tmaxZoom = -Infinity,\n\t\t\toldZoomSpan = this._getZoomSpan();\n\n\t\tfor (var i in this._zoomBoundLayers) {\n\t\t\tvar options = this._zoomBoundLayers[i].options;\n\n\t\t\tminZoom = options.minZoom === undefined ? minZoom : Math.min(minZoom, options.minZoom);\n\t\t\tmaxZoom = options.maxZoom === undefined ? maxZoom : Math.max(maxZoom, options.maxZoom);\n\t\t}\n\n\t\tthis._layersMaxZoom = maxZoom === -Infinity ? undefined : maxZoom;\n\t\tthis._layersMinZoom = minZoom === Infinity ? undefined : minZoom;\n\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\n\t\t\tthis.fire('zoomlevelschange');\n\t\t}\n\t}\n});\n\n\n/*\n * Mercator projection that takes into account that the Earth is not a perfect sphere.\n * Less popular than spherical mercator; used by projections like EPSG:3395.\n */\n\nL.Projection.Mercator = {\n\tR: 6378137,\n\tR_MINOR: 6356752.314245179,\n\n\tbounds: L.bounds([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),\n\n\tproject: function (latlng) {\n\t\tvar d = Math.PI / 180,\n\t\t    r = this.R,\n\t\t    y = latlng.lat * d,\n\t\t    tmp = this.R_MINOR / r,\n\t\t    e = Math.sqrt(1 - tmp * tmp),\n\t\t    con = e * Math.sin(y);\n\n\t\tvar ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\n\t\ty = -r * Math.log(Math.max(ts, 1E-10));\n\n\t\treturn new L.Point(latlng.lng * d * r, y);\n\t},\n\n\tunproject: function (point) {\n\t\tvar d = 180 / Math.PI,\n\t\t    r = this.R,\n\t\t    tmp = this.R_MINOR / r,\n\t\t    e = Math.sqrt(1 - tmp * tmp),\n\t\t    ts = Math.exp(-point.y / r),\n\t\t    phi = Math.PI / 2 - 2 * Math.atan(ts);\n\n\t\tfor (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\n\t\t\tcon = e * Math.sin(phi);\n\t\t\tcon = Math.pow((1 - con) / (1 + con), e / 2);\n\t\t\tdphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\n\t\t\tphi += dphi;\n\t\t}\n\n\t\treturn new L.LatLng(phi * d, point.x * d / r);\n\t}\n};\n\n\n/*\n * L.CRS.EPSG3857 (World Mercator) CRS implementation.\n */\n\nL.CRS.EPSG3395 = L.extend({}, L.CRS.Earth, {\n\tcode: 'EPSG:3395',\n\tprojection: L.Projection.Mercator,\n\n\ttransformation: (function () {\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.Mercator.R);\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\n\t}())\n});\n\n\n/*\n * L.GridLayer is used as base class for grid-like layers like TileLayer.\n */\n\nL.GridLayer = L.Layer.extend({\n\n\toptions: {\n\t\tpane: 'tilePane',\n\n\t\ttileSize: 256,\n\t\topacity: 1,\n\n\t\tunloadInvisibleTiles: L.Browser.mobile,\n\t\tupdateWhenIdle: L.Browser.mobile,\n\t\tupdateInterval: 150\n\n\t\t/*\n\t\tminZoom: <Number>,\n\t\tmaxZoom: <Number>,\n\t\tattribution: <String>,\n\t\tzIndex: <Number>,\n\t\tbounds: <LatLngBounds>\n\t\t*/\n\t},\n\n\tinitialize: function (options) {\n\t\toptions = L.setOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tthis._initContainer();\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\t// update tiles on move, but not more often than once per given interval\n\t\t\tthis._update = L.Util.throttle(this._update, this.options.updateInterval, this);\n\t\t}\n\n\t\tthis._reset();\n\t\tthis._update();\n\t},\n\n\tbeforeAdd: function (map) {\n\t\tmap._addZoomLimit(this);\n\t},\n\n\tonRemove: function (map) {\n\t\tthis._clearBgBuffer();\n\t\tL.DomUtil.remove(this._container);\n\n\t\tmap._removeZoomLimit(this);\n\n\t\tthis._container = null;\n\t},\n\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toFront(this._container);\n\t\t\tthis._setAutoZIndex(Math.max);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toBack(this._container);\n\t\t\tthis._setAutoZIndex(Math.min);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._map) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetZIndex: function (zIndex) {\n\t\tthis.options.zIndex = zIndex;\n\t\tthis._updateZIndex();\n\n\t\treturn this;\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._reset({hard: true});\n\t\t\tthis._update();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset,\n\t\t\tmoveend: this._update\n\t\t};\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\tevents.move = this._update;\n\t\t}\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomstart = this._startZoomAnim;\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t\tevents.zoomend = this._endZoomAnim;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t_updateZIndex: function () {\n\t\tif (this._container && this.options.zIndex !== undefined) {\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\n\t\t}\n\t},\n\n\t_setAutoZIndex: function (compare) {\n\t\t// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)\n\n\t\tvar layers = this.getPane().children,\n\t\t    edgeZIndex = -compare(-Infinity, Infinity); // -Infinity for max, Infinity for min\n\n\t\tfor (var i = 0, len = layers.length, zIndex; i < len; i++) {\n\n\t\t\tzIndex = layers[i].style.zIndex;\n\n\t\t\tif (layers[i] !== this._container && zIndex) {\n\t\t\t\tedgeZIndex = compare(edgeZIndex, +zIndex);\n\t\t\t}\n\t\t}\n\n\t\tif (isFinite(edgeZIndex)) {\n\t\t\tthis.options.zIndex = edgeZIndex + compare(-1, 1);\n\t\t\tthis._updateZIndex();\n\t\t}\n\t},\n\n\t_updateOpacity: function () {\n\t\tvar opacity = this.options.opacity;\n\n\t\tif (L.Browser.ielt9) {\n\t\t\t// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles\n\t\t\tfor (var i in this._tiles) {\n\t\t\t\tL.DomUtil.setOpacity(this._tiles[i], opacity);\n\t\t\t}\n\t\t} else {\n\t\t\tL.DomUtil.setOpacity(this._container, opacity);\n\t\t}\n\t},\n\n\t_initContainer: function () {\n\t\tif (this._container) { return; }\n\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer');\n\t\tthis._updateZIndex();\n\n\t\tif (this._zoomAnimated) {\n\t\t\tvar className = 'leaflet-tile-container leaflet-zoom-animated';\n\n\t\t\tthis._bgBuffer = L.DomUtil.create('div', className, this._container);\n\t\t\tthis._tileContainer = L.DomUtil.create('div', className, this._container);\n\n\t\t\tL.DomUtil.setTransform(this._tileContainer);\n\n\t\t} else {\n\t\t\tthis._tileContainer = this._container;\n\t\t}\n\n\t\tif (this.options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t},\n\n\t_reset: function (e) {\n\t\tfor (var key in this._tiles) {\n\t\t\tthis.fire('tileunload', {\n\t\t\t\ttile: this._tiles[key]\n\t\t\t});\n\t\t}\n\n\t\tif (this._abortLoading) {\n\t\t\tthis._abortLoading();\n\t\t}\n\n\t\tthis._tiles = {};\n\t\tthis._tilesToLoad = 0;\n\t\tthis._tilesTotal = 0;\n\n\t\tL.DomUtil.empty(this._tileContainer);\n\n\t\tif (this._zoomAnimated && e && e.hard) {\n\t\t\tthis._clearBgBuffer();\n\t\t}\n\n\t\tthis._tileNumBounds = this._getTileNumBounds();\n\t\tthis._resetWrap();\n\t},\n\n\t_resetWrap: function () {\n\t\tvar map = this._map,\n\t\t    crs = map.options.crs;\n\n\t\tif (crs.infinite) { return; }\n\n\t\tvar tileSize = this._getTileSize();\n\n\t\tif (crs.wrapLng) {\n\t\t\tthis._wrapLng = [\n\t\t\t\tMath.floor(map.project([0, crs.wrapLng[0]]).x / tileSize),\n\t\t\t\tMath.ceil(map.project([0, crs.wrapLng[1]]).x / tileSize)\n\t\t\t];\n\t\t}\n\n\t\tif (crs.wrapLat) {\n\t\t\tthis._wrapLat = [\n\t\t\t\tMath.floor(map.project([crs.wrapLat[0], 0]).y / tileSize),\n\t\t\t\tMath.ceil(map.project([crs.wrapLat[1], 0]).y / tileSize)\n\t\t\t];\n\t\t}\n\t},\n\n\t_getTileSize: function () {\n\t\treturn this.options.tileSize;\n\t},\n\n\t_update: function () {\n\n\t\tif (!this._map) { return; }\n\n\t\tvar bounds = this._map.getPixelBounds(),\n\t\t    zoom = this._map.getZoom(),\n\t\t    tileSize = this._getTileSize();\n\n\t\tif (zoom > this.options.maxZoom ||\n\t\t    zoom < this.options.minZoom) { \n\t\t\tthis._clearBgBuffer();\n\t\t\treturn; \n\t\t}\n\n\t\t// tile coordinates range for the current view\n\t\tvar tileBounds = L.bounds(\n\t\t\tbounds.min.divideBy(tileSize).floor(),\n\t\t\tbounds.max.divideBy(tileSize).floor());\n\n\t\tthis._addTiles(tileBounds);\n\n\t\tif (this.options.unloadInvisibleTiles) {\n\t\t\tthis._removeOtherTiles(tileBounds);\n\t\t}\n\t},\n\n\t_addTiles: function (bounds) {\n\t\tvar queue = [],\n\t\t    center = bounds.getCenter(),\n\t\t    zoom = this._map.getZoom();\n\n\t\tvar j, i, coords;\n\n\t\t// create a queue of coordinates to load tiles from\n\t\tfor (j = bounds.min.y; j <= bounds.max.y; j++) {\n\t\t\tfor (i = bounds.min.x; i <= bounds.max.x; i++) {\n\n\t\t\t\tcoords = new L.Point(i, j);\n\t\t\t\tcoords.z = zoom;\n\n\t\t\t\t// add tile to queue if it's not in cache or out of bounds\n\t\t\t\tif (!(this._tileCoordsToKey(coords) in this._tiles) && this._isValidTile(coords)) {\n\t\t\t\t\tqueue.push(coords);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar tilesToLoad = queue.length;\n\n\t\tif (tilesToLoad === 0) { return; }\n\n\t\t// if its the first batch of tiles to load\n\t\tif (!this._tilesToLoad) {\n\t\t\tthis.fire('loading');\n\t\t}\n\n\t\tthis._tilesToLoad += tilesToLoad;\n\t\tthis._tilesTotal += tilesToLoad;\n\n\t\t// sort tile queue to load tiles in order of their distance to center\n\t\tqueue.sort(function (a, b) {\n\t\t\treturn a.distanceTo(center) - b.distanceTo(center);\n\t\t});\n\n\t\t// create DOM fragment to append tiles in one batch\n\t\tvar fragment = document.createDocumentFragment();\n\n\t\tfor (i = 0; i < tilesToLoad; i++) {\n\t\t\tthis._addTile(queue[i], fragment);\n\t\t}\n\n\t\tthis._tileContainer.appendChild(fragment);\n\t},\n\n\t_isValidTile: function (coords) {\n\t\tvar crs = this._map.options.crs;\n\n\t\tif (!crs.infinite) {\n\t\t\t// don't load tile if it's out of bounds and not wrapped\n\t\t\tvar bounds = this._tileNumBounds;\n\t\t\tif ((!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x)) ||\n\t\t\t    (!crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y))) { return false; }\n\t\t}\n\n\t\tif (!this.options.bounds) { return true; }\n\n\t\t// don't load tile if it doesn't intersect the bounds in options\n\t\tvar tileBounds = this._tileCoordsToBounds(coords);\n\t\treturn L.latLngBounds(this.options.bounds).intersects(tileBounds);\n\t},\n\n\t// converts tile coordinates to its geographical bounds\n\t_tileCoordsToBounds: function (coords) {\n\n\t\tvar map = this._map,\n\t\t    tileSize = this._getTileSize(),\n\n\t\t    nwPoint = coords.multiplyBy(tileSize),\n\t\t    sePoint = nwPoint.add([tileSize, tileSize]),\n\n\t\t    nw = map.wrapLatLng(map.unproject(nwPoint, coords.z)),\n\t\t    se = map.wrapLatLng(map.unproject(sePoint, coords.z));\n\n\t\treturn new L.LatLngBounds(nw, se);\n\t},\n\n\t// converts tile coordinates to key for the tile cache\n\t_tileCoordsToKey: function (coords) {\n\t\treturn coords.x + ':' + coords.y;\n\t},\n\n\t// converts tile cache key to coordinates\n\t_keyToTileCoords: function (key) {\n\t\tvar kArr = key.split(':'),\n\t\t    x = parseInt(kArr[0], 10),\n\t\t    y = parseInt(kArr[1], 10);\n\n\t\treturn new L.Point(x, y);\n\t},\n\n\t// remove any present tiles that are off the specified bounds\n\t_removeOtherTiles: function (bounds) {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (!bounds.contains(this._keyToTileCoords(key))) {\n\t\t\t\tthis._removeTile(key);\n\t\t\t}\n\t\t}\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\n\t\tL.DomUtil.remove(tile);\n\n\t\tdelete this._tiles[key];\n\n\t\tthis.fire('tileunload', {tile: tile});\n\t},\n\n\t_initTile: function (tile) {\n\t\tvar size = this._getTileSize();\n\n\t\tL.DomUtil.addClass(tile, 'leaflet-tile');\n\n\t\ttile.style.width = size + 'px';\n\t\ttile.style.height = size + 'px';\n\n\t\ttile.onselectstart = L.Util.falseFn;\n\t\ttile.onmousemove = L.Util.falseFn;\n\n\t\t// update opacity on tiles in IE7-8 because of filter inheritance problems\n\t\tif (L.Browser.ielt9 && this.options.opacity < 1) {\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);\n\t\t}\n\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\n\t\tif (L.Browser.android && !L.Browser.android23) {\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\n\t\t}\n\t},\n\n\t_addTile: function (coords, container) {\n\t\tvar tilePos = this._getTilePos(coords);\n\n\t\t// wrap tile coords if necessary (depending on CRS)\n\t\tthis._wrapCoords(coords);\n\n\t\tvar tile = this.createTile(coords, L.bind(this._tileReady, this));\n\n\t\tthis._initTile(tile);\n\n\t\t// if createTile is defined with a second argument (\"done\" callback),\n\t\t// we know that tile is async and will be ready later; otherwise\n\t\tif (this.createTile.length < 2) {\n\t\t\t// mark tile as ready, but delay one frame for opacity animation to happen\n\t\t\tsetTimeout(L.bind(this._tileReady, this, null, tile), 0);\n\t\t}\n\n\t\t// we prefer top/left over translate3d so that we don't create a HW-accelerated layer from each tile\n\t\t// which is slow, and it also fixes gaps between tiles in Safari\n\t\tL.DomUtil.setPosition(tile, tilePos, true);\n\n\t\t// save tile in cache\n\t\tthis._tiles[this._tileCoordsToKey(coords)] = tile;\n\n\t\tcontainer.appendChild(tile);\n\t\tthis.fire('tileloadstart', {tile: tile});\n\t},\n\n\t_tileReady: function (err, tile) {\n\t\tif (err) {\n\t\t\tthis.fire('tileerror', {\n\t\t\t\terror: err,\n\t\t\t\ttile: tile\n\t\t\t});\n\t\t}\n\n\t\tL.DomUtil.addClass(tile, 'leaflet-tile-loaded');\n\n\t\tthis.fire('tileload', {tile: tile});\n\n\t\tthis._tilesToLoad--;\n\n\t\tif (this._tilesToLoad === 0) {\n\t\t\tthis._visibleTilesReady();\n\t\t}\n\t},\n\n\t_visibleTilesReady: function () {\n\t\tthis.fire('load');\n\n\t\tif (this._zoomAnimated) {\n\t\t\t// clear scaled tiles after all new tiles are loaded (for performance)\n\t\t\tclearTimeout(this._clearBgBufferTimer);\n\t\t\tthis._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer, this), 300);\n\t\t}\n\t},\n\n\t_getTilePos: function (coords) {\n\t\treturn coords\n\t\t\t\t.multiplyBy(this._getTileSize())\n\t\t\t\t.subtract(this._map.getPixelOrigin());\n\t},\n\n\t_wrapCoords: function (coords) {\n\t\tcoords.x = this._wrapLng ? L.Util.wrapNum(coords.x, this._wrapLng) : coords.x;\n\t\tcoords.y = this._wrapLat ? L.Util.wrapNum(coords.y, this._wrapLat) : coords.y;\n\t},\n\n\t// get the global tile coordinates range for the current zoom\n\t_getTileNumBounds: function () {\n\t\tvar bounds = this._map.getPixelWorldBounds(),\n\t\t\tsize = this._getTileSize();\n\n\t\treturn bounds ? L.bounds(\n\t\t\t\tbounds.min.divideBy(size).floor(),\n\t\t\t\tbounds.max.divideBy(size).ceil().subtract([1, 1])) : null;\n\t},\n\n\t_startZoomAnim: function () {\n\t\tthis._prepareBgBuffer();\n\t\tthis._prevTranslate = this._translate || new L.Point(0, 0);\n\t\tthis._prevScale = this._scale;\n\t},\n\n\t_animateZoom: function (e) {\n\t\t// avoid stacking transforms by calculating cumulating translate/scale sequence\n\t\tthis._translate = this._prevTranslate.multiplyBy(e.scale).add(e.origin.multiplyBy(1 - e.scale));\n\t\tthis._scale = this._prevScale * e.scale;\n\n\t\tL.DomUtil.setTransform(this._bgBuffer, this._translate, this._scale);\n\t},\n\n\t_endZoomAnim: function () {\n\t\tvar front = this._tileContainer;\n\t\tfront.style.visibility = '';\n\t\tL.DomUtil.toFront(front); // bring to front\n\t},\n\n\t_clearBgBuffer: function () {\n\t\tvar map = this._map,\n\t\t\tbg = this._bgBuffer;\n\n\t\tif (map && !map._animatingZoom && !map.touchZoom._zooming && bg) {\n\t\t\tL.DomUtil.empty(bg);\n\t\t\tL.DomUtil.setTransform(bg);\n\t\t}\n\t},\n\n\t_prepareBgBuffer: function () {\n\n\t\tvar front = this._tileContainer,\n\t\t    bg = this._bgBuffer;\n\n\t\tif (this._abortLoading) {\n\t\t\tthis._abortLoading();\n\t\t}\n\n\t\tif (this._tilesToLoad / this._tilesTotal > 0.5) {\n\t\t\t// if foreground layer doesn't have many tiles loaded,\n\t\t\t// keep the existing bg layer and just zoom it some more\n\t\t\tfront.style.visibility = 'hidden';\n\t\t\treturn;\n\t\t}\n\n\t\t// prepare the buffer to become the front tile pane\n\t\tbg.style.visibility = 'hidden';\n\t\tL.DomUtil.setTransform(bg);\n\n\t\t// switch out the current layer to be the new bg layer (and vice-versa)\n\t\tthis._tileContainer = bg;\n\t\tthis._bgBuffer = front;\n\n\t\t// reset bg layer transform info\n\t\tthis._translate = new L.Point(0, 0);\n\t\tthis._scale = 1;\n\n\t\t// prevent bg buffer from clearing right after zoom\n\t\tclearTimeout(this._clearBgBufferTimer);\n\t}\n});\n\nL.gridLayer = function (options) {\n\treturn new L.GridLayer(options);\n};\n\n\n/*\n * L.TileLayer is used for standard xyz-numbered tile layers.\n */\n\nL.TileLayer = L.GridLayer.extend({\n\n\toptions: {\n\t\tminZoom: 0,\n\t\tmaxZoom: 18,\n\n\t\tsubdomains: 'abc',\n\t\t// errorTileUrl: '',\n\t\tzoomOffset: 0\n\n\t\t/*\n\t\tmaxNativeZoom: <Number>,\n\t\ttms: <Boolean>,\n\t\tzoomReverse: <Number>,\n\t\tdetectRetina: <Boolean>,\n\t\tcrossOrigin: <Boolean>,\n\t\t*/\n\t},\n\n\tinitialize: function (url, options) {\n\n\t\tthis._url = url;\n\n\t\toptions = L.setOptions(this, options);\n\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {\n\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\n\t\t\toptions.zoomOffset++;\n\n\t\t\toptions.minZoom = Math.max(0, options.minZoom);\n\t\t\toptions.maxZoom--;\n\t\t}\n\n\t\tif (typeof options.subdomains === 'string') {\n\t\t\toptions.subdomains = options.subdomains.split('');\n\t\t}\n\t},\n\n\tsetUrl: function (url, noRedraw) {\n\t\tthis._url = url;\n\n\t\tif (!noRedraw) {\n\t\t\tthis.redraw();\n\t\t}\n\t\treturn this;\n\t},\n\n\tcreateTile: function (coords, done) {\n\t\tvar tile = document.createElement('img');\n\n\t\ttile.onload = L.bind(this._tileOnLoad, this, done, tile);\n\t\ttile.onerror = L.bind(this._tileOnError, this, done, tile);\n\t\t\n\t\tif (this.options.crossOrigin) {\n\t\t\ttile.crossOrigin = '';\n\t\t}\n\t\t\n\t\t/*\n\t\t Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\n\t\t http://www.w3.org/TR/WCAG20-TECHS/H67\n\t\t*/\n\t\ttile.alt = '';\n\n\t\ttile.src = this.getTileUrl(coords);\n\n\t\treturn tile;\n\t},\n\n\tgetTileUrl: function (coords) {\n\t\treturn L.Util.template(this._url, L.extend({\n\t\t\tr: this.options.detectRetina && L.Browser.retina && this.options.maxZoom > 0 ? '@2x' : '',\n\t\t\ts: this._getSubdomain(coords),\n\t\t\tx: coords.x,\n\t\t\ty: this.options.tms ? this._tileNumBounds.max.y - coords.y : coords.y,\n\t\t\tz: this._getZoomForUrl()\n\t\t}, this.options));\n\t},\n\n\t_tileOnLoad: function (done, tile) {\n\t\tdone(null, tile);\n\t},\n\n\t_tileOnError: function (done, tile, e) {\n\t\tvar errorUrl = this.options.errorTileUrl;\n\t\tif (errorUrl) {\n\t\t\ttile.src = errorUrl;\n\t\t}\n\t\tdone(e, tile);\n\t},\n\n\t_getTileSize: function () {\n\t\tvar map = this._map,\n\t\t    options = this.options,\n\t\t    zoom = map.getZoom() + options.zoomOffset,\n\t\t    zoomN = options.maxNativeZoom;\n\n\t\t// increase tile size when overscaling\n\t\treturn zoomN && zoom > zoomN ?\n\t\t\t\tMath.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * options.tileSize) :\n\t\t\t\toptions.tileSize;\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\n\t\tL.GridLayer.prototype._removeTile.call(this, key);\n\n\t\t// for https://github.com/Leaflet/Leaflet/issues/137\n\t\tif (!L.Browser.android) {\n\t\t\ttile.onload = null;\n\t\t\ttile.src = L.Util.emptyImageUrl;\n\t\t}\n\t},\n\n\t_getZoomForUrl: function () {\n\n\t\tvar options = this.options,\n\t\t    zoom = this._map.getZoom();\n\n\t\tif (options.zoomReverse) {\n\t\t\tzoom = options.maxZoom - zoom;\n\t\t}\n\n\t\tzoom += options.zoomOffset;\n\n\t\treturn options.maxNativeZoom ? Math.min(zoom, options.maxNativeZoom) : zoom;\n\t},\n\n\t_getSubdomain: function (tilePoint) {\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\n\t\treturn this.options.subdomains[index];\n\t},\n\n\t// stops loading all tiles in the background layer\n\t_abortLoading: function () {\n\t\tvar i, tile;\n\t\tfor (i in this._tiles) {\n\t\t\ttile = this._tiles[i];\n\n\t\t\ttile.onload = L.Util.falseFn;\n\t\t\ttile.onerror = L.Util.falseFn;\n\n\t\t\tif (!tile.complete) {\n\t\t\t\ttile.src = L.Util.emptyImageUrl;\n\t\t\t\tL.DomUtil.remove(tile);\n\t\t\t}\n\t\t}\n\t}\n});\n\nL.tileLayer = function (url, options) {\n\treturn new L.TileLayer(url, options);\n};\n\n\n/*\n * L.TileLayer.WMS is used for WMS tile layers.\n */\n\nL.TileLayer.WMS = L.TileLayer.extend({\n\n\tdefaultWmsParams: {\n\t\tservice: 'WMS',\n\t\trequest: 'GetMap',\n\t\tversion: '1.1.1',\n\t\tlayers: '',\n\t\tstyles: '',\n\t\tformat: 'image/jpeg',\n\t\ttransparent: false\n\t},\n\n\tinitialize: function (url, options) {\n\n\t\tthis._url = url;\n\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams);\n\n\t\t// all keys that are not TileLayer options go to WMS params\n\t\tfor (var i in options) {\n\t\t\tif (!this.options.hasOwnProperty(i) &&\n\t\t\t\t\ti !== 'crs' &&\n\t\t\t\t\ti !== 'uppercase') {\n\t\t\t\twmsParams[i] = options[i];\n\t\t\t}\n\t\t}\n\n\t\toptions = L.setOptions(this, options);\n\n\t\twmsParams.width = wmsParams.height =\n\t\t\t\toptions.tileSize * (options.detectRetina && L.Browser.retina ? 2 : 1);\n\n\t\tthis.wmsParams = wmsParams;\n\t},\n\n\tonAdd: function (map) {\n\n\t\tthis._crs = this.options.crs || map.options.crs;\n\t\tthis._uppercase = this.options.uppercase || false;\n\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\n\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\n\n\t\tL.TileLayer.prototype.onAdd.call(this, map);\n\t},\n\n\tgetTileUrl: function (coords) {\n\n\t\tvar tileBounds = this._tileCoordsToBounds(coords),\n\t\t    nw = this._crs.project(tileBounds.getNorthWest()),\n\t\t    se = this._crs.project(tileBounds.getSouthEast()),\n\n\t\t    bbox = (this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\n\t\t\t    [se.y, nw.x, nw.y, se.x] :\n\t\t\t    [nw.x, se.y, se.x, nw.y]).join(','),\n\n\t\t    url = L.TileLayer.prototype.getTileUrl.call(this, coords);\n\n\t\treturn url +\n\t\t\tL.Util.getParamString(this.wmsParams, url, this._uppercase) +\n\t\t\t(this._uppercase ? '&BBOX=' : '&bbox=') + bbox;\n\t},\n\n\tsetParams: function (params, noRedraw) {\n\n\t\tL.extend(this.wmsParams, params);\n\n\t\tif (!noRedraw) {\n\t\t\tthis.redraw();\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\nL.tileLayer.wms = function (url, options) {\n\treturn new L.TileLayer.WMS(url, options);\n};\n\n\n/*\n * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).\n */\n\nL.ImageOverlay = L.Layer.extend({\n\n\toptions: {\n\t\topacity: 1,\n\t\talt: ''\n\t},\n\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\n\t\tthis._url = url;\n\t\tthis._bounds = L.latLngBounds(bounds);\n\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._image) {\n\t\t\tthis._initImage();\n\n\t\t\tif (this.options.opacity < 1) {\n\t\t\t\tthis._updateOpacity();\n\t\t\t}\n\t\t}\n\n\t\tthis.getPane().appendChild(this._image);\n\n\t\tthis._reset();\n\t},\n\n\tonRemove: function () {\n\t\tL.DomUtil.remove(this._image);\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._image) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toFront(this._image);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toBack(this._image);\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetUrl: function (url) {\n\t\tthis._url = url;\n\n\t\tif (this._image) {\n\t\t\tthis._image.src = url;\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset\n\t\t};\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\n\t\treturn events;\n\t},\n\t\n\tgetBounds: function() {\n\t\treturn this._bounds;\n\t},\n\n\t_initImage: function () {\n\t\tvar img = this._image = L.DomUtil.create('img',\n\t\t\t\t'leaflet-image-layer ' + (this._zoomAnimated ? 'leaflet-zoom-animated' : ''));\n\n\t\timg.onselectstart = L.Util.falseFn;\n\t\timg.onmousemove = L.Util.falseFn;\n\n\t\timg.onload = L.bind(this.fire, this, 'load');\n\t\timg.src = this._url;\n\t\timg.alt = this.options.alt;\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar topLeft = this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(), e.zoom, e.center),\n\t\t    size = this._map._latLngToNewLayerPoint(this._bounds.getSouthEast(), e.zoom, e.center).subtract(topLeft),\n\t\t    offset = topLeft.add(size._multiplyBy((1 - 1 / e.scale) / 2));\n\n\t\tL.DomUtil.setTransform(this._image, offset, e.scale);\n\t},\n\n\t_reset: function () {\n\t\tvar image = this._image,\n\t\t    bounds = new L.Bounds(\n\t\t        this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\n\t\t        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),\n\t\t    size = bounds.getSize();\n\n\t\tL.DomUtil.setPosition(image, bounds.min);\n\n\t\timage.style.width  = size.x + 'px';\n\t\timage.style.height = size.y + 'px';\n\t},\n\n\t_updateOpacity: function () {\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\n\t}\n});\n\nL.imageOverlay = function (url, bounds, options) {\n\treturn new L.ImageOverlay(url, bounds, options);\n};\n\n\n/*\n * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.\n */\n\nL.Icon = L.Class.extend({\n\t/*\n\toptions: {\n\t\ticonUrl: (String) (required)\n\t\ticonRetinaUrl: (String) (optional, used for retina devices if detected)\n\t\ticonSize: (Point) (can be set through CSS)\n\t\ticonAnchor: (Point) (centered by default, can be set in CSS with negative margins)\n\t\tpopupAnchor: (Point) (if not specified, popup opens in the anchor point)\n\t\tshadowUrl: (String) (no shadow by default)\n\t\tshadowRetinaUrl: (String) (optional, used for retina devices if detected)\n\t\tshadowSize: (Point)\n\t\tshadowAnchor: (Point)\n\t\tclassName: (String)\n\t},\n\t*/\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\treturn this._createIcon('icon', oldIcon);\n\t},\n\n\tcreateShadow: function (oldIcon) {\n\t\treturn this._createIcon('shadow', oldIcon);\n\t},\n\n\t_createIcon: function (name, oldIcon) {\n\t\tvar src = this._getIconUrl(name);\n\n\t\tif (!src) {\n\t\t\tif (name === 'icon') {\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tvar img = this._createImg(src, oldIcon && oldIcon.tagName === 'IMG' ? oldIcon : null);\n\t\tthis._setIconStyles(img, name);\n\n\t\treturn img;\n\t},\n\n\t_setIconStyles: function (img, name) {\n\t\tvar options = this.options,\n\t\t    size = L.point(options[name + 'Size']),\n\t\t    anchor = L.point(name === 'shadow' && options.shadowAnchor || options.iconAnchor ||\n\t\t            size && size.divideBy(2, true));\n\n\t\timg.className = 'leaflet-marker-' + name + ' ' + (options.className || '');\n\n\t\tif (anchor) {\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\n\t\t}\n\n\t\tif (size) {\n\t\t\timg.style.width  = size.x + 'px';\n\t\t\timg.style.height = size.y + 'px';\n\t\t}\n\t},\n\n\t_createImg: function (src, el) {\n\t\tel = el || document.createElement('img');\n\t\tel.src = src;\n\t\treturn el;\n\t},\n\n\t_getIconUrl: function (name) {\n\t\treturn L.Browser.retina && this.options[name + 'RetinaUrl'] || this.options[name + 'Url'];\n\t}\n});\n\nL.icon = function (options) {\n\treturn new L.Icon(options);\n};\n\n\n/*\n * L.Icon.Default is the blue marker icon used by default in Leaflet.\n */\n\nL.Icon.Default = L.Icon.extend({\n\n\toptions: {\n\t\ticonSize:    [25, 41],\n\t\ticonAnchor:  [12, 41],\n\t\tpopupAnchor: [1, -34],\n\t\tshadowSize:  [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tvar key = name + 'Url';\n\n\t\tif (this.options[key]) {\n\t\t\treturn this.options[key];\n\t\t}\n\n\t\tvar path = L.Icon.Default.imagePath;\n\n\t\tif (!path) {\n\t\t\tthrow new Error('Couldn\\'t autodetect L.Icon.Default.imagePath, set it manually.');\n\t\t}\n\n\t\treturn path + '/marker-' + name + (L.Browser.retina && name === 'icon' ? '-2x' : '') + '.png';\n\t}\n});\n\nL.Icon.Default.imagePath = (function () {\n\tvar scripts = document.getElementsByTagName('script'),\n\t    leafletRe = /[\\/^]leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;\n\n\tvar i, len, src, path;\n\n\tfor (i = 0, len = scripts.length; i < len; i++) {\n\t\tsrc = scripts[i].src;\n\n\t\tif (src.match(leafletRe)) {\n\t\t\tpath = src.split(leafletRe)[0];\n\t\t\treturn (path ? path + '/' : '') + 'images';\n\t\t}\n\t}\n}());\n\n\n/*\n * L.Marker is used to display clickable/draggable icons on the map.\n */\n\nL.Marker = L.Layer.extend({\n\n\toptions: {\n\t\tpane: 'markerPane',\n\n\t\ticon: new L.Icon.Default(),\n\t\t// title: '',\n\t\t// alt: '',\n\t\tinteractive: true,\n\t\t// draggable: false,\n\t\tkeyboard: true,\n\t\tzIndexOffset: 0,\n\t\topacity: 1,\n\t\t// riseOnHover: false,\n\t\triseOffset: 250\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._zoomAnimated = this._zoomAnimated && map.options.markerZoomAnimation;\n\n\t\tthis._initIcon();\n\t\tthis.update();\n\t},\n\n\tonRemove: function () {\n\t\tif (this.dragging) {\n\t\t\tthis.dragging.disable();\n\t\t}\n\n\t\tthis._removeIcon();\n\t\tthis._removeShadow();\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {viewreset: this.update};\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tvar oldLatLng = this._latlng;\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis.update();\n\t\treturn this.fire('move', { oldLatLng: oldLatLng, latlng: this._latlng });\n\t},\n\n\tsetZIndexOffset: function (offset) {\n\t\tthis.options.zIndexOffset = offset;\n\t\treturn this.update();\n\t},\n\n\tsetIcon: function (icon) {\n\n\t\tthis.options.icon = icon;\n\n\t\tif (this._map) {\n\t\t\tthis._initIcon();\n\t\t\tthis.update();\n\t\t}\n\n\t\tif (this._popup) {\n\t\t\tthis.bindPopup(this._popup, this._popup.options);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tupdate: function () {\n\n\t\tif (this._icon) {\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();\n\t\t\tthis._setPos(pos);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_initIcon: function () {\n\t\tvar options = this.options,\n\t\t    classToAdd = 'leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\n\n\t\tvar icon = options.icon.createIcon(this._icon),\n\t\t\taddIcon = false;\n\n\t\t// if we're not reusing the icon, remove the old one and init new one\n\t\tif (icon !== this._icon) {\n\t\t\tif (this._icon) {\n\t\t\t\tthis._removeIcon();\n\t\t\t}\n\t\t\taddIcon = true;\n\n\t\t\tif (options.title) {\n\t\t\t\ticon.title = options.title;\n\t\t\t}\n\t\t\tif (options.alt) {\n\t\t\t\ticon.alt = options.alt;\n\t\t\t}\n\t\t}\n\n\t\tL.DomUtil.addClass(icon, classToAdd);\n\n\t\tif (options.keyboard) {\n\t\t\ticon.tabIndex = '0';\n\t\t}\n\n\t\tthis._icon = icon;\n\t\tthis._initInteraction();\n\n\t\tif (options.riseOnHover) {\n\t\t\tL.DomEvent.on(icon, {\n\t\t\t\tmouseover: this._bringToFront,\n\t\t\t\tmouseout: this._resetZIndex\n\t\t\t}, this);\n\t\t}\n\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\n\t\t\taddShadow = false;\n\n\t\tif (newShadow !== this._shadow) {\n\t\t\tthis._removeShadow();\n\t\t\taddShadow = true;\n\t\t}\n\n\t\tif (newShadow) {\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);\n\t\t}\n\t\tthis._shadow = newShadow;\n\n\n\t\tif (options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\n\t\tif (addIcon) {\n\t\t\tthis.getPane().appendChild(this._icon);\n\t\t}\n\t\tif (newShadow && addShadow) {\n\t\t\tthis.getPane('shadowPane').appendChild(this._shadow);\n\t\t}\n\t},\n\n\t_removeIcon: function () {\n\t\tif (this.options.riseOnHover) {\n\t\t\tL.DomEvent.off(this._icon, {\n\t\t\t\tmouseover: this._bringToFront,\n\t\t\t    mouseout: this._resetZIndex\n\t\t\t}, this);\n\t\t}\n\n\t\tL.DomUtil.remove(this._icon);\n\n\t\tthis._icon = null;\n\t},\n\n\t_removeShadow: function () {\n\t\tif (this._shadow) {\n\t\t\tL.DomUtil.remove(this._shadow);\n\t\t}\n\t\tthis._shadow = null;\n\t},\n\n\t_setPos: function (pos) {\n\t\tL.DomUtil.setPosition(this._icon, pos);\n\n\t\tif (this._shadow) {\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);\n\t\t}\n\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\n\n\t\tthis._resetZIndex();\n\t},\n\n\t_updateZIndex: function (offset) {\n\t\tthis._icon.style.zIndex = this._zIndex + offset;\n\t},\n\n\t_animateZoom: function (opt) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\n\n\t\tthis._setPos(pos);\n\t},\n\n\t_initInteraction: function () {\n\n\t\tif (!this.options.interactive) { return; }\n\n\t\tL.DomUtil.addClass(this._icon, 'leaflet-interactive');\n\n\t\tL.DomEvent.on(this._icon, 'click dblclick mousedown mouseup mouseover mousemove mouseout contextmenu keypress',\n\t\t\t\tthis._fireMouseEvent, this);\n\n\t\tif (L.Handler.MarkerDrag) {\n\t\t\tif (this.dragging) {\n\t\t\t\tthis.dragging.disable();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);\n\n\t\t\tif (this.options.draggable) {\n\t\t\t\tthis.dragging.enable();\n\t\t\t}\n\t\t}\n\t},\n\n\t_fireMouseEvent: function (e, type) {\n\t\t// to prevent outline when clicking on keyboard-focusable marker\n\t\tif (e.type === 'mousedown') {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\n\t\tif (e.type === 'keypress' && e.keyCode === 13) {\n\t\t\ttype = 'click';\n\t\t}\n\n\t\tif (this._map) {\n\t\t\tthis._map._fireMouseEvent(this, e, type, true, this._latlng);\n\t\t}\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tif (this._map) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_updateOpacity: function () {\n\t\tvar opacity = this.options.opacity;\n\n\t\tL.DomUtil.setOpacity(this._icon, opacity);\n\n\t\tif (this._shadow) {\n\t\t\tL.DomUtil.setOpacity(this._shadow, opacity);\n\t\t}\n\t},\n\n\t_bringToFront: function () {\n\t\tthis._updateZIndex(this.options.riseOffset);\n\t},\n\n\t_resetZIndex: function () {\n\t\tthis._updateZIndex(0);\n\t}\n});\n\nL.marker = function (latlng, options) {\n\treturn new L.Marker(latlng, options);\n};\n\n\n/*\n * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)\n * to use with L.Marker.\n */\n\nL.DivIcon = L.Icon.extend({\n\toptions: {\n\t\ticonSize: [12, 12], // also can be set through CSS\n\t\t/*\n\t\ticonAnchor: (Point)\n\t\tpopupAnchor: (Point)\n\t\thtml: (String)\n\t\tbgPos: (Point)\n\t\t*/\n\t\tclassName: 'leaflet-div-icon',\n\t\thtml: false\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tdiv.innerHTML = options.html !== false ? options.html : '';\n\n\t\tif (options.bgPos) {\n\t\t\tdiv.style.backgroundPosition = (-options.bgPos.x) + 'px ' + (-options.bgPos.y) + 'px';\n\t\t}\n\t\tthis._setIconStyles(div, 'icon');\n\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\nL.divIcon = function (options) {\n\treturn new L.DivIcon(options);\n};\n\n\n/*\n * L.Popup is used for displaying popups on the map.\n */\n\nL.Map.mergeOptions({\n\tclosePopupOnClick: true\n});\n\nL.Popup = L.Layer.extend({\n\n\toptions: {\n\t\tpane: 'popupPane',\n\n\t\tminWidth: 50,\n\t\tmaxWidth: 300,\n\t\t// maxHeight: <Number>,\n\t\toffset: [0, 7],\n\n\t\tautoPan: true,\n\t\tautoPanPadding: [5, 5],\n\t\t// autoPanPaddingTopLeft: <Point>,\n\t\t// autoPanPaddingBottomRight: <Point>,\n\n\t\tcloseButton: true,\n\t\t// keepInView: false,\n\t\t// className: '',\n\t\tzoomAnimation: true\n\t},\n\n\tinitialize: function (options, source) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._source = source;\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._zoomAnimated = this._zoomAnimated && this.options.zoomAnimation;\n\n\t\tif (!this._container) {\n\t\t\tthis._initLayout();\n\t\t}\n\n\t\tif (map._fadeAnimated) {\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\n\t\t}\n\n\t\tclearTimeout(this._removeTimeout);\n\t\tthis.getPane().appendChild(this._container);\n\t\tthis.update();\n\n\t\tif (map._fadeAnimated) {\n\t\t\tL.DomUtil.setOpacity(this._container, 1);\n\t\t}\n\n\t\tmap.fire('popupopen', {popup: this});\n\n\t\tif (this._source) {\n\t\t\tthis._source.fire('popupopen', {popup: this}, true);\n\t\t}\n\t},\n\n\topenOn: function (map) {\n\t\tmap.openPopup(this);\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tif (map._fadeAnimated) {\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\n\t\t\tthis._removeTimeout = setTimeout(L.bind(L.DomUtil.remove, L.DomUtil, this._container), 200);\n\t\t} else {\n\t\t\tL.DomUtil.remove(this._container);\n\t\t}\n\n\t\tmap.fire('popupclose', {popup: this});\n\n\t\tif (this._source) {\n\t\t\tthis._source.fire('popupclose', {popup: this}, true);\n\t\t}\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\tif (this._map) {\n\t\t\tthis._updatePosition();\n\t\t\tthis._adjustPan();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetContent: function () {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function (content) {\n\t\tthis._content = content;\n\t\tthis.update();\n\t\treturn this;\n\t},\n\n\tupdate: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._container.style.visibility = 'hidden';\n\n\t\tthis._updateContent();\n\t\tthis._updateLayout();\n\t\tthis._updatePosition();\n\n\t\tthis._container.style.visibility = '';\n\n\t\tthis._adjustPan();\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {viewreset: this._updatePosition},\n\t\t    options = this.options;\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\t\tif ('closeOnClick' in options ? options.closeOnClick : this._map.options.closePopupOnClick) {\n\t\t\tevents.preclick = this._close;\n\t\t}\n\t\tif (options.keepInView) {\n\t\t\tevents.moveend = this._adjustPan;\n\t\t}\n\t\treturn events;\n\t},\n\t\n\tisOpen: function () {\n\t\treturn !!this._map && this._map.hasLayer(this);\n\t},\n\n\t_close: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.closePopup(this);\n\t\t}\n\t},\n\n\t_initLayout: function () {\n\t\tvar prefix = 'leaflet-popup',\n\t\t    container = this._container = L.DomUtil.create('div',\n\t\t\tprefix + ' ' + (this.options.className || '') +\n\t\t\t' leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide'));\n\n\t\tif (this.options.closeButton) {\n\t\t\tvar closeButton = this._closeButton = L.DomUtil.create('a', prefix + '-close-button', container);\n\t\t\tcloseButton.href = '#close';\n\t\t\tcloseButton.innerHTML = '&#215;';\n\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);\n\t\t}\n\n\t\tvar wrapper = this._wrapper = L.DomUtil.create('div', prefix + '-content-wrapper', container);\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);\n\n\t\tL.DomEvent\n\t\t\t.disableClickPropagation(wrapper)\n\t\t\t.disableScrollPropagation(this._contentNode)\n\t\t\t.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);\n\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);\n\t},\n\n\t_updateContent: function () {\n\t\tif (!this._content) { return; }\n\n\t\tvar node = this._contentNode;\n\n\t\tif (typeof this._content === 'string') {\n\t\t\tnode.innerHTML = this._content;\n\t\t} else {\n\t\t\twhile (node.hasChildNodes()) {\n\t\t\t\tnode.removeChild(node.firstChild);\n\t\t\t}\n\t\t\tnode.appendChild(this._content);\n\t\t}\n\t\tthis.fire('contentupdate');\n\t},\n\n\t_updateLayout: function () {\n\t\tvar container = this._contentNode,\n\t\t    style = container.style;\n\n\t\tstyle.width = '';\n\t\tstyle.whiteSpace = 'nowrap';\n\n\t\tvar width = container.offsetWidth;\n\t\twidth = Math.min(width, this.options.maxWidth);\n\t\twidth = Math.max(width, this.options.minWidth);\n\n\t\tstyle.width = (width + 1) + 'px';\n\t\tstyle.whiteSpace = '';\n\n\t\tstyle.height = '';\n\n\t\tvar height = container.offsetHeight,\n\t\t    maxHeight = this.options.maxHeight,\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\n\n\t\tif (maxHeight && height > maxHeight) {\n\t\t\tstyle.height = maxHeight + 'px';\n\t\t\tL.DomUtil.addClass(container, scrolledClass);\n\t\t} else {\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);\n\t\t}\n\n\t\tthis._containerWidth = this._container.offsetWidth;\n\t},\n\n\t_updatePosition: function () {\n\t\tif (!this._map) { return; }\n\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\n\t\t    offset = L.point(this.options.offset);\n\n\t\tif (this._zoomAnimated) {\n\t\t\tL.DomUtil.setPosition(this._container, pos);\n\t\t} else {\n\t\t\toffset = offset.add(pos);\n\t\t}\n\n\t\tvar bottom = this._containerBottom = -offset.y,\n\t\t    left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;\n\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\n\t\tthis._container.style.bottom = bottom + 'px';\n\t\tthis._container.style.left = left + 'px';\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);\n\t\tL.DomUtil.setPosition(this._container, pos);\n\t},\n\n\t_adjustPan: function () {\n\t\tif (!this.options.autoPan) { return; }\n\n\t\tvar map = this._map,\n\t\t    containerHeight = this._container.offsetHeight,\n\t\t    containerWidth = this._containerWidth,\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\n\n\t\tif (this._zoomAnimated) {\n\t\t\tlayerPos._add(L.DomUtil.getPosition(this._container));\n\t\t}\n\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\n\t\t    padding = L.point(this.options.autoPanPadding),\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),\n\t\t    size = map.getSize(),\n\t\t    dx = 0,\n\t\t    dy = 0;\n\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\n\t\t}\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\n\t\t\tdx = containerPos.x - paddingTL.x;\n\t\t}\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\n\t\t}\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\n\t\t\tdy = containerPos.y - paddingTL.y;\n\t\t}\n\n\t\tif (dx || dy) {\n\t\t\tmap\n\t\t\t    .fire('autopanstart')\n\t\t\t    .panBy([dx, dy]);\n\t\t}\n\t},\n\n\t_onCloseButtonClick: function (e) {\n\t\tthis._close();\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\nL.popup = function (options, source) {\n\treturn new L.Popup(options, source);\n};\n\n\nL.Map.include({\n\topenPopup: function (popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])\n\t\tif (!(popup instanceof L.Popup)) {\n\t\t\tvar content = popup;\n\n\t\t\tpopup = new L.Popup(options).setContent(content);\n\t\t}\n\n\t\tif (latlng) {\n\t\t\tpopup.setLatLng(latlng);\n\t\t}\n\n\t\tif (this.hasLayer(popup)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.closePopup();\n\t\tthis._popup = popup;\n\t\treturn this.addLayer(popup);\n\t},\n\n\tclosePopup: function (popup) {\n\t\tif (!popup || popup === this._popup) {\n\t\t\tpopup = this._popup;\n\t\t\tthis._popup = null;\n\t\t}\n\t\tif (popup) {\n\t\t\tthis.removeLayer(popup);\n\t\t}\n\t\treturn this;\n\t}\n});\n\n\n/*\n * Adds popup-related methods to all layers.\n */\n\nL.Layer.include({\n\n\tbindPopup: function (content, options) {\n\n\t\tif (content instanceof L.Popup) {\n\t\t\tthis._popup = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._popup || options) {\n\t\t\t\tthis._popup = new L.Popup(options, this);\n\t\t\t}\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\n\t\tif (!this._popupHandlersAdded) {\n\t\t\tthis.on({\n\t\t\t\tclick: this._openPopup,\n\t\t\t\tremove: this.closePopup,\n\t\t\t\tmove: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tunbindPopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis.on({\n\t\t\t    click: this._openPopup,\n\t\t\t    remove: this.closePopup,\n\t\t\t    move: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = false;\n\t\t\tthis._popup = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\topenPopup: function (latlng) {\n\t\tif (this._popup && this._map) {\n\t\t\tthis._map.openPopup(this._popup, latlng || this._latlng || this.getCenter());\n\t\t}\n\t\treturn this;\n\t},\n\n\tclosePopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup._close();\n\t\t}\n\t\treturn this;\n\t},\n\n\ttogglePopup: function () {\n\t\tif (this._popup) {\n\t\t\tif (this._popup._map) {\n\t\t\t\tthis.closePopup();\n\t\t\t} else {\n\t\t\t\tthis.openPopup();\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetPopupContent: function (content) {\n\t\tif (this._popup) {\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetPopup: function () {\n\t\treturn this._popup;\n\t},\n\n\t_openPopup: function (e) {\n\t\tthis._map.openPopup(this._popup, e.latlng);\n\t},\n\n\t_movePopup: function (e) {\n\t\tthis._popup.setLatLng(e.latlng);\n\t}\n});\n\n\n/*\n * Popup extension to L.Marker, adding popup-related methods.\n */\n\nL.Marker.include({\n\tbindPopup: function (content, options) {\n\t\tvar anchor = L.point(this.options.icon.options.popupAnchor || [0, 0])\n\t\t\t.add(L.Popup.prototype.options.offset);\n\n\t\toptions = L.extend({offset: anchor}, options);\n\n\t\treturn L.Layer.prototype.bindPopup.call(this, content, options);\n\t},\n\n\t_openPopup: L.Layer.prototype.togglePopup\n});\n\n\n/*\n * L.LayerGroup is a class to combine several layers into one so that\n * you can manipulate the group (e.g. add/remove it) as one layer.\n */\n\nL.LayerGroup = L.Layer.extend({\n\n\tinitialize: function (layers) {\n\t\tthis._layers = {};\n\n\t\tvar i, len;\n\n\t\tif (layers) {\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\n\t\t\t\tthis.addLayer(layers[i]);\n\t\t\t}\n\t\t}\n\t},\n\n\taddLayer: function (layer) {\n\t\tvar id = this.getLayerId(layer);\n\n\t\tthis._layers[id] = layer;\n\n\t\tif (this._map) {\n\t\t\tthis._map.addLayer(layer);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\n\n\t\tif (this._map && this._layers[id]) {\n\t\t\tthis._map.removeLayer(this._layers[id]);\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\treturn this;\n\t},\n\n\thasLayer: function (layer) {\n\t\treturn !!layer && (layer in this._layers || this.getLayerId(layer) in this._layers);\n\t},\n\n\tclearLayers: function () {\n\t\tfor (var i in this._layers) {\n\t\t\tthis.removeLayer(this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\tinvoke: function (methodName) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\n\t\t    i, layer;\n\n\t\tfor (i in this._layers) {\n\t\t\tlayer = this._layers[i];\n\n\t\t\tif (layer[methodName]) {\n\t\t\t\tlayer[methodName].apply(layer, args);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tonAdd: function (map) {\n\t\tfor (var i in this._layers) {\n\t\t\tmap.addLayer(this._layers[i]);\n\t\t}\n\t},\n\n\tonRemove: function (map) {\n\t\tfor (var i in this._layers) {\n\t\t\tmap.removeLayer(this._layers[i]);\n\t\t}\n\t},\n\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetLayer: function (id) {\n\t\treturn this._layers[id];\n\t},\n\n\tgetLayers: function () {\n\t\tvar layers = [];\n\n\t\tfor (var i in this._layers) {\n\t\t\tlayers.push(this._layers[i]);\n\t\t}\n\t\treturn layers;\n\t},\n\n\tsetZIndex: function (zIndex) {\n\t\treturn this.invoke('setZIndex', zIndex);\n\t},\n\n\tgetLayerId: function (layer) {\n\t\treturn L.stamp(layer);\n\t}\n});\n\nL.layerGroup = function (layers) {\n\treturn new L.LayerGroup(layers);\n};\n\n\n/*\n * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods\n * shared between a group of interactive layers (like vectors or markers).\n */\n\nL.FeatureGroup = L.LayerGroup.extend({\n\n\taddLayer: function (layer) {\n\t\tif (this.hasLayer(layer)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlayer.addEventParent(this);\n\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);\n\n\t\tif (this._popupContent && layer.bindPopup) {\n\t\t\tlayer.bindPopup(this._popupContent, this._popupOptions);\n\t\t}\n\n\t\treturn this.fire('layeradd', {layer: layer});\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tif (!this.hasLayer(layer)) {\n\t\t\treturn this;\n\t\t}\n\t\tif (layer in this._layers) {\n\t\t\tlayer = this._layers[layer];\n\t\t}\n\n\t\tlayer.removeEventParent(this);\n\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);\n\n\t\tif (this._popupContent) {\n\t\t\tthis.invoke('unbindPopup');\n\t\t}\n\n\t\treturn this.fire('layerremove', {layer: layer});\n\t},\n\n\tbindPopup: function (content, options) {\n\t\tthis._popupContent = content;\n\t\tthis._popupOptions = options;\n\t\treturn this.invoke('bindPopup', content, options);\n\t},\n\n\topenPopup: function (latlng) {\n\t\t// open popup on the first layer\n\t\tfor (var id in this._layers) {\n\t\t\tthis._layers[id].openPopup(latlng);\n\t\t\tbreak;\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetStyle: function (style) {\n\t\treturn this.invoke('setStyle', style);\n\t},\n\n\tbringToFront: function () {\n\t\treturn this.invoke('bringToFront');\n\t},\n\n\tbringToBack: function () {\n\t\treturn this.invoke('bringToBack');\n\t},\n\n\tgetBounds: function () {\n\t\tvar bounds = new L.LatLngBounds();\n\n\t\tthis.eachLayer(function (layer) {\n\t\t\tbounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());\n\t\t});\n\n\t\treturn bounds;\n\t}\n});\n\nL.featureGroup = function (layers) {\n\treturn new L.FeatureGroup(layers);\n};\n\n\n/*\n * L.Renderer is a base class for renderer implementations (SVG, Canvas);\n * handles renderer container, bounds and zoom animation.\n */\n\nL.Renderer = L.Layer.extend({\n\n\toptions: {\n\t\t// how much to extend the clip area around the map view (relative to its size)\n\t\t// e.g. 0.1 would be 10% of map view in each direction; defaults to clip with the map view\n\t\tpadding: 0\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t\tL.stamp(this);\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._container) {\n\t\t\tthis._initContainer(); // defined by renderer implementations\n\n\t\t\tif (this._zoomAnimated) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-zoom-animated');\n\t\t\t}\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t\tthis._update();\n\t},\n\n\tonRemove: function () {\n\t\tL.DomUtil.remove(this._container);\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tmoveend: this._update\n\t\t};\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\t\treturn events;\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar origin = e.origin.subtract(this._map._getCenterLayerPoint()),\n\t\t    offset = this._bounds.min.add(origin.multiplyBy(1 - e.scale));\n\n\t\tL.DomUtil.setTransform(this._container, offset, e.scale);\n\t},\n\n\t_update: function () {\n\t\t// update pixel bounds of renderer container (for positioning/sizing/clipping later)\n\t\tvar p = this.options.padding,\n\t\t    size = this._map.getSize(),\n\t\t    min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();\n\n\t\tthis._bounds = new L.Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());\n\t}\n});\n\n\nL.Map.include({\n\t// used by each vector layer to decide which renderer to use\n\tgetRenderer: function (layer) {\n\t\tvar renderer = layer.options.renderer || this.options.renderer || this._renderer;\n\n\t\tif (!renderer) {\n\t\t\trenderer = this._renderer = (L.SVG && L.svg()) || (L.Canvas && L.canvas());\n\t\t}\n\n\t\tif (!this.hasLayer(renderer)) {\n\t\t\tthis.addLayer(renderer);\n\t\t}\n\t\treturn renderer;\n\t}\n});\n\n\n/*\n * L.Path is the base class for all Leaflet vector layers like polygons and circles.\n */\n\nL.Path = L.Layer.extend({\n\n\toptions: {\n\t\tstroke: true,\n\t\tcolor: '#3388ff',\n\t\tweight: 3,\n\t\topacity: 1,\n\t\tlineCap: 'round',\n\t\tlineJoin: 'round',\n\t\t// dashArray: null\n\t\t// dashOffset: null\n\n\t\t// fill: false\n\t\t// fillColor: same as color by default\n\t\tfillOpacity: 0.2,\n\t\tfillRule: 'evenodd',\n\n\t\t// className: ''\n\t\tinteractive: true\n\t},\n\n\tonAdd: function () {\n\t\tthis._renderer = this._map.getRenderer(this);\n\t\tthis._renderer._initPath(this);\n\n\t\t// defined in children classes\n\t\tthis._project();\n\t\tthis._update();\n\n\t\tthis._renderer._addPath(this);\n\t},\n\n\tonRemove: function () {\n\t\tthis._renderer._removePath(this);\n\t},\n\n\tgetEvents: function () {\n\t\treturn {\n\t\t\tviewreset: this._project,\n\t\t\tmoveend: this._update\n\t\t};\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._renderer._updatePath(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetStyle: function (style) {\n\t\tL.setOptions(this, style);\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._updateStyle(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToFront: function () {\n\t\tthis._renderer._bringToFront(this);\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tthis._renderer._bringToBack(this);\n\t\treturn this;\n\t},\n\n\t_fireMouseEvent: function (e, type) {\n\t\tthis._map._fireMouseEvent(this, e, type, true);\n\t},\n\n\t_clickTolerance: function () {\n\t\t// used when doing hit detection for Canvas layers\n\t\treturn (this.options.stroke ? this.options.weight / 2 : 0) + (L.Browser.touch ? 10 : 0);\n\t}\n});\n\n\n/*\n * L.LineUtil contains different utility functions for line segments\n * and polylines (clipping, simplification, distances, etc.)\n */\n\n/*jshint bitwise:false */ // allow bitwise operations for this file\n\nL.LineUtil = {\n\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\n\n\tsimplify: function (/*Point[]*/ points, /*Number*/ tolerance) {\n\t\tif (!tolerance || !points.length) {\n\t\t\treturn points.slice();\n\t\t}\n\n\t\tvar sqTolerance = tolerance * tolerance;\n\n\t\t// stage 1: vertex reduction\n\t\tpoints = this._reducePoints(points, sqTolerance);\n\n\t\t// stage 2: Douglas-Peucker simplification\n\t\tpoints = this._simplifyDP(points, sqTolerance);\n\n\t\treturn points;\n\t},\n\n\t// distance from a point to a segment between two points\n\tpointToSegmentDistance:  function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));\n\t},\n\n\tclosestPointOnSegment: function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);\n\t},\n\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\n\t_simplifyDP: function (points, sqTolerance) {\n\n\t\tvar len = points.length,\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\n\t\t    markers = new ArrayConstructor(len);\n\n\t\tmarkers[0] = markers[len - 1] = 1;\n\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\n\n\t\tvar i,\n\t\t    newPoints = [];\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (markers[i]) {\n\t\t\t\tnewPoints.push(points[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn newPoints;\n\t},\n\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {\n\n\t\tvar maxSqDist = 0,\n\t\t    index, i, sqDist;\n\n\t\tfor (i = first + 1; i <= last - 1; i++) {\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);\n\n\t\t\tif (sqDist > maxSqDist) {\n\t\t\t\tindex = i;\n\t\t\t\tmaxSqDist = sqDist;\n\t\t\t}\n\t\t}\n\n\t\tif (maxSqDist > sqTolerance) {\n\t\t\tmarkers[index] = 1;\n\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);\n\t\t}\n\t},\n\n\t// reduce points that are too close to each other to a single point\n\t_reducePoints: function (points, sqTolerance) {\n\t\tvar reducedPoints = [points[0]];\n\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {\n\t\t\t\treducedPoints.push(points[i]);\n\t\t\t\tprev = i;\n\t\t\t}\n\t\t}\n\t\tif (prev < len - 1) {\n\t\t\treducedPoints.push(points[len - 1]);\n\t\t}\n\t\treturn reducedPoints;\n\t},\n\n\t// Cohen-Sutherland line clipping algorithm.\n\t// Used to avoid rendering parts of a polyline that are not currently visible.\n\n\tclipSegment: function (a, b, bounds, useLastCode) {\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),\n\t\t    codeB = this._getBitCode(b, bounds),\n\n\t\t    codeOut, p, newCode;\n\n\t\t// save 2nd code to avoid calculating it on the next segment\n\t\tthis._lastCode = codeB;\n\n\t\twhile (true) {\n\t\t\t// if a,b is inside the clip window (trivial accept)\n\t\t\tif (!(codeA | codeB)) {\n\t\t\t\treturn [a, b];\n\t\t\t// if a,b is outside the clip window (trivial reject)\n\t\t\t} else if (codeA & codeB) {\n\t\t\t\treturn false;\n\t\t\t// other cases\n\t\t\t} else {\n\t\t\t\tcodeOut = codeA || codeB;\n\t\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds);\n\t\t\t\tnewCode = this._getBitCode(p, bounds);\n\n\t\t\t\tif (codeOut === codeA) {\n\t\t\t\t\ta = p;\n\t\t\t\t\tcodeA = newCode;\n\t\t\t\t} else {\n\t\t\t\t\tb = p;\n\t\t\t\t\tcodeB = newCode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_getEdgeIntersection: function (a, b, code, bounds) {\n\t\tvar dx = b.x - a.x,\n\t\t    dy = b.y - a.y,\n\t\t    min = bounds.min,\n\t\t    max = bounds.max,\n\t\t    x, y;\n\n\t\tif (code & 8) { // top\n\t\t\tx = a.x + dx * (max.y - a.y) / dy;\n\t\t\ty = max.y;\n\n\t\t} else if (code & 4) { // bottom\n\t\t\tx = a.x + dx * (min.y - a.y) / dy;\n\t\t\ty = min.y;\n\n\t\t} else if (code & 2) { // right\n\t\t\tx = max.x;\n\t\t\ty = a.y + dy * (max.x - a.x) / dx;\n\n\t\t} else if (code & 1) { // left\n\t\t\tx = min.x;\n\t\t\ty = a.y + dy * (min.x - a.x) / dx;\n\t\t}\n\n\t\treturn new L.Point(x, y, true);\n\t},\n\n\t_getBitCode: function (/*Point*/ p, bounds) {\n\t\tvar code = 0;\n\n\t\tif (p.x < bounds.min.x) { // left\n\t\t\tcode |= 1;\n\t\t} else if (p.x > bounds.max.x) { // right\n\t\t\tcode |= 2;\n\t\t}\n\n\t\tif (p.y < bounds.min.y) { // bottom\n\t\t\tcode |= 4;\n\t\t} else if (p.y > bounds.max.y) { // top\n\t\t\tcode |= 8;\n\t\t}\n\n\t\treturn code;\n\t},\n\n\t// square distance (to avoid unnecessary Math.sqrt calls)\n\t_sqDist: function (p1, p2) {\n\t\tvar dx = p2.x - p1.x,\n\t\t    dy = p2.y - p1.y;\n\t\treturn dx * dx + dy * dy;\n\t},\n\n\t// return closest point on segment or distance to that point\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {\n\t\tvar x = p1.x,\n\t\t    y = p1.y,\n\t\t    dx = p2.x - x,\n\t\t    dy = p2.y - y,\n\t\t    dot = dx * dx + dy * dy,\n\t\t    t;\n\n\t\tif (dot > 0) {\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\n\n\t\t\tif (t > 1) {\n\t\t\t\tx = p2.x;\n\t\t\t\ty = p2.y;\n\t\t\t} else if (t > 0) {\n\t\t\t\tx += dx * t;\n\t\t\t\ty += dy * t;\n\t\t\t}\n\t\t}\n\n\t\tdx = p.x - x;\n\t\tdy = p.y - y;\n\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);\n\t}\n};\n\n\n/*\n * L.Polyline implements polyline vector layer (a set of points connected with lines)\n */\n\nL.Polyline = L.Path.extend({\n\n\toptions: {\n\t\t// how much to simplify the polyline on each zoom level\n\t\t// more = better performance and smoother look, less = more accurate\n\t\tsmoothFactor: 1.0\n\t\t// noClip: false\n\t},\n\n\tinitialize: function (latlngs, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._setLatLngs(latlngs);\n\t},\n\n\tgetLatLngs: function () {\n\t\t// TODO rings\n\t\treturn this._latlngs;\n\t},\n\n\tsetLatLngs: function (latlngs) {\n\t\tthis._setLatLngs(latlngs);\n\t\treturn this.redraw();\n\t},\n\n\taddLatLng: function (latlng) {\n\t\t// TODO rings\n\t\tlatlng = L.latLng(latlng);\n\t\tthis._latlngs.push(latlng);\n\t\tthis._bounds.extend(latlng);\n\t\treturn this.redraw();\n\t},\n\n\tspliceLatLngs: function () {\n\t\t// TODO rings\n\t\tvar removed = [].splice.apply(this._latlngs, arguments);\n\t\tthis._setLatLngs(this._latlngs);\n\t\tthis.redraw();\n\t\treturn removed;\n\t},\n\n\tclosestLayerPoint: function (p) {\n\t\tvar minDistance = Infinity,\n\t\t    minPoint = null,\n\t\t    closest = L.LineUtil._sqClosestPointOnSegment,\n\t\t    p1, p2;\n\n\t\tfor (var j = 0, jLen = this._parts.length; j < jLen; j++) {\n\t\t\tvar points = this._parts[j];\n\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\t\tp1 = points[i - 1];\n\t\t\t\tp2 = points[i];\n\n\t\t\t\tvar sqDist = closest(p, p1, p2, true);\n\n\t\t\t\tif (sqDist < minDistance) {\n\t\t\t\t\tminDistance = sqDist;\n\t\t\t\t\tminPoint = closest(p, p1, p2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minPoint) {\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\n\t\t}\n\t\treturn minPoint;\n\t},\n\n\tgetCenter: function () {\n\t\tvar i, halfDist, segDist, dist, p1, p2, ratio,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\t// polyline centroid algorithm; only uses the first ring if there are multiple\n\n\t\tfor (i = 0, halfDist = 0; i < len - 1; i++) {\n\t\t\thalfDist += points[i].distanceTo(points[i + 1]) / 2;\n\t\t}\n\n\t\tfor (i = 0, dist = 0; i < len - 1; i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[i + 1];\n\t\t\tsegDist = p1.distanceTo(p2);\n\t\t\tdist += segDist;\n\n\t\t\tif (dist > halfDist) {\n\t\t\t\tratio = (dist - halfDist) / segDist;\n\t\t\t\treturn this._map.layerPointToLatLng([\n\t\t\t\t\tp2.x - ratio * (p2.x - p1.x),\n\t\t\t\t\tp2.y - ratio * (p2.y - p1.y)\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tthis._bounds = new L.LatLngBounds();\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t},\n\n\t// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = [],\n\t\t    flat = this._flat(latlngs);\n\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tif (flat) {\n\t\t\t\tresult[i] = L.latLng(latlngs[i]);\n\t\t\t\tthis._bounds.extend(result[i]);\n\t\t\t} else {\n\t\t\t\tresult[i] = this._convertLatLngs(latlngs[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t_flat: function (latlngs) {\n\t\t// true if it's a flat array of latlngs; false if nested\n\t\treturn !L.Util.isArray(latlngs[0]) || typeof latlngs[0][0] !== 'object';\n\t},\n\n\t_project: function () {\n\t\tthis._rings = [];\n\t\tthis._projectLatlngs(this._latlngs, this._rings);\n\n\t\t// project bounds as well to use later for Canvas hit detection/etc.\n\t\tvar w = this._clickTolerance(),\n\t\t\tp = new L.Point(w, -w);\n\n\t\tif (this._latlngs.length) {\n\t\t\tthis._pxBounds = new L.Bounds(\n\t\t\t\tthis._map.latLngToLayerPoint(this._bounds.getSouthWest())._subtract(p),\n\t\t\t\tthis._map.latLngToLayerPoint(this._bounds.getNorthEast())._add(p));\n\t\t}\n\t},\n\n\t// recursively turns latlngs into a set of rings with projected coordinates\n\t_projectLatlngs: function (latlngs, result) {\n\n\t\tvar flat = latlngs[0] instanceof L.LatLng,\n\t\t    len = latlngs.length,\n\t\t    i, ring;\n\n\t\tif (flat) {\n\t\t\tring = [];\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tring[i] = this._map.latLngToLayerPoint(latlngs[i]);\n\t\t\t}\n\t\t\tresult.push(ring);\n\t\t} else {\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tthis._projectLatlngs(latlngs[i], result);\n\t\t\t}\n\t\t}\n\t},\n\n\t// clip polyline by renderer bounds so that we have less to render for performance\n\t_clipPoints: function () {\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._parts = [];\n\n\t\tvar parts = this._parts,\n\t\t    bounds = this._renderer._bounds,\n\t\t    i, j, k, len, len2, segment, points;\n\n\t\tfor (i = 0, k = 0, len = this._rings.length; i < len; i++) {\n\t\t\tpoints = this._rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2 - 1; j++) {\n\t\t\t\tsegment = L.LineUtil.clipSegment(points[j], points[j + 1], bounds, j);\n\n\t\t\t\tif (!segment) { continue; }\n\n\t\t\t\tparts[k] = parts[k] || [];\n\t\t\t\tparts[k].push(segment[0]);\n\n\t\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\n\t\t\t\tif ((segment[1] !== points[j + 1]) || (j === len2 - 2)) {\n\t\t\t\t\tparts[k].push(segment[1]);\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// simplify each clipped part of the polyline for performance\n\t_simplifyPoints: function () {\n\t\tvar parts = this._parts,\n\t\t\ttolerance = this.options.smoothFactor;\n\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\n\t\t\tparts[i] = L.LineUtil.simplify(parts[i], tolerance);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._clipPoints();\n\t\tthis._simplifyPoints();\n\t\tthis._updatePath();\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this);\n\t}\n});\n\nL.polyline = function (latlngs, options) {\n\treturn new L.Polyline(latlngs, options);\n};\n\n\n/*\n * L.PolyUtil contains utility functions for polygons (clipping, etc.).\n */\n\n/*jshint bitwise:false */ // allow bitwise operations here\n\nL.PolyUtil = {};\n\n/*\n * Sutherland-Hodgeman polygon clipping algorithm.\n * Used to avoid rendering parts of a polygon that are not currently visible.\n */\nL.PolyUtil.clipPolygon = function (points, bounds) {\n\tvar clippedPoints,\n\t    edges = [1, 4, 2, 8],\n\t    i, j, k,\n\t    a, b,\n\t    len, edge, p,\n\t    lu = L.LineUtil;\n\n\tfor (i = 0, len = points.length; i < len; i++) {\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);\n\t}\n\n\t// for each edge (left, bottom, right, top)\n\tfor (k = 0; k < 4; k++) {\n\t\tedge = edges[k];\n\t\tclippedPoints = [];\n\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\n\t\t\ta = points[i];\n\t\t\tb = points[j];\n\n\t\t\t// if a is inside the clip window\n\t\t\tif (!(a._code & edge)) {\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\n\t\t\t\tif (b._code & edge) {\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);\n\t\t\t\t\tclippedPoints.push(p);\n\t\t\t\t}\n\t\t\t\tclippedPoints.push(a);\n\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\n\t\t\t} else if (!(b._code & edge)) {\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\n\t\t\t\tp._code = lu._getBitCode(p, bounds);\n\t\t\t\tclippedPoints.push(p);\n\t\t\t}\n\t\t}\n\t\tpoints = clippedPoints;\n\t}\n\n\treturn points;\n};\n\n\n/*\n * L.Polygon implements polygon vector layer (closed polyline with a fill inside).\n */\n\nL.Polygon = L.Polyline.extend({\n\n\toptions: {\n\t\tfill: true\n\t},\n\n\tgetCenter: function () {\n\t\tvar i, j, len, p1, p2, f, area, x, y,\n\t\t    points = this._rings[0];\n\n\t\t// polygon centroid algorithm; only uses the first ring if there are multiple\n\n\t\tarea = x = y = 0;\n\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[j];\n\n\t\t\tf = p1.y * p2.x - p2.y * p1.x;\n\t\t\tx += (p1.x + p2.x) * f;\n\t\t\ty += (p1.y + p2.y) * f;\n\t\t\tarea += f * 3;\n\t\t}\n\n\t\treturn this._map.layerPointToLatLng([x / area, y / area]);\n\t},\n\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = L.Polyline.prototype._convertLatLngs.call(this, latlngs),\n\t\t    len = result.length;\n\n\t\t// remove last point if it equals first one\n\t\tif (len >= 2 && result[0] instanceof L.LatLng && result[0].equals(result[len - 1])) {\n\t\t\tresult.pop();\n\t\t}\n\t\treturn result;\n\t},\n\n\t_clipPoints: function () {\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\t// polygons need a different clipping algorithm so we redefine that\n\n\t\tvar bounds = this._renderer._bounds,\n\t\t    w = this.options.weight,\n\t\t    p = new L.Point(w, w);\n\n\t\t// increase clip padding by stroke width to avoid stroke on clip edges\n\t\tbounds = new L.Bounds(bounds.min.subtract(p), bounds.max.add(p));\n\n\t\tthis._parts = [];\n\n\t\tfor (var i = 0, len = this._rings.length, clipped; i < len; i++) {\n\t\t\tclipped = L.PolyUtil.clipPolygon(this._rings[i], bounds);\n\t\t\tif (clipped.length) {\n\t\t\t\tthis._parts.push(clipped);\n\t\t\t}\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this, true);\n\t}\n});\n\nL.polygon = function (latlngs, options) {\n\treturn new L.Polygon(latlngs, options);\n};\n\n\n/*\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n */\n\nL.Rectangle = L.Polygon.extend({\n\tinitialize: function (latLngBounds, options) {\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\n\t},\n\n\tsetBounds: function (latLngBounds) {\n\t\tthis.setLatLngs(this._boundsToLatLngs(latLngBounds));\n\t},\n\n\t_boundsToLatLngs: function (latLngBounds) {\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);\n\t\treturn [\n\t\t\tlatLngBounds.getSouthWest(),\n\t\t\tlatLngBounds.getNorthWest(),\n\t\t\tlatLngBounds.getNorthEast(),\n\t\t\tlatLngBounds.getSouthEast()\n\t\t];\n\t}\n});\n\nL.rectangle = function (latLngBounds, options) {\n\treturn new L.Rectangle(latLngBounds, options);\n};\n\n\n/*\n * L.CircleMarker is a circle overlay with a permanent pixel radius.\n */\n\nL.CircleMarker = L.Path.extend({\n\n\toptions: {\n\t\tfill: true,\n\t\tradius: 10\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis._radius = this.options.radius;\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis.redraw();\n\t\treturn this.fire('move', {latlng: this._latlng});\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tsetRadius: function (radius) {\n\t\tthis.options.radius = this._radius = radius;\n\t\treturn this.redraw();\n\t},\n\n\tgetRadius: function () {\n\t\treturn this._radius;\n\t},\n\n\tsetStyle : function (options) {\n\t\tvar radius = options && options.radius || this._radius;\n\t\tL.Path.prototype.setStyle.call(this, options);\n\t\tthis.setRadius(radius);\n\t\treturn this;\n\t},\n\n\t_project: function () {\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._updateBounds();\n\t},\n\n\t_updateBounds: function () {\n\t\tvar r = this._radius,\n\t\t    r2 = this._radiusY || r,\n\t\t    w = this._clickTolerance(),\n\t\t    p = [r + w, r2 + w];\n\t\tthis._pxBounds = new L.Bounds(this._point.subtract(p), this._point.add(p));\n\t},\n\n\t_update: function () {\n\t\tif (this._map) {\n\t\t\tthis._updatePath();\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updateCircle(this);\n\t},\n\n\t_empty: function () {\n\t\treturn this._radius && !this._renderer._bounds.intersects(this._pxBounds);\n\t}\n});\n\nL.circleMarker = function (latlng, options) {\n\treturn new L.CircleMarker(latlng, options);\n};\n\n\n/*\n * L.Circle is a circle overlay (with a certain radius in meters).\n * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion)\n */\n\nL.Circle = L.CircleMarker.extend({\n\n\tinitialize: function (latlng, radius, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis._mRadius = radius;\n\t},\n\n\tsetRadius: function (radius) {\n\t\tthis._mRadius = radius;\n\t\treturn this.redraw();\n\t},\n\n\tgetRadius: function () {\n\t\treturn this._mRadius;\n\t},\n\n\tgetBounds: function () {\n\t\tvar half = [this._radius, this._radiusY];\n\n\t\treturn new L.LatLngBounds(\n\t\t\tthis._map.layerPointToLatLng(this._point.subtract(half)),\n\t\t\tthis._map.layerPointToLatLng(this._point.add(half)));\n\t},\n\n\tsetStyle: L.Path.prototype.setStyle,\n\n\t_project: function () {\n\n\t\tvar lng = this._latlng.lng,\n\t\t    lat = this._latlng.lat,\n\t\t    map = this._map,\n\t\t    crs = map.options.crs;\n\n\t\tif (crs.distance === L.CRS.Earth.distance) {\n\t\t\tvar d = Math.PI / 180,\n\t\t\t    latR = (this._mRadius / L.CRS.Earth.R) / d,\n\t\t\t    top = map.project([lat + latR, lng]),\n\t\t\t    bottom = map.project([lat - latR, lng]),\n\t\t\t    p = top.add(bottom).divideBy(2),\n\t\t\t    lat2 = map.unproject(p).lat,\n\t\t\t    lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) /\n\t\t\t            (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;\n\n\t\t\tthis._point = p.subtract(map.getPixelOrigin());\n\t\t\tthis._radius = isNaN(lngR) ? 0 : Math.max(Math.round(p.x - map.project([lat2, lng - lngR]).x), 1);\n\t\t\tthis._radiusY = Math.max(Math.round(p.y - top.y), 1);\n\n\t\t} else {\n\t\t\tvar latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));\n\n\t\t\tthis._point = map.latLngToLayerPoint(this._latlng);\n\t\t\tthis._radius = this._point.x - map.latLngToLayerPoint(latlng2).x;\n\t\t}\n\n\t\tthis._updateBounds();\n\t}\n});\n\nL.circle = function (latlng, radius, options) {\n\treturn new L.Circle(latlng, radius, options);\n};\n\n\n/*\n * L.SVG renders vector layers with SVG. All SVG-specific code goes here.\n */\n\nL.SVG = L.Renderer.extend({\n\n\t_initContainer: function () {\n\t\tthis._container = L.SVG.create('svg');\n\n\t\tthis._paths = {};\n\t\tthis._initEvents();\n\n\t\t// makes it possible to click through svg root; we'll reset it back in individual paths\n\t\tthis._container.setAttribute('pointer-events', 'none');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    size = b.getSize(),\n\t\t    container = this._container,\n\t\t    pane = this.getPane();\n\n\t\t// hack to make flicker on drag end on mobile webkit less irritating\n\t\tif (L.Browser.mobileWebkit) {\n\t\t\tpane.removeChild(container);\n\t\t}\n\n\t\tL.DomUtil.setPosition(container, b.min);\n\n\t\t// set size of svg-container if changed\n\t\tif (!this._svgSize || !this._svgSize.equals(size)) {\n\t\t\tthis._svgSize = size;\n\t\t\tcontainer.setAttribute('width', size.x);\n\t\t\tcontainer.setAttribute('height', size.y);\n\t\t}\n\n\t\t// movement: update container viewBox so that we don't have to change coordinates of individual layers\n\t\tL.DomUtil.setPosition(container, b.min);\n\t\tcontainer.setAttribute('viewBox', [b.min.x, b.min.y, size.x, size.y].join(' '));\n\t\t\n\t\tif (L.Browser.mobileWebkit) {\n\t\t\tpane.appendChild(container);\n\t\t}\n\t},\n\n\t// methods below are called by vector layers implementations\n\n\t_initPath: function (layer) {\n\t\tvar path = layer._path = L.SVG.create('path');\n\n\t\tif (layer.options.className) {\n\t\t\tL.DomUtil.addClass(path, layer.options.className);\n\t\t}\n\n\t\tif (layer.options.interactive) {\n\t\t\tL.DomUtil.addClass(path, 'leaflet-interactive');\n\t\t}\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tvar path = layer._path;\n\t\tthis._container.appendChild(path);\n\t\tthis._paths[L.stamp(path)] = layer;\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar path = layer._path;\n\t\tL.DomUtil.remove(path);\n\t\tdelete this._paths[L.stamp(path)];\n\t},\n\n\t_updatePath: function (layer) {\n\t\tlayer._project();\n\t\tlayer._update();\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar path = layer._path,\n\t\t\toptions = layer.options;\n\n\t\tif (!path) { return; }\n\n\t\tif (options.stroke) {\n\t\t\tpath.setAttribute('stroke', options.color);\n\t\t\tpath.setAttribute('stroke-opacity', options.opacity);\n\t\t\tpath.setAttribute('stroke-width', options.weight);\n\t\t\tpath.setAttribute('stroke-linecap', options.lineCap);\n\t\t\tpath.setAttribute('stroke-linejoin', options.lineJoin);\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tpath.setAttribute('stroke-dasharray', options.dashArray);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dasharray');\n\t\t\t}\n\n\t\t\tif (options.dashOffset) {\n\t\t\t\tpath.setAttribute('stroke-dashoffset', options.dashOffset);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dashoffset');\n\t\t\t}\n\t\t} else {\n\t\t\tpath.setAttribute('stroke', 'none');\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tpath.setAttribute('fill', options.fillColor || options.color);\n\t\t\tpath.setAttribute('fill-opacity', options.fillOpacity);\n\t\t\tpath.setAttribute('fill-rule', options.fillRule || 'evenodd');\n\t\t} else {\n\t\t\tpath.setAttribute('fill', 'none');\n\t\t}\n\n\t\tpath.setAttribute('pointer-events', options.pointerEvents || (options.interactive ? 'visiblePainted' : 'none'));\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\t\tthis._setPath(layer, L.SVG.pointsToPath(layer._parts, closed));\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point,\n\t\t    r = layer._radius,\n\t\t    r2 = layer._radiusY || r,\n\t\t    arc = 'a' + r + ',' + r2 + ' 0 1,0 ';\n\n\t\t// drawing a circle with two half-arcs\n\t\tvar d = layer._empty() ? 'M0 0' :\n\t\t\t\t'M' + (p.x - r) + ',' + p.y +\n\t\t\t\tarc +  (r * 2) + ',0 ' +\n\t\t\t\tarc + (-r * 2) + ',0 ';\n\n\t\tthis._setPath(layer, d);\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.setAttribute('d', path);\n\t},\n\n\t// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements\n\t_bringToFront: function (layer) {\n\t\tL.DomUtil.toFront(layer._path);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tL.DomUtil.toBack(layer._path);\n\t},\n\n\t// TODO remove duplication with L.Map\n\t_initEvents: function () {\n\t\tL.DomEvent.on(this._container, 'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu',\n\t\t\t\tthis._fireMouseEvent, this);\n\t},\n\n\t_fireMouseEvent: function (e) {\n\t\tvar path = this._paths[L.stamp(e.target || e.srcElement)];\n\t\tif (path) {\n\t\t\tpath._fireMouseEvent(e);\n\t\t}\n\t}\n});\n\n\nL.extend(L.SVG, {\n\tcreate: function (name) {\n\t\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n\t},\n\n\t// generates SVG path string for multiple rings, with each ring turning into \"M..L..L..\" instructions\n\tpointsToPath: function (rings, closed) {\n\t\tvar str = '',\n\t\t\ti, j, len, len2, points, p;\n\n\t\tfor (i = 0, len = rings.length; i < len; i++) {\n\t\t\tpoints = rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2; j++) {\n\t\t\t\tp = points[j];\n\t\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\n\t\t\t}\n\n\t\t\t// closes the ring for polygons; \"x\" is VML syntax\n\t\t\tstr += closed ? (L.Browser.svg ? 'z' : 'x') : '';\n\t\t}\n\n\t\t// SVG complains about empty path strings\n\t\treturn str || 'M0 0';\n\t}\n});\n\nL.Browser.svg = !!(document.createElementNS && L.SVG.create('svg').createSVGRect);\n\nL.svg = function (options) {\n\treturn L.Browser.svg || L.Browser.vml ? new L.SVG(options) : null;\n};\n\n\n/*\n * Vector rendering for IE7-8 through VML.\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n */\n\nL.Browser.vml = !L.Browser.svg && (function () {\n\ttry {\n\t\tvar div = document.createElement('div');\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\n\n\t\tvar shape = div.firstChild;\n\t\tshape.style.behavior = 'url(#default#VML)';\n\n\t\treturn shape && (typeof shape.adj === 'object');\n\n\t} catch (e) {\n\t\treturn false;\n\t}\n}());\n\n// redefine some SVG methods to handle VML syntax which is similar but with some differences\nL.SVG.include(!L.Browser.vml ? {} : {\n\n\t_initContainer: function () {\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-vml-container');\n\n\t\tthis._paths = {};\n\t\tthis._initEvents();\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom) { return; }\n\t\tL.Renderer.prototype._update.call(this);\n\t},\n\n\t_initPath: function (layer) {\n\t\tvar container = layer._container = L.SVG.create('shape');\n\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape ' + (this.options.className || ''));\n\n\t\tcontainer.coordsize = '1 1';\n\n\t\tlayer._path = L.SVG.create('path');\n\t\tcontainer.appendChild(layer._path);\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tvar container = layer._container;\n\t\tthis._container.appendChild(container);\n\t\tthis._paths[L.stamp(container)] = layer;\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar container = layer._container;\n\t\tL.DomUtil.remove(container);\n\t\tdelete this._paths[L.stamp(container)];\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar stroke = layer._stroke,\n\t\t    fill = layer._fill,\n\t\t    options = layer.options,\n\t\t    container = layer._container;\n\n\t\tcontainer.stroked = !!options.stroke;\n\t\tcontainer.filled = !!options.fill;\n\n\t\tif (options.stroke) {\n\t\t\tif (!stroke) {\n\t\t\t\tstroke = layer._stroke = L.SVG.create('stroke');\n\t\t\t\tcontainer.appendChild(stroke);\n\t\t\t}\n\t\t\tstroke.weight = options.weight + 'px';\n\t\t\tstroke.color = options.color;\n\t\t\tstroke.opacity = options.opacity;\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?\n\t\t\t\t    options.dashArray.join(' ') :\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\n\t\t\t} else {\n\t\t\t\tstroke.dashStyle = '';\n\t\t\t}\n\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\n\t\t\tstroke.joinstyle = options.lineJoin;\n\n\t\t} else if (stroke) {\n\t\t\tcontainer.removeChild(stroke);\n\t\t\tlayer._stroke = null;\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tif (!fill) {\n\t\t\t\tfill = layer._fill = L.SVG.create('fill');\n\t\t\t\tcontainer.appendChild(fill);\n\t\t\t}\n\t\t\tfill.color = options.fillColor || options.color;\n\t\t\tfill.opacity = options.fillOpacity;\n\n\t\t} else if (fill) {\n\t\t\tcontainer.removeChild(fill);\n\t\t\tlayer._fill = null;\n\t\t}\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point.round(),\n\t\t    r = Math.round(layer._radius),\n\t\t    r2 = Math.round(layer._radiusY || r);\n\n\t\tthis._setPath(layer, layer._empty() ? 'M0 0' :\n\t\t\t\t'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r2 + ' 0,' + (65535 * 360));\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.v = path;\n\t}\n});\n\nif (L.Browser.vml) {\n\tL.SVG.create = (function () {\n\t\ttry {\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\n\t\t\t};\n\t\t} catch (e) {\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\n\t\t\t};\n\t\t}\n\t})();\n}\n\n\n/*\n * L.Canvas handles Canvas vector layers rendering and mouse events handling. All Canvas-specific code goes here.\n */\n\nL.Canvas = L.Renderer.extend({\n\n\tonAdd: function () {\n\t\tL.Renderer.prototype.onAdd.call(this);\n\n\t\tthis._layers = this._layers || {};\n\n\t\t// redraw vectors since canvas is cleared upon removal\n\t\tthis._draw();\n\t},\n\n\t_initContainer: function () {\n\t\tvar container = this._container = document.createElement('canvas');\n\n\t\tL.DomEvent\n\t\t\t.on(container, 'mousemove', this._onMouseMove, this)\n\t\t\t.on(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this);\n\n\t\tthis._ctx = container.getContext('2d');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    container = this._container,\n\t\t    size = b.getSize(),\n\t\t    m = L.Browser.retina ? 2 : 1;\n\n\t\tL.DomUtil.setPosition(container, b.min);\n\n\t\t// set canvas size (also clearing it); use double size on retina\n\t\tcontainer.width = m * size.x;\n\t\tcontainer.height = m * size.y;\n\t\tcontainer.style.width = size.x + 'px';\n\t\tcontainer.style.height = size.y + 'px';\n\n\t\tif (L.Browser.retina) {\n\t\t\tthis._ctx.scale(2, 2);\n\t\t}\n\n\t\t// translate so we use the same path coordinates after canvas element moves\n\t\tthis._ctx.translate(-b.min.x, -b.min.y);\n\t},\n\n\t_initPath: function (layer) {\n\t\tthis._layers[L.stamp(layer)] = layer;\n\t},\n\n\t_addPath: L.Util.falseFn,\n\n\t_removePath: function (layer) {\n\t\tlayer._removed = true;\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updatePath: function (layer) {\n\t\tthis._redrawBounds = layer._pxBounds;\n\t\tthis._draw(true);\n\t\tlayer._project();\n\t\tlayer._update();\n\t\tthis._draw();\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_requestRedraw: function (layer) {\n\t\tif (!this._map) { return; }\n\n\t\tthis._redrawBounds = this._redrawBounds || new L.Bounds();\n\t\tthis._redrawBounds.extend(layer._pxBounds.min).extend(layer._pxBounds.max);\n\n\t\tthis._redrawRequest = this._redrawRequest || L.Util.requestAnimFrame(this._redraw, this);\n\t},\n\n\t_redraw: function () {\n\t\tthis._redrawRequest = null;\n\n\t\tthis._draw(true); // clear layers in redraw bounds\n\t\tthis._draw(); // draw layers\n\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_draw: function (clear) {\n\t\tthis._clear = clear;\n\t\tvar layer;\n\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tif (!this._redrawBounds || layer._pxBounds.intersects(this._redrawBounds)) {\n\t\t\t\tlayer._updatePath();\n\t\t\t}\n\t\t\tif (clear && layer._removed) {\n\t\t\t\tdelete layer._removed;\n\t\t\t\tdelete this._layers[id];\n\t\t\t}\n\t\t}\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\n\t\tvar i, j, len2, p,\n\t\t    parts = layer._parts,\n\t\t    len = parts.length,\n\t\t    ctx = this._ctx;\n\n\t    if (!len) { return; }\n\n\t\tctx.beginPath();\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tfor (j = 0, len2 = parts[i].length; j < len2; j++) {\n\t\t\t\tp = parts[i][j];\n\t\t\t\tctx[j ? 'lineTo' : 'moveTo'](p.x, p.y);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},\n\n\t_updateCircle: function (layer) {\n\n\t\tif (layer._empty()) { return; }\n\n\t\tvar p = layer._point,\n\t\t    ctx = this._ctx,\n\t\t    r = layer._radius,\n\t\t    s = (layer._radiusY || r) / r;\n\n\t\tif (s !== 1) {\n\t\t\tctx.save();\n\t\t\tctx.scale(1, s);\n\t\t}\n\n\t\tctx.beginPath();\n\t\tctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);\n\n\t\tif (s !== 1) {\n\t\t\tctx.restore();\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\t},\n\n\t_fillStroke: function (ctx, layer) {\n\t\tvar clear = this._clear,\n\t\t    options = layer.options;\n\n\t\tctx.globalCompositeOperation = clear ? 'destination-out' : 'source-over';\n\n\t\tif (options.fill) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.fillOpacity;\n\t\t\tctx.fillStyle = options.fillColor || options.color;\n\t\t\tctx.fill(options.fillRule || 'evenodd');\n\t\t}\n\n\t\tif (options.stroke) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.opacity;\n\n\t\t\t// if clearing shape, do it with the previously drawn line width\n\t\t\tlayer._prevWeight = ctx.lineWidth = clear ? layer._prevWeight + 1 : options.weight;\n\n\t\t\tctx.strokeStyle = options.color;\n\t\t\tctx.lineCap = options.lineCap;\n\t\t\tctx.lineJoin = options.lineJoin;\n\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t// Canvas obviously doesn't have mouse events for individual drawn objects,\n\t// so we emulate that by calculating what's under the mouse on mousemove/click manually\n\n\t_onClick: function (e) {\n\t\tvar point = this._map.mouseEventToLayerPoint(e);\n\n\t\tfor (var id in this._layers) {\n\t\t\tif (this._layers[id]._containsPoint(point)) {\n\t\t\t\tthis._layers[id]._fireMouseEvent(e);\n\t\t\t}\n\t\t}\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._map || this._map._animatingZoom) { return; }\n\n\t\tvar point = this._map.mouseEventToLayerPoint(e);\n\n\t\t// TODO don't do on each move event, throttle since it's expensive\n\t\tfor (var id in this._layers) {\n\t\t\tthis._handleHover(this._layers[id], e, point);\n\t\t}\n\t},\n\n\t_handleHover: function (layer, e, point) {\n\t\tif (!layer.options.interactive) { return; }\n\n\t\tif (layer._containsPoint(point)) {\n\t\t\t// if we just got inside the layer, fire mouseover\n\t\t\tif (!layer._mouseInside) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-interactive'); // change cursor\n\t\t\t\tlayer._fireMouseEvent(e, 'mouseover');\n\t\t\t\tlayer._mouseInside = true;\n\t\t\t}\n\t\t\t// fire mousemove\n\t\t\tlayer._fireMouseEvent(e);\n\n\t\t} else if (layer._mouseInside) {\n\t\t\t// if we're leaving the layer, fire mouseout\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-interactive');\n\t\t\tlayer._fireMouseEvent(e, 'mouseout');\n\t\t\tlayer._mouseInside = false;\n\t\t}\n\t},\n\n\t// TODO _bringToFront & _bringToBack, pretty tricky\n\n\t_bringToFront: L.Util.falseFn,\n\t_bringToBack: L.Util.falseFn\n});\n\nL.Browser.canvas = (function () {\n\treturn !!document.createElement('canvas').getContext;\n}());\n\nL.canvas = function (options) {\n\treturn L.Browser.canvas ? new L.Canvas(options) : null;\n};\n\nL.Polyline.prototype._containsPoint = function (p, closed) {\n\tvar i, j, k, len, len2, part,\n\t    w = this._clickTolerance();\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// hit detection for polylines\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tif (!closed && (j === 0)) { continue; }\n\n\t\t\tif (L.LineUtil.pointToSegmentDistance(p, part[k], part[j]) <= w) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nL.Polygon.prototype._containsPoint = function (p) {\n\tvar inside = false,\n\t    part, p1, p2, i, j, k, len, len2;\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// ray casting algorithm for detecting if point is in polygon\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tp1 = part[j];\n\t\t\tp2 = part[k];\n\n\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) && (p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n\t\t\t\tinside = !inside;\n\t\t\t}\n\t\t}\n\t}\n\n\t// also check if it's on polygon stroke\n\treturn inside || L.Polyline.prototype._containsPoint.call(this, p, true);\n};\n\nL.CircleMarker.prototype._containsPoint = function (p) {\n\treturn p.distanceTo(this._point) <= this._radius + this._clickTolerance();\n};\n\n\n/*\n * L.GeoJSON turns any GeoJSON data into a Leaflet layer.\n */\n\nL.GeoJSON = L.FeatureGroup.extend({\n\n\tinitialize: function (geojson, options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._layers = {};\n\n\t\tif (geojson) {\n\t\t\tthis.addData(geojson);\n\t\t}\n\t},\n\n\taddData: function (geojson) {\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,\n\t\t    i, len, feature;\n\n\t\tif (features) {\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\n\t\t\t\t// Only add this if geometry or geometries are set and not null\n\t\t\t\tfeature = features[i];\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\n\t\t\t\t\tthis.addData(feature);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\tif (options.filter && !options.filter(geojson)) { return; }\n\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options);\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);\n\n\t\tlayer.defaultOptions = layer.options;\n\t\tthis.resetStyle(layer);\n\n\t\tif (options.onEachFeature) {\n\t\t\toptions.onEachFeature(geojson, layer);\n\t\t}\n\n\t\treturn this.addLayer(layer);\n\t},\n\n\tresetStyle: function (layer) {\n\t\t// reset any custom styles\n\t\tlayer.options = layer.defaultOptions;\n\t\tthis._setLayerStyle(layer, this.options.style);\n\t\treturn this;\n\t},\n\n\tsetStyle: function (style) {\n\t\treturn this.eachLayer(function (layer) {\n\t\t\tthis._setLayerStyle(layer, style);\n\t\t}, this);\n\t},\n\n\t_setLayerStyle: function (layer, style) {\n\t\tif (typeof style === 'function') {\n\t\t\tstyle = style(layer.feature);\n\t\t}\n\t\tif (layer.setStyle) {\n\t\t\tlayer.setStyle(style);\n\t\t}\n\t}\n});\n\nL.extend(L.GeoJSON, {\n\tgeometryToLayer: function (geojson, options) {\n\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\n\t\t    coords = geometry.coordinates,\n\t\t    layers = [],\n\t\t    pointToLayer = options && options.pointToLayer,\n\t\t    coordsToLatLng = options && options.coordsToLatLng || this.coordsToLatLng,\n\t\t    latlng, latlngs, i, len;\n\n\t\tswitch (geometry.type) {\n\t\tcase 'Point':\n\t\t\tlatlng = coordsToLatLng(coords);\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);\n\n\t\tcase 'MultiPoint':\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));\n\t\t\t}\n\t\t\treturn new L.FeatureGroup(layers);\n\n\t\tcase 'LineString':\n\t\tcase 'MultiLineString':\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'LineString' ? 0 : 1, coordsToLatLng);\n\t\t\treturn new L.Polyline(latlngs, options);\n\n\t\tcase 'Polygon':\n\t\tcase 'MultiPolygon':\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'Polygon' ? 1 : 2, coordsToLatLng);\n\t\t\treturn new L.Polygon(latlngs, options);\n\n\t\tcase 'GeometryCollection':\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\n\n\t\t\t\tlayers.push(this.geometryToLayer({\n\t\t\t\t\tgeometry: geometry.geometries[i],\n\t\t\t\t\ttype: 'Feature',\n\t\t\t\t\tproperties: geojson.properties\n\t\t\t\t}, options));\n\t\t\t}\n\t\t\treturn new L.FeatureGroup(layers);\n\n\t\tdefault:\n\t\t\tthrow new Error('Invalid GeoJSON object.');\n\t\t}\n\t},\n\n\tcoordsToLatLng: function (coords) {\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);\n\t},\n\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) {\n\t\tvar latlngs = [];\n\n\t\tfor (var i = 0, len = coords.length, latlng; i < len; i++) {\n\t\t\tlatlng = levelsDeep ?\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);\n\n\t\t\tlatlngs.push(latlng);\n\t\t}\n\n\t\treturn latlngs;\n\t},\n\n\tlatLngToCoords: function (latlng) {\n\t\treturn latlng.alt !== undefined ?\n\t\t\t\t[latlng.lng, latlng.lat, latlng.alt] :\n\t\t\t\t[latlng.lng, latlng.lat];\n\t},\n\n\tlatLngsToCoords: function (latlngs, levelsDeep, closed) {\n\t\tvar coords = [];\n\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tcoords.push(levelsDeep ?\n\t\t\t\tL.GeoJSON.latLngsToCoords(latlngs[i], levelsDeep - 1, closed):\n\t\t\t\tL.GeoJSON.latLngToCoords(latlngs[i]));\n\t\t}\n\n\t\tif (!levelsDeep && closed) {\n\t\t\tcoords.push(coords[0]);\n\t\t}\n\n\t\treturn coords;\n\t},\n\n\tgetFeature: function (layer, newGeometry) {\n\t\treturn layer.feature ?\n\t\t\t\tL.extend({}, layer.feature, {geometry: newGeometry}) :\n\t\t\t\tL.GeoJSON.asFeature(newGeometry);\n\t},\n\n\tasFeature: function (geoJSON) {\n\t\tif (geoJSON.type === 'Feature') {\n\t\t\treturn geoJSON;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'Feature',\n\t\t\tproperties: {},\n\t\t\tgeometry: geoJSON\n\t\t};\n\t}\n});\n\nvar PointToGeoJSON = {\n\ttoGeoJSON: function () {\n\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\ttype: 'Point',\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())\n\t\t});\n\t}\n};\n\nL.Marker.include(PointToGeoJSON);\nL.Circle.include(PointToGeoJSON);\nL.CircleMarker.include(PointToGeoJSON);\n\nL.Polyline.prototype.toGeoJSON = function () {\n\tvar multi = !this._flat(this._latlngs);\n\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 1 : 0);\n\n\treturn L.GeoJSON.getFeature(this, {\n\t\ttype: (multi ? 'Multi' : '') + 'LineString',\n\t\tcoordinates: coords\n\t});\n};\n\nL.Polygon.prototype.toGeoJSON = function () {\n\tvar holes = !this._flat(this._latlngs),\n\t    multi = holes && !this._flat(this._latlngs[0]);\n\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true);\n\n\tif (holes && this._latlngs.length === 1) {\n\t\tmulti = true;\n\t\tcoords = [coords];\n\t}\n\tif (!holes) {\n\t\tcoords = [coords];\n\t}\n\n\treturn L.GeoJSON.getFeature(this, {\n\t\ttype: (multi ? 'Multi' : '') + 'Polygon',\n\t\tcoordinates: coords\n\t});\n};\n\n\nL.LayerGroup.include({\n\ttoMultiPoint: function () {\n\t\tvar coords = [];\n\n\t\tthis.eachLayer(function (layer) {\n\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);\n\t\t});\n\n\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\ttype: 'MultiPoint',\n\t\t\tcoordinates: coords\n\t\t});\n\t},\n\n\ttoGeoJSON: function () {\n\n\t\tvar type = this.feature && this.feature.geometry && this.feature.geometry.type;\n\n\t\tif (type === 'MultiPoint') {\n\t\t\treturn this.toMultiPoint();\n\t\t}\n\n\t\tvar isGeometryCollection = type === 'GeometryCollection',\n\t\t\tjsons = [];\n\n\t\tthis.eachLayer(function (layer) {\n\t\t\tif (layer.toGeoJSON) {\n\t\t\t\tvar json = layer.toGeoJSON();\n\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));\n\t\t\t}\n\t\t});\n\n\t\tif (isGeometryCollection) {\n\t\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\t\tgeometries: jsons,\n\t\t\t\ttype: 'GeometryCollection'\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'FeatureCollection',\n\t\t\tfeatures: jsons\n\t\t};\n\t}\n});\n\nL.geoJson = function (geojson, options) {\n\treturn new L.GeoJSON(geojson, options);\n};\n\n\n/*\n * L.DomEvent contains functions for working with DOM events.\n * Inspired by John Resig, Dean Edwards and YUI addEvent implementations.\n */\n\nvar eventsKey = '_leaflet_events';\n\nL.DomEvent = {\n\n\ton: function (obj, types, fn, context) {\n\n\t\tif (typeof types === 'object') {\n\t\t\tfor (var type in types) {\n\t\t\t\tthis._on(obj, type, types[type], fn);\n\t\t\t}\n\t\t} else {\n\t\t\ttypes = L.Util.splitWords(types);\n\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\n\t\t\t\tthis._on(obj, types[i], fn, context);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\toff: function (obj, types, fn, context) {\n\n\t\tif (typeof types === 'object') {\n\t\t\tfor (var type in types) {\n\t\t\t\tthis._off(obj, type, types[type], fn);\n\t\t\t}\n\t\t} else {\n\t\t\ttypes = L.Util.splitWords(types);\n\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\n\t\t\t\tthis._off(obj, types[i], fn, context);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_on: function (obj, type, fn, context) {\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : '');\n\n\t\tif (obj[eventsKey] && obj[eventsKey][id]) { return this; }\n\n\t\tvar handler = function (e) {\n\t\t\treturn fn.call(context || obj, e || window.event);\n\t\t};\n\n\t\tvar originalHandler = handler;\n\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\n\t\t\tthis.addPointerListener(obj, type, handler, id);\n\t\t\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {\n\t\t\tthis.addDoubleTapListener(obj, handler, id);\n\n\t\t} else if ('addEventListener' in obj) {\n\n\t\t\tif (type === 'mousewheel') {\n\t\t\t\tobj.addEventListener('DOMMouseScroll', handler, false);\n\t\t\t\tobj.addEventListener(type, handler, false);\n\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\n\t\t\t\thandler = function (e) {\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tif (!L.DomEvent._checkMouse(obj, e)) { return; }\n\t\t\t\t\treturn originalHandler(e);\n\t\t\t\t};\n\t\t\t\tobj.addEventListener(type === 'mouseenter' ? 'mouseover' : 'mouseout', handler, false);\n\n\t\t\t} else {\n\t\t\t\tif (type === 'click' && L.Browser.android) {\n\t\t\t\t\thandler = function (e) {\n\t\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tobj.addEventListener(type, handler, false);\n\t\t\t}\n\n\t\t} else if ('attachEvent' in obj) {\n\t\t\tobj.attachEvent('on' + type, handler);\n\t\t}\n\n\t\tobj[eventsKey] = obj[eventsKey] || {};\n\t\tobj[eventsKey][id] = handler;\n\n\t\treturn this;\n\t},\n\n\t_off: function (obj, type, fn, context) {\n\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : ''),\n\t\t    handler = obj[eventsKey] && obj[eventsKey][id];\n\n\t\tif (!handler) { return this; }\n\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\n\t\t\tthis.removePointerListener(obj, type, id);\n\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {\n\t\t\tthis.removeDoubleTapListener(obj, id);\n\n\t\t} else if ('removeEventListener' in obj) {\n\n\t\t\tif (type === 'mousewheel') {\n\t\t\t\tobj.removeEventListener('DOMMouseScroll', handler, false);\n\t\t\t\tobj.removeEventListener(type, handler, false);\n\n\t\t\t} else {\n\t\t\t\tobj.removeEventListener(\n\t\t\t\t\ttype === 'mouseenter' ? 'mouseover' :\n\t\t\t\t\ttype === 'mouseleave' ? 'mouseout' : type, handler, false);\n\t\t\t}\n\n\t\t} else if ('detachEvent' in obj) {\n\t\t\tobj.detachEvent('on' + type, handler);\n\t\t}\n\n\t\tobj[eventsKey][id] = null;\n\n\t\treturn this;\n\t},\n\n\tstopPropagation: function (e) {\n\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation();\n\t\t} else {\n\t\t\te.cancelBubble = true;\n\t\t}\n\t\tL.DomEvent._skipped(e);\n\n\t\treturn this;\n\t},\n\n\tdisableScrollPropagation: function (el) {\n\t\treturn L.DomEvent.on(el, 'mousewheel MozMousePixelScroll', L.DomEvent.stopPropagation);\n\t},\n\n\tdisableClickPropagation: function (el) {\n\t\tvar stop = L.DomEvent.stopPropagation;\n\n\t\tL.DomEvent.on(el, L.Draggable.START.join(' '), stop);\n\n\t\treturn L.DomEvent.on(el, {\n\t\t\tclick: L.DomEvent._fakeStop,\n\t\t\tdblclick: stop\n\t\t});\n\t},\n\n\tpreventDefault: function (e) {\n\n\t\tif (e.preventDefault) {\n\t\t\te.preventDefault();\n\t\t} else {\n\t\t\te.returnValue = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\tstop: function (e) {\n\t\treturn L.DomEvent\n\t\t\t.preventDefault(e)\n\t\t\t.stopPropagation(e);\n\t},\n\n\tgetMousePosition: function (e, container) {\n\t\tif (!container) {\n\t\t\treturn new L.Point(e.clientX, e.clientY);\n\t\t}\n\n\t\tvar rect = container.getBoundingClientRect();\n\n\t\treturn new L.Point(\n\t\t\te.clientX - rect.left - container.clientLeft,\n\t\t\te.clientY - rect.top - container.clientTop);\n\t},\n\n\tgetWheelDelta: function (e) {\n\n\t\tvar delta = 0;\n\n\t\tif (e.wheelDelta) {\n\t\t\tdelta = e.wheelDelta / 120;\n\t\t}\n\t\tif (e.detail) {\n\t\t\tdelta = -e.detail / 3;\n\t\t}\n\t\treturn delta;\n\t},\n\n\t_skipEvents: {},\n\n\t_fakeStop: function (e) {\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\n\t\tL.DomEvent._skipEvents[e.type] = true;\n\t},\n\n\t_skipped: function (e) {\n\t\tvar skipped = this._skipEvents[e.type];\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map\n\t\tthis._skipEvents[e.type] = false;\n\t\treturn skipped;\n\t},\n\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)\n\t_checkMouse: function (el, e) {\n\n\t\tvar related = e.relatedTarget;\n\n\t\tif (!related) { return true; }\n\n\t\ttry {\n\t\t\twhile (related && (related !== el)) {\n\t\t\t\trelated = related.parentNode;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (related !== el);\n\t},\n\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events\n\t_filterClick: function (e, handler) {\n\t\tvar timeStamp = (e.timeStamp || e.originalEvent.timeStamp),\n\t\t\telapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);\n\n\t\t// are they closer together than 500ms yet more than 100ms?\n\t\t// Android typically triggers them ~300ms apart while multiple listeners\n\t\t// on the same event should be triggered far faster;\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\n\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {\n\t\t\tL.DomEvent.stop(e);\n\t\t\treturn;\n\t\t}\n\t\tL.DomEvent._lastClick = timeStamp;\n\n\t\treturn handler(e);\n\t}\n};\n\nL.DomEvent.addListener = L.DomEvent.on;\nL.DomEvent.removeListener = L.DomEvent.off;\n\n\n/*\n * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.\n */\n\nL.Draggable = L.Evented.extend({\n\n\tstatics: {\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],\n\t\tEND: {\n\t\t\tmousedown: 'mouseup',\n\t\t\ttouchstart: 'touchend',\n\t\t\tpointerdown: 'touchend',\n\t\t\tMSPointerDown: 'touchend'\n\t\t},\n\t\tMOVE: {\n\t\t\tmousedown: 'mousemove',\n\t\t\ttouchstart: 'touchmove',\n\t\t\tpointerdown: 'touchmove',\n\t\t\tMSPointerDown: 'touchmove'\n\t\t}\n\t},\n\n\tinitialize: function (element, dragStartTarget) {\n\t\tthis._element = element;\n\t\tthis._dragStartTarget = dragStartTarget || element;\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled) { return; }\n\n\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\n\n\t\tthis._enabled = true;\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\n\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\n\n\t\tthis._enabled = false;\n\t\tthis._moved = false;\n\t},\n\n\t_onDown: function (e) {\n\t\tthis._moved = false;\n\n\t\tif (e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }\n\n\t\tL.DomEvent.stopPropagation(e);\n\n\t\tif (L.Draggable._disabled) { return; }\n\n\t\tL.DomUtil.disableImageDrag();\n\t\tL.DomUtil.disableTextSelection();\n\n\t\tif (this._moving) { return; }\n\n\t\tthis.fire('down');\n\n\t\tvar first = e.touches ? e.touches[0] : e;\n\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);\n\t\tthis._startPos = this._newPos = L.DomUtil.getPosition(this._element);\n\n\t\tL.DomEvent\n\t\t    .on(document, L.Draggable.MOVE[e.type], this._onMove, this)\n\t\t    .on(document, L.Draggable.END[e.type], this._onUp, this);\n\t},\n\n\t_onMove: function (e) {\n\t\tif (e.touches && e.touches.length > 1) {\n\t\t\tthis._moved = true;\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),\n\t\t    offset = newPoint.subtract(this._startPoint);\n\n\t\tif (!offset.x && !offset.y) { return; }\n\t\tif (L.Browser.touch && Math.abs(offset.x) + Math.abs(offset.y) < 3) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tif (!this._moved) {\n\t\t\tthis.fire('dragstart');\n\n\t\t\tthis._moved = true;\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\n\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');\n\n\t\t\tthis._lastTarget = e.target || e.srcElement;\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');\n\t\t}\n\n\t\tthis._newPos = this._startPos.add(offset);\n\t\tthis._moving = true;\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true, this._dragStartTarget);\n\t},\n\n\t_updatePosition: function () {\n\t\tthis.fire('predrag');\n\t\tL.DomUtil.setPosition(this._element, this._newPos);\n\t\tthis.fire('drag');\n\t},\n\n\t_onUp: function () {\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');\n\n\t\tif (this._lastTarget) {\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');\n\t\t\tthis._lastTarget = null;\n\t\t}\n\n\t\tfor (var i in L.Draggable.MOVE) {\n\t\t\tL.DomEvent\n\t\t\t    .off(document, L.Draggable.MOVE[i], this._onMove, this)\n\t\t\t    .off(document, L.Draggable.END[i], this._onUp, this);\n\t\t}\n\n\t\tL.DomUtil.enableImageDrag();\n\t\tL.DomUtil.enableTextSelection();\n\n\t\tif (this._moved && this._moving) {\n\t\t\t// ensure drag is not fired after dragend\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\t\tthis.fire('dragend', {\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\n\t\t\t});\n\t\t}\n\n\t\tthis._moving = false;\n\t}\n});\n\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\nL.Handler = L.Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled) { return; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t},\n\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n});\n\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdragging: true,\n\n\tinertia: !L.Browser.android23,\n\tinertiaDeceleration: 3400, // px/s^2\n\tinertiaMaxSpeed: Infinity, // px/s\n\tinertiaThreshold: L.Browser.touch ? 32 : 18, // ms\n\teaseLinearity: 0.25,\n\n\t// TODO refactor, move to CRS\n\tworldCopyJump: false\n});\n\nL.Map.Drag = L.Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\tdown: this._onDown,\n\t\t\t\tdragstart: this._onDragStart,\n\t\t\t\tdrag: this._onDrag,\n\t\t\t\tdragend: this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDrag, this);\n\t\t\t\tmap.on('viewreset', this._onViewReset, this);\n\n\t\t\t\tmap.whenReady(this._onViewReset, this);\n\t\t\t}\n\t\t}\n\t\tthis._draggable.enable();\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDown: function () {\n\t\tif (this._map._panAnim) {\n\t\t\tthis._map._panAnim.stop();\n\t\t}\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function () {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tif (time - this._times[0] > 200) {\n\t\t\t\tthis._positions.shift();\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move')\n\t\t    .fire('drag');\n\t},\n\n\t_onViewReset: function () {\n\t\tvar pxCenter = this._map.getSize().divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.getPixelWorldBounds().getSize().x;\n\t},\n\n\t_onPreDrag: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\t\t    delay = +new Date() - this._lastTime,\n\n\t\t    noInertia = !options.inertia || delay > options.inertiaThreshold || !this._positions[0];\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime + delay - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x || !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\tL.Util.requestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);\n\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdoubleClickZoom: true\n});\n\nL.Map.DoubleClickZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);\n\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\nL.Map.mergeOptions({\n\tscrollWheelZoom: true,\n\twheelDebounceTime: 40\n});\n\nL.Map.ScrollWheelZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, {\n\t\t\tmousewheel: this._onWheelScroll,\n\t\t\tMozMousePixelScroll: L.DomEvent.preventDefault\n\t\t}, this);\n\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, {\n\t\t\tmousewheel: this._onWheelScroll,\n\t\t\tMozMousePixelScroll: L.DomEvent.preventDefault\n\t\t}, this);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = L.DomEvent.getWheelDelta(e);\n\t\tvar debounce = this._map.options.wheelDebounceTime;\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(debounce - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);\n\n\t\tL.DomEvent.stop(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    delta = this._delta,\n\t\t    zoom = map.getZoom();\n\n\t\tdelta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n\t\tdelta = Math.max(Math.min(delta, 4), -4);\n\t\tdelta = map._limitZoom(zoom + delta) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);\n\n\n/*\n * Extends the event handling code with double tap support for mobile browsers.\n */\n\nL.extend(L.DomEvent, {\n\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',\n\n\t// inspired by Zepto touch code by Thomas Fuchs\n\taddDoubleTapListener: function (obj, handler, id) {\n\t\tvar last, touch,\n\t\t    doubleTap = false,\n\t\t    delay = 250,\n\t\t    trackedTouches = [];\n\n\t\tfunction onTouchStart(e) {\n\t\t\tvar count;\n\n\t\t\tif (L.Browser.pointer) {\n\t\t\t\ttrackedTouches.push(e.pointerId);\n\t\t\t\tcount = trackedTouches.length;\n\t\t\t} else {\n\t\t\t\tcount = e.touches.length;\n\t\t\t}\n\n\t\t\tif (count > 1) { return; }\n\n\t\t\tvar now = Date.now(),\n\t\t\t    delta = now - (last || now);\n\n\t\t\ttouch = e.touches ? e.touches[0] : e;\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);\n\t\t\tlast = now;\n\t\t}\n\n\t\tfunction onTouchEnd(e) {\n\t\t\tif (L.Browser.pointer) {\n\t\t\t\tvar idx = trackedTouches.indexOf(e.pointerId);\n\t\t\t\tif (idx === -1) { return; }\n\t\t\t\ttrackedTouches.splice(idx, 1);\n\t\t\t}\n\n\t\t\tif (doubleTap) {\n\t\t\t\tif (L.Browser.pointer) {\n\t\t\t\t\t// work around .type being readonly with MSPointer* events\n\t\t\t\t\tvar newTouch = {},\n\t\t\t\t\t\tprop, i;\n\n\t\t\t\t\tfor (i in touch) {\n\t\t\t\t\t\tprop = touch[i];\n\t\t\t\t\t\tnewTouch[i] = prop && prop.bind ? prop.bind(touch) : prop;\n\t\t\t\t\t}\n\t\t\t\t\ttouch = newTouch;\n\t\t\t\t}\n\t\t\t\ttouch.type = 'dblclick';\n\t\t\t\thandler(touch);\n\t\t\t\tlast = null;\n\t\t\t}\n\t\t}\n\n\t\tvar pre = '_leaflet_',\n\t\t    touchstart = this._touchstart,\n\t\t    touchend = this._touchend;\n\n\t\tobj[pre + touchstart + id] = onTouchStart;\n\t\tobj[pre + touchend + id] = onTouchEnd;\n\n\t\t// on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen\n\t\t// will not come through to us, so we will lose track of how many touches are ongoing\n\t\tvar endElement = L.Browser.pointer ? document.documentElement : obj;\n\n\t\tobj.addEventListener(touchstart, onTouchStart, false);\n\n\t\tendElement.addEventListener(touchend, onTouchEnd, false);\n\t\tif (L.Browser.pointer) {\n\t\t\tendElement.addEventListener(L.DomEvent.POINTER_CANCEL, onTouchEnd, false);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveDoubleTapListener: function (obj, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    endElement = L.Browser.pointer ? document.documentElement : obj,\n\t\t    touchend = obj[pre + this._touchend + id];\n\n\t\tobj.removeEventListener(this._touchstart, obj[pre + this._touchstart + id], false);\n\n\t\tendElement.removeEventListener(this._touchend, touchend, false);\n\t\tif (L.Browser.pointer) {\n\t\t\tendElement.removeEventListener(L.DomEvent.POINTER_CANCEL, touchend, false);\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\nL.extend(L.DomEvent, {\n\n\tPOINTER_DOWN:   L.Browser.msPointer ? 'MSPointerDown'   : 'pointerdown',\n\tPOINTER_MOVE:   L.Browser.msPointer ? 'MSPointerMove'   : 'pointermove',\n\tPOINTER_UP:     L.Browser.msPointer ? 'MSPointerUp'     : 'pointerup',\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',\n\n\t_pointers: {},\n\n\t// Provides a touch events wrapper for (ms)pointer events.\n\t// ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\n\taddPointerListener: function (obj, type, handler, id) {\n\n\t\tif (type === 'touchstart') {\n\t\t\tthis._addPointerStart(obj, handler, id);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tthis._addPointerMove(obj, handler, id);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tthis._addPointerEnd(obj, handler, id);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremovePointerListener: function (obj, type, id) {\n\t\tvar handler = obj['_leaflet_' + type + id];\n\n\t\tif (type === 'touchstart') {\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, handler, false);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, handler, false);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tobj.removeEventListener(this.POINTER_UP, handler, false);\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, handler, false);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_addPointerStart: function (obj, handler, id) {\n\t\tvar onDown = L.bind(function (e) {\n\t\t\tL.DomEvent.preventDefault(e);\n\n\t\t\tthis._pointers[e.pointerId] = e;\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchstart' + id] = onDown;\n\t\tobj.addEventListener(this.POINTER_DOWN, onDown, false);\n\n\t\t// need to also listen for end events to keep the _pointers object accurate\n\t\tif (!this._pointerDocListener) {\n\t\t\tvar removePointer = L.bind(function (e) {\n\t\t\t\tdelete this._pointers[e.pointerId];\n\t\t\t}, this);\n\n\t\t\t// we listen documentElement as any drags that end by moving the touch off the screen get fired there\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, removePointer, false);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, removePointer, false);\n\n\t\t\tthis._pointerDocListener = true;\n\t\t}\n\t},\n\n\t_handlePointer: function (e, handler) {\n\t\te.touches = [];\n\t\tfor (var i in this._pointers) {\n\t\t\te.touches.push(this._pointers[i]);\n\t\t}\n\t\te.changedTouches = [e];\n\n\t\thandler(e);\n\t},\n\n\t_addPointerMove: function (obj, handler, id) {\n\t\tvar onMove = L.bind(function (e) {\n\t\t\t// don't fire touch moves when mouse isn't down\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }\n\n\t\t\tthis._pointers[e.pointerId] = e;\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchmove' + id] = onMove;\n\t\tobj.addEventListener(this.POINTER_MOVE, onMove, false);\n\t},\n\n\t_addPointerEnd: function (obj, handler, id) {\n\t\tvar onUp = L.bind(function (e) {\n\t\t\tdelete this._pointers[e.pointerId];\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchend' + id] = onUp;\n\t\tobj.addEventListener(this.POINTER_UP, onUp, false);\n\t\tobj.addEventListener(this.POINTER_CANCEL, onUp, false);\n\t}\n});\n\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\nL.Map.mergeOptions({\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,\n\tbounceAtZoomLimits: true\n});\n\nL.Map.TouchZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]),\n\t\t    viewCenter = map._getCenterLayerPoint();\n\n\t\tthis._startCenter = p1.add(p2)._divideBy(2);\n\t\tthis._startDist = p1.distanceTo(p2);\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tthis._centerOffset = viewCenter.subtract(this._startCenter);\n\n\t\tif (map._panAnim) {\n\t\t\tmap._panAnim.stop();\n\t\t}\n\n\t\tL.DomEvent\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar map = this._map,\n\t\t    p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]);\n\n\t\tthis._scale = p1.distanceTo(p2) / this._startDist;\n\t\tthis._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);\n\n\t\tif (!map.options.bounceAtZoomLimits) {\n\t\t\tvar currentZoom = map.getScaleZoom(this._scale);\n\t\t\tif ((currentZoom <= map.getMinZoom() && this._scale < 1) ||\n\t\t     (currentZoom >= map.getMaxZoom() && this._scale > 1)) { return; }\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tmap\n\t\t\t    .fire('movestart')\n\t\t\t    .fire('zoomstart');\n\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updateOnMove, this, true, this._map._container);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_updateOnMove: function () {\n\t\tvar map = this._map;\n\n\t\tif (map.options.touchZoom === 'center') {\n\t\t\tthis._center = map.getCenter();\n\t\t} else {\n\t\t\tthis._center = map.layerPointToLatLng(this._getTargetCenter());\n\t\t}\n\t\tthis._zoom = map.getScaleZoom(this._scale);\n\n\t\tmap._animateZoom(this._center, this._zoom);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._zooming = false;\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tL.DomEvent\n\t\t    .off(document, 'touchmove', this._onTouchMove)\n\t\t    .off(document, 'touchend', this._onTouchEnd);\n\n\t\tvar map = this._map,\n\t\t    oldZoom = map.getZoom(),\n\t\t    zoomDelta = this._zoom - oldZoom,\n\t\t    finalZoom = map._limitZoom(oldZoom + (zoomDelta > 0 ? Math.ceil(zoomDelta) : Math.floor(zoomDelta)));\n\n\t\tmap._animateZoom(this._center, finalZoom, true);\n\t},\n\n\t_getTargetCenter: function () {\n\t\tvar centerOffset = this._centerOffset.subtract(this._delta).divideBy(this._scale);\n\t\treturn this._startCenter.add(centerOffset);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);\n\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\nL.Map.mergeOptions({\n\ttap: true,\n\ttapTolerance: 15\n});\n\nL.Map.Tap = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\t\t\n\t\tthis._simulateEvent('mousedown', first);\n\n\t\tL.DomEvent.on(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\tL.DomEvent.off(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');\n\t\t\t}\n\t\t\t\n\t\t\tthis._simulateEvent('mouseup', first);\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\nif (L.Browser.touch && !L.Browser.pointer) {\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);\n}\n\n\n/*\n * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map\n  * (zoom to a selected bounding box), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tboxZoom: true\n});\n\nL.Map.BoxZoom = L.Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t},\n\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\tthis._moved = false;\n\n\t\tL.DomUtil.disableTextSelection();\n\t\tL.DomUtil.disableImageDrag();\n\n\t\tthis._startPoint = this._map.mouseEventToContainerPoint(e);\n\n\t\tL.DomEvent.on(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._moved = true;\n\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._container);\n\t\t\tL.DomUtil.addClass(this._container, 'leaflet-crosshair');\n\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tthis._point = this._map.mouseEventToContainerPoint(e);\n\n\t\tvar bounds = new L.Bounds(this._point, this._startPoint),\n\t\t    size = bounds.getSize();\n\n\t\tL.DomUtil.setPosition(this._box, bounds.min);\n\n\t\tthis._box.style.width  = size.x + 'px';\n\t\tthis._box.style.height = size.y + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tL.DomUtil.remove(this._box);\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-crosshair');\n\t\t}\n\n\t\tL.DomUtil.enableTextSelection();\n\t\tL.DomUtil.enableImageDrag();\n\n\t\tL.DomEvent.off(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseUp: function (e) {\n\t\tif ((e.which !== 1) && (e.button !== 1)) { return false; }\n\n\t\tthis._finish();\n\n\t\tif (!this._moved) { return; }\n\n\t\tvar bounds = new L.LatLngBounds(\n\t\t        this._map.containerPointToLatLng(this._startPoint),\n\t\t        this._map.containerPointToLatLng(this._point));\n\n\t\tthis._map\n\t\t\t.fitBounds(bounds)\n\t\t\t.fire('boxzoomend', {boxZoomBounds: bounds});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);\n\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tkeyboard: true,\n\tkeyboardPanOffset: 80,\n\tkeyboardZoomOffset: 1\n});\n\nL.Map.Keyboard = L.Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanOffset(map.options.keyboardPanOffset);\n\t\tthis._setZoomOffset(map.options.keyboardZoomOffset);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex === -1) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\tL.DomEvent.on(container, {\n\t\t    focus: this._onFocus,\n\t\t    blur: this._onBlur,\n\t\t    mousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.on({\n\t\t\tfocus: this._addHooks,\n\t\t    blur: this._removeHooks\n\t\t}, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\tL.DomEvent.off(this._map._container, {\n\t\t    focus: this._onFocus,\n\t\t    blur: this._onBlur,\n\t\t    mousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.off({\n\t\t\tfocus: this._addHooks,\n\t\t    blur: this._removeHooks\n\t\t}, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanOffset: function (pan) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, pan];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * pan];\n\t\t}\n\t},\n\n\t_setZoomOffset: function (zoom) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoom;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoom;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.altKey || e.ctrlKey || e.metaKey) { return; }\n\n\t\tvar key = e.keyCode,\n\t\t    map = this._map;\n\n\t\tif (key in this._panKeys) {\n\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }\n\n\t\t\tmap.panBy(this._panKeys[key]);\n\n\t\t\tif (map.options.maxBounds) {\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t}\n\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + this._zoomKeys[key]);\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);\n\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\nL.Handler.MarkerDrag = L.Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new L.Draggable(icon, icon);\n\t\t}\n\n\t\tthis._draggable.on({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).enable();\n\n\t\tL.DomUtil.addClass(icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.off({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).disable();\n\n\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\tthis._marker\n\t\t    .closePopup()\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\t},\n\n\t_onDrag: function () {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\n\t\tmarker\n\t\t    .fire('move', {latlng: latlng})\n\t\t    .fire('drag');\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n\n/*\n * L.Control is a base class for implementing map controls. Handles positioning.\n * All other controls extend from this class.\n */\n\nL.Control = L.Class.extend({\n\toptions: {\n\t\tposition: 'topright'\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tgetPosition: function () {\n\t\treturn this.options.position;\n\t},\n\n\tsetPosition: function (position) {\n\t\tvar map = this._map;\n\n\t\tif (map) {\n\t\t\tmap.removeControl(this);\n\t\t}\n\n\t\tthis.options.position = position;\n\n\t\tif (map) {\n\t\t\tmap.addControl(this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\taddTo: function (map) {\n\t\tthis._map = map;\n\n\t\tvar container = this._container = this.onAdd(map),\n\t\t    pos = this.getPosition(),\n\t\t    corner = map._controlCorners[pos];\n\n\t\tL.DomUtil.addClass(container, 'leaflet-control');\n\n\t\tif (pos.indexOf('bottom') !== -1) {\n\t\t\tcorner.insertBefore(container, corner.firstChild);\n\t\t} else {\n\t\t\tcorner.appendChild(container);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremove: function () {\n\t\tL.DomUtil.remove(this._container);\n\n\t\tif (this.onRemove) {\n\t\t\tthis.onRemove(this._map);\n\t\t}\n\n\t\tthis._map = null;\n\n\t\treturn this;\n\t},\n\n\t_refocusOnMap: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.getContainer().focus();\n\t\t}\n\t}\n});\n\nL.control = function (options) {\n\treturn new L.Control(options);\n};\n\n\n// adds control-related methods to L.Map\n\nL.Map.include({\n\taddControl: function (control) {\n\t\tcontrol.addTo(this);\n\t\treturn this;\n\t},\n\n\tremoveControl: function (control) {\n\t\tcontrol.remove();\n\t\treturn this;\n\t},\n\n\t_initControlPos: function () {\n\t\tvar corners = this._controlCorners = {},\n\t\t    l = 'leaflet-',\n\t\t    container = this._controlContainer =\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);\n\n\t\tfunction createCorner(vSide, hSide) {\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\n\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);\n\t\t}\n\n\t\tcreateCorner('top', 'left');\n\t\tcreateCorner('top', 'right');\n\t\tcreateCorner('bottom', 'left');\n\t\tcreateCorner('bottom', 'right');\n\t},\n\n\t_clearControlPos: function () {\n\t\tL.DomUtil.remove(this._controlContainer);\n\t}\n});\n\n\n/*\n * L.Control.Zoom is used for the default zoom buttons on the map.\n */\n\nL.Control.Zoom = L.Control.extend({\n\toptions: {\n\t\tposition: 'topleft',\n\t\tzoomInText: '+',\n\t\tzoomInTitle: 'Zoom in',\n\t\tzoomOutText: '-',\n\t\tzoomOutTitle: 'Zoom out'\n\t},\n\n\tonAdd: function (map) {\n\t\tvar zoomName = 'leaflet-control-zoom',\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar'),\n\t\t    options = this.options;\n\n\t\tthis._zoomInButton  = this._createButton(options.zoomInText, options.zoomInTitle,\n\t\t        zoomName + '-in',  container, this._zoomIn);\n\t\tthis._zoomOutButton = this._createButton(options.zoomOutText, options.zoomOutTitle,\n\t\t        zoomName + '-out', container, this._zoomOut);\n\n\t\tthis._updateDisabled();\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\n\t},\n\n\t_zoomIn: function (e) {\n\t\tthis._map.zoomIn(e.shiftKey ? 3 : 1);\n\t},\n\n\t_zoomOut: function (e) {\n\t\tthis._map.zoomOut(e.shiftKey ? 3 : 1);\n\t},\n\n\t_createButton: function (html, title, className, container, fn) {\n\t\tvar link = L.DomUtil.create('a', className, container);\n\t\tlink.innerHTML = html;\n\t\tlink.href = '#';\n\t\tlink.title = title;\n\n\t\tL.DomEvent\n\t\t    .on(link, 'mousedown dblclick', L.DomEvent.stopPropagation)\n\t\t    .on(link, 'click', L.DomEvent.stop)\n\t\t    .on(link, 'click', fn, this)\n\t\t    .on(link, 'click', this._refocusOnMap, this);\n\n\t\treturn link;\n\t},\n\n\t_updateDisabled: function () {\n\t\tvar map = this._map,\n\t\t\tclassName = 'leaflet-disabled';\n\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);\n\n\t\tif (map._zoom === map.getMinZoom()) {\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);\n\t\t}\n\t\tif (map._zoom === map.getMaxZoom()) {\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);\n\t\t}\n\t}\n});\n\nL.Map.mergeOptions({\n\tzoomControl: true\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.zoomControl) {\n\t\tthis.zoomControl = new L.Control.Zoom();\n\t\tthis.addControl(this.zoomControl);\n\t}\n});\n\nL.control.zoom = function (options) {\n\treturn new L.Control.Zoom(options);\n};\n\n\n\n/*\n * L.Control.Attribution is used for displaying attribution on the map (added by default).\n */\n\nL.Control.Attribution = L.Control.extend({\n\toptions: {\n\t\tposition: 'bottomright',\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._attributions = {};\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');\n\t\tL.DomEvent.disableClickPropagation(this._container);\n\n\t\t// TODO ugly, refactor\n\t\tfor (var i in map._layers) {\n\t\t\tif (map._layers[i].getAttribution) {\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\n\t\t\t}\n\t\t}\n\n\t\tthis._update();\n\n\t\treturn this._container;\n\t},\n\n\tsetPrefix: function (prefix) {\n\t\tthis.options.prefix = prefix;\n\t\tthis._update();\n\t\treturn this;\n\t},\n\n\taddAttribution: function (text) {\n\t\tif (!text) { return; }\n\n\t\tif (!this._attributions[text]) {\n\t\t\tthis._attributions[text] = 0;\n\t\t}\n\t\tthis._attributions[text]++;\n\n\t\tthis._update();\n\n\t\treturn this;\n\t},\n\n\tremoveAttribution: function (text) {\n\t\tif (!text) { return; }\n\n\t\tif (this._attributions[text]) {\n\t\t\tthis._attributions[text]--;\n\t\t\tthis._update();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tvar attribs = [];\n\n\t\tfor (var i in this._attributions) {\n\t\t\tif (this._attributions[i]) {\n\t\t\t\tattribs.push(i);\n\t\t\t}\n\t\t}\n\n\t\tvar prefixAndAttribs = [];\n\n\t\tif (this.options.prefix) {\n\t\t\tprefixAndAttribs.push(this.options.prefix);\n\t\t}\n\t\tif (attribs.length) {\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\n\t\t}\n\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\n\t}\n});\n\nL.Map.mergeOptions({\n\tattributionControl: true\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.attributionControl) {\n\t\tthis.attributionControl = (new L.Control.Attribution()).addTo(this);\n\t}\n});\n\nL.control.attribution = function (options) {\n\treturn new L.Control.Attribution(options);\n};\n\n\n/*\n * L.Control.Scale is used for displaying metric/imperial scale on the map.\n */\n\nL.Control.Scale = L.Control.extend({\n\toptions: {\n\t\tposition: 'bottomleft',\n\t\tmaxWidth: 100,\n\t\tmetric: true,\n\t\timperial: true\n\t\t// updateWhenIdle: false\n\t},\n\n\tonAdd: function (map) {\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = L.DomUtil.create('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className + '-line', container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar map = this._map,\n\t\t    y = map.getSize().y / 2;\n\n\t\tvar maxMeters = L.CRS.Earth.distance(\n\t\t\t\tmap.containerPointToLatLng([0, y]),\n\t\t\t\tmap.containerPointToLatLng([this.options.maxWidth, y]));\n\n\t\tthis._updateScales(maxMeters);\n\t},\n\n\t_updateScales: function (maxMeters) {\n\t\tif (this.options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\t\tif (this.options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters),\n\t\t    label = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\n\t\tthis._updateScale(this._mScale, label, meters / maxMeters);\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\t\t\tthis._updateScale(this._iScale, miles + ' mi', miles / maxMiles);\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\t\t\tthis._updateScale(this._iScale, feet + ' ft', feet / maxFeet);\n\t\t}\n\t},\n\n\t_updateScale: function (scale, text, ratio) {\n\t\tscale.style.width = Math.round(this.options.maxWidth * ratio) + 'px';\n\t\tscale.innerHTML = text;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 :\n\t\t    d >= 5 ? 5 :\n\t\t    d >= 3 ? 3 :\n\t\t    d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\nL.control.scale = function (options) {\n\treturn new L.Control.Scale(options);\n};\n\n\n/*\n * L.Control.Layers is a control to allow users to switch between different layers on the map.\n */\n\nL.Control.Layers = L.Control.extend({\n\toptions: {\n\t\tcollapsed: true,\n\t\tposition: 'topright',\n\t\tautoZIndex: true\n\t},\n\n\tinitialize: function (baseLayers, overlays, options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._layers = {};\n\t\tthis._lastZIndex = 0;\n\t\tthis._handlingClick = false;\n\n\t\tfor (var i in baseLayers) {\n\t\t\tthis._addLayer(baseLayers[i], i);\n\t\t}\n\n\t\tfor (i in overlays) {\n\t\t\tthis._addLayer(overlays[i], i, true);\n\t\t}\n\t},\n\n\tonAdd: function () {\n\t\tthis._initLayout();\n\t\tthis._update();\n\n\t\treturn this._container;\n\t},\n\n\taddBaseLayer: function (layer, name) {\n\t\tthis._addLayer(layer, name);\n\t\treturn this._update();\n\t},\n\n\taddOverlay: function (layer, name) {\n\t\tthis._addLayer(layer, name, true);\n\t\treturn this._update();\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tlayer.off('add remove', this._onLayerChange, this);\n\n\t\tdelete this._layers[L.stamp(layer)];\n\t\treturn this._update();\n\t},\n\n\t_initLayout: function () {\n\t\tvar className = 'leaflet-control-layers',\n\t\t    container = this._container = L.DomUtil.create('div', className);\n\n\t\t// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\n\t\tcontainer.setAttribute('aria-haspopup', true);\n\n\t\tif (!L.Browser.touch) {\n\t\t\tL.DomEvent\n\t\t\t\t.disableClickPropagation(container)\n\t\t\t\t.disableScrollPropagation(container);\n\t\t} else {\n\t\t\tL.DomEvent.on(container, 'click', L.DomEvent.stopPropagation);\n\t\t}\n\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');\n\n\t\tif (this.options.collapsed) {\n\t\t\tif (!L.Browser.android) {\n\t\t\t\tL.DomEvent.on(container, {\n\t\t\t\t\tmouseenter: this._expand,\n\t\t\t\t\tmouseleave: this._collapse\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\n\t\t\tlink.href = '#';\n\t\t\tlink.title = 'Layers';\n\n\t\t\tif (L.Browser.touch) {\n\t\t\t\tL.DomEvent\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)\n\t\t\t\t    .on(link, 'click', this._expand, this);\n\t\t\t} else {\n\t\t\t\tL.DomEvent.on(link, 'focus', this._expand, this);\n\t\t\t}\n\n\t\t\t// work around for Firefox Android issue https://github.com/Leaflet/Leaflet/issues/2033\n\t\t\tL.DomEvent.on(form, 'click', function () {\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);\n\t\t\t}, this);\n\n\t\t\tthis._map.on('click', this._collapse, this);\n\t\t\t// TODO keyboard accessibility\n\t\t} else {\n\t\t\tthis._expand();\n\t\t}\n\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);\n\n\t\tcontainer.appendChild(form);\n\t},\n\n\t_addLayer: function (layer, name, overlay) {\n\t\tlayer.on('add remove', this._onLayerChange, this);\n\n\t\tvar id = L.stamp(layer);\n\n\t\tthis._layers[id] = {\n\t\t\tlayer: layer,\n\t\t\tname: name,\n\t\t\toverlay: overlay\n\t\t};\n\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\n\t\t\tthis._lastZIndex++;\n\t\t\tlayer.setZIndex(this._lastZIndex);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._container) { return; }\n\n\t\tL.DomUtil.empty(this._baseLayersList);\n\t\tL.DomUtil.empty(this._overlaysList);\n\n\t\tvar baseLayersPresent, overlaysPresent, i, obj;\n\n\t\tfor (i in this._layers) {\n\t\t\tobj = this._layers[i];\n\t\t\tthis._addItem(obj);\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\n\t\t}\n\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\n\n\t\treturn this;\n\t},\n\n\t_onLayerChange: function (e) {\n\t\tif (!this._handlingClick) {\n\t\t\tthis._update();\n\t\t}\n\n\t\tvar overlay = this._layers[L.stamp(e.target)].overlay;\n\n\t\tvar type = overlay ?\n\t\t\t(e.type === 'add' ? 'overlayadd' : 'overlayremove') :\n\t\t\t(e.type === 'add' ? 'baselayerchange' : null);\n\n\t\tif (type) {\n\t\t\tthis._map.fire(type, e.target);\n\t\t}\n\t},\n\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\n\t_createRadioElement: function (name, checked) {\n\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' +\n\t\t\t\tname + '\"' + (checked ? ' checked=\"checked\"' : '') + '/>';\n\n\t\tvar radioFragment = document.createElement('div');\n\t\tradioFragment.innerHTML = radioHtml;\n\n\t\treturn radioFragment.firstChild;\n\t},\n\n\t_addItem: function (obj) {\n\t\tvar label = document.createElement('label'),\n\t\t    checked = this._map.hasLayer(obj.layer),\n\t\t    input;\n\n\t\tif (obj.overlay) {\n\t\t\tinput = document.createElement('input');\n\t\t\tinput.type = 'checkbox';\n\t\t\tinput.className = 'leaflet-control-layers-selector';\n\t\t\tinput.defaultChecked = checked;\n\t\t} else {\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);\n\t\t}\n\n\t\tinput.layerId = L.stamp(obj.layer);\n\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);\n\n\t\tvar name = document.createElement('span');\n\t\tname.innerHTML = ' ' + obj.name;\n\n\t\tlabel.appendChild(input);\n\t\tlabel.appendChild(name);\n\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\n\t\tcontainer.appendChild(label);\n\n\t\treturn label;\n\t},\n\n\t_onInputClick: function () {\n\t\tvar inputs = this._form.getElementsByTagName('input'),\n\t\t    input, layer, hasLayer;\n\n\t\tthis._handlingClick = true;\n\n\t\tfor (var i = 0, len = inputs.length; i < len; i++) {\n\t\t\tinput = inputs[i];\n\t\t\tlayer = this._layers[input.layerId].layer;\n\t\t\thasLayer = this._map.hasLayer(layer);\n\n\t\t\tif (input.checked && !hasLayer) {\n\t\t\t\tthis._map.addLayer(layer);\n\n\t\t\t} else if (!input.checked && hasLayer) {\n\t\t\t\tthis._map.removeLayer(layer);\n\t\t\t}\n\t\t}\n\n\t\tthis._handlingClick = false;\n\n\t\tthis._refocusOnMap();\n\t},\n\n\t_expand: function () {\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\n\t},\n\n\t_collapse: function () {\n\t\tL.DomUtil.removeClass(this._container, 'leaflet-control-layers-expanded');\n\t}\n});\n\nL.control.layers = function (baseLayers, overlays, options) {\n\treturn new L.Control.Layers(baseLayers, overlays, options);\n};\n\n\n/*\n * L.PosAnimation is used by Leaflet internally for pan animations.\n */\n\nL.PosAnimation = L.Evented.extend({\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._newPos = newPos;\n\n\t\tthis.fire('start');\n\n\t\tel.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) +\n\t\t        's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';\n\n\t\tL.DomEvent.on(el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\t\tL.DomUtil.setPosition(el, newPos);\n\n\t\t// there's no native way to track value updates of transitioned properties, so we imitate this\n\t\tthis._stepTimer = setInterval(L.bind(this._onStep, this), 50);\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\t// if we just removed the transition property, the element would jump to its final position,\n\t\t// so we need to make it stay at the current position\n\n                // Only setPosition if _getPos actually returns a valid position.\n\t\tthis._newPos = this._getPos();\n\t\tif (this._newPos) {\n\t\t    L.DomUtil.setPosition(this._el, this._newPos);\n\t\t}\n\n\t\tthis._onTransitionEnd();\n\t\tL.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation\n\t},\n\n\t_onStep: function () {\n\t\tvar stepPos = this._getPos();\n\t\tif (!stepPos) {\n\t\t\tthis._onTransitionEnd();\n\t\t\treturn;\n\t\t}\n\t\t// jshint camelcase: false\n\t\t// make L.DomUtil.getPosition return intermediate position value during animation\n\t\tthis._el._leaflet_pos = stepPos;\n\n\t\tthis.fire('step');\n\t},\n\n\t// you can't easily get intermediate values of properties animated with CSS3 Transitions,\n\t// we need to parse computed style (in case of transform it returns matrix string)\n\n\t_transformRe: /([-+]?(?:\\d*\\.)?\\d+)\\D*, ([-+]?(?:\\d*\\.)?\\d+)\\D*\\)/,\n\n\t_getPos: function () {\n\t\tvar left, top, matches,\n\t\t    el = this._el,\n\t\t    style = window.getComputedStyle(el);\n\n\t\tif (L.Browser.any3d) {\n\t\t\tmatches = style[L.DomUtil.TRANSFORM].match(this._transformRe);\n\t\t\tif (!matches) { return; }\n\t\t\tleft = parseFloat(matches[1]);\n\t\t\ttop  = parseFloat(matches[2]);\n\t\t} else {\n\t\t\tleft = parseFloat(style.left);\n\t\t\ttop  = parseFloat(style.top);\n\t\t}\n\n\t\treturn new L.Point(left, top, true);\n\t},\n\n\t_onTransitionEnd: function () {\n\t\tL.DomEvent.off(this._el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\n\t\tif (!this._inProgress) { return; }\n\t\tthis._inProgress = false;\n\n\t\tthis._el.style[L.DomUtil.TRANSITION] = '';\n\n\t\t// jshint camelcase: false\n\t\t// make sure L.DomUtil.getPosition returns the final position value after animation\n\t\tthis._el._leaflet_pos = this._newPos;\n\n\t\tclearInterval(this._stepTimer);\n\n\t\tthis.fire('step').fire('end');\n\t}\n\n});\n\n\n/*\n * Extends L.Map to handle panning animations.\n */\n\nL.Map.include({\n\n\tsetView: function (center, zoom, options) {\n\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);\n\t\toptions = options || {};\n\n\t\tif (this._panAnim) {\n\t\t\tthis._panAnim.stop();\n\t\t}\n\n\t\tif (this._loaded && !options.reset && options !== true) {\n\n\t\t\tif (options.animate !== undefined) {\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);\n\t\t\t\toptions.pan = L.extend({animate: options.animate}, options.pan);\n\t\t\t}\n\n\t\t\t// try animating pan or zoom\n\t\t\tvar animated = (this._zoom !== zoom) ?\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\n\n\t\t\tif (animated) {\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// animation didn't start, just reset the map view\n\t\tthis._resetView(center, zoom);\n\n\t\treturn this;\n\t},\n\n\tpanBy: function (offset, options) {\n\t\toffset = L.point(offset).round();\n\t\toptions = options || {};\n\n\t\tif (!offset.x && !offset.y) {\n\t\t\treturn this;\n\t\t}\n\t\t//If we pan too far then chrome gets issues with tiles\n\t\t// and makes them disappear or appear in the wrong place (slightly offset) #2602\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) {\n\t\t\treturn this._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());\n\t\t}\n\n\t\tif (!this._panAnim) {\n\t\t\tthis._panAnim = new L.PosAnimation();\n\n\t\t\tthis._panAnim.on({\n\t\t\t\t'step': this._onPanTransitionStep,\n\t\t\t\t'end': this._onPanTransitionEnd\n\t\t\t}, this);\n\t\t}\n\n\t\t// don't fire movestart if animating inertia\n\t\tif (!options.noMoveStart) {\n\t\t\tthis.fire('movestart');\n\t\t}\n\n\t\t// animate pan unless animate: false specified\n\t\tif (options.animate !== false) {\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');\n\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset);\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\n\t\t} else {\n\t\t\tthis._rawPanBy(offset);\n\t\t\tthis.fire('move').fire('moveend');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_onPanTransitionStep: function () {\n\t\tthis.fire('move');\n\t},\n\n\t_onPanTransitionEnd: function () {\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');\n\t\tthis.fire('moveend');\n\t},\n\n\t_tryAnimatedPan: function (center, options) {\n\t\t// difference between the new and current centers in pixels\n\t\tvar offset = this._getCenterOffset(center)._floor();\n\n\t\t// don't animate too far unless animate: true specified in options\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis.panBy(offset, options);\n\n\t\treturn true;\n\t}\n});\n\n\n/*\n * L.PosAnimation fallback implementation that powers Leaflet pan animations\n * in browsers that don't support CSS3 Transitions.\n */\n\nL.PosAnimation = L.DomUtil.TRANSITION ? L.PosAnimation : L.PosAnimation.extend({\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = L.DomUtil.getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step();\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function () {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration));\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tL.DomUtil.setPosition(this._el, pos);\n\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tL.Util.cancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n\n/*\n * Extends L.Map to handle zoom animations.\n */\n\nL.Map.mergeOptions({\n\tzoomAnimation: true,\n\tzoomAnimationThreshold: 4\n});\n\nvar zoomAnimated = L.DomUtil.TRANSITION && L.Browser.any3d && !L.Browser.mobileOpera;\n\nif (zoomAnimated) {\n\n\tL.Map.addInitHook(function () {\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\t\tthis._zoomAnimated = this.options.zoomAnimation;\n\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\t\tif (this._zoomAnimated) {\n\t\t\tL.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);\n\t\t}\n\t});\n}\n\nL.Map.include(!zoomAnimated ? {} : {\n\n\t_catchTransitionEnd: function (e) {\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\n\t\t\tthis._onZoomTransitionEnd();\n\t\t}\n\t},\n\n\t_nothingToAnimate: function () {\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\n\t},\n\n\t_tryAnimatedZoom: function (center, zoom, options) {\n\n\t\tif (this._animatingZoom) { return true; }\n\n\t\toptions = options || {};\n\n\t\t// don't animate if disabled, not supported or zoom difference is too large\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\n\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale);\n\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis\n\t\t\t    .fire('movestart')\n\t\t\t    .fire('zoomstart')\n\t\t\t    ._animateZoom(center, zoom, true);\n\t\t}, this);\n\n\t\treturn true;\n\t},\n\n\t_animateZoom: function (center, zoom, startAnim) {\n\t\tif (startAnim) {\n\t\t\tthis._animatingZoom = true;\n\n\t\t\t// remember what center/zoom to set after animation\n\t\t\tthis._animateToCenter = center;\n\t\t\tthis._animateToZoom = zoom;\n\n\t\t\t// disable any dragging during animation\n\t\t\tif (L.Draggable) {\n\t\t\t\tL.Draggable._disabled = true;\n\t\t\t}\n\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');\n\t\t}\n\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t\torigin = this._getCenterLayerPoint().add(this._getCenterOffset(center)._divideBy(1 - 1 / scale));\n\n\t\tthis.fire('zoomanim', {\n\t\t\tcenter: center,\n\t\t\tzoom: zoom,\n\t\t\torigin: origin,\n\t\t\tscale: scale\n\t\t});\n\t},\n\n\t_onZoomTransitionEnd: function () {\n\n\t\tthis._animatingZoom = false;\n\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\tthis._resetView(this._animateToCenter, this._animateToZoom, true, true);\n\n\t\tif (L.Draggable) {\n\t\t\tL.Draggable._disabled = false;\n\t\t}\n\t}\n});\n\n\n/*\n * Provides L.Map with convenient shortcuts for using browser geolocation features.\n */\n\nL.Map.include({\n\t_defaultLocateOptions: {\n\t\ttimeout: 10000,\n\t\twatch: false\n\t\t// setView: false\n\t\t// maxZoom: <Number>\n\t\t// maximumAge: 0\n\t\t// enableHighAccuracy: false\n\t},\n\n\tlocate: function (/*Object*/ options) {\n\n\t\toptions = this._locateOptions = L.extend(this._defaultLocateOptions, options);\n\n\t\tif (!navigator.geolocation) {\n\t\t\tthis._handleGeolocationError({\n\t\t\t\tcode: 0,\n\t\t\t\tmessage: 'Geolocation not supported.'\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),\n\t\t\tonError = L.bind(this._handleGeolocationError, this);\n\n\t\tif (options.watch) {\n\t\t\tthis._locationWatchId =\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\n\t\t} else {\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\n\t\t}\n\t\treturn this;\n\t},\n\n\tstopLocate: function () {\n\t\tif (navigator.geolocation) {\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\n\t\t}\n\t\tif (this._locateOptions) {\n\t\t\tthis._locateOptions.setView = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_handleGeolocationError: function (error) {\n\t\tvar c = error.code,\n\t\t    message = error.message ||\n\t\t            (c === 1 ? 'permission denied' :\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\n\n\t\tif (this._locateOptions.setView && !this._loaded) {\n\t\t\tthis.fitWorld();\n\t\t}\n\n\t\tthis.fire('locationerror', {\n\t\t\tcode: c,\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\n\t\t});\n\t},\n\n\t_handleGeolocationResponse: function (pos) {\n\t\tvar lat = pos.coords.latitude,\n\t\t    lng = pos.coords.longitude,\n\t\t    latlng = new L.LatLng(lat, lng),\n\n\t\t    latAccuracy = 180 * pos.coords.accuracy / 40075017,\n\t\t    lngAccuracy = latAccuracy / Math.cos((Math.PI / 180) * lat),\n\n\t\t    bounds = L.latLngBounds(\n\t\t            [lat - latAccuracy, lng - lngAccuracy],\n\t\t            [lat + latAccuracy, lng + lngAccuracy]),\n\n\t\t    options = this._locateOptions;\n\n\t\tif (options.setView) {\n\t\t\tvar zoom = this.getBoundsZoom(bounds);\n\t\t\tthis.setView(latlng, options.maxZoom ? Math.min(zoom, options.maxZoom) : zoom);\n\t\t}\n\n\t\tvar data = {\n\t\t\tlatlng: latlng,\n\t\t\tbounds: bounds,\n\t\t\ttimestamp: pos.timestamp\n\t\t};\n\n\t\tfor (var i in pos.coords) {\n\t\t\tif (typeof pos.coords[i] === 'number') {\n\t\t\t\tdata[i] = pos.coords[i];\n\t\t\t}\n\t\t}\n\n\t\tthis.fire('locationfound', data);\n\t}\n});\n\n\n}(window, document));","/**\n * Created by Luke on 11-22-2014.\n */\nangular.module( 'mapprojectApp' ).service( \"FireQuery\", function ($http) {\n  return function (){\n    var date = 1950;\n    var agency = '';\n    this.getFires = function ( cb ) {\n      this.domain = \"http://obsessively.ca\";\n      this.apiString = \"computermapping/fires\";\n      this.url = this.domain + \"/\" + this.apiString;\n      this.fullUrl = this.url;\n      if ( date ) {\n        this.fullUrl += \"?date=\" + date;\n      } else {\n        return data = [];\n      }\n      if ( date && agency ) {\n        this.fullUrl += \"&srcagency=\" + agency;\n      }\n      $http.get( this.fullUrl, {cache: true} )\n        .success( function ( data, status, headers, config ) {\n          cb( data );\n        } )\n        .error( function ( data, status, headers, config ) {\n          console.log(\"Request failed\");\n        } );\n    };\n    this.setAgency = function (a){\n      agency = a;\n    };\n    this.setDate = function (d){\n      date = d;\n    };\n\n    this.setFireType = function (t){\n      fireType = t;\n    };\n    this.getDate = function (){\n      return date;\n    };\n    this.getFireType = function (){\n      return fireType;\n    };\n    this.getAgency = function (){\n      return agency;\n    }\n  }\n} )\n  .factory( 'FiresFact', function ( $http, FireQuery ) {\n    // Return an api object\n    return {\n      get: function ( params, cb ) {\n        var Fire = new FireQuery();\n        Fire.setAgency(params.src);\n        Fire.setDate(params.date);\n        //Fire.setFireType(params.fireType);\n        //debugger;\n        Fire.getFires( function ( data ) {\n          cb( data );\n        } );\n      }\n    }\n  } ).factory( 'StringsFact', function () {\n    var strings = {\n      provinces: [\n        {name: \"Manitoba\", key: \"MB\"},\n        {name: \"\", key: \"\"},\n        {name: \"Ontario\", key: \"ON\"},\n        {name: \"New Brunswick\", key: \"NB\"},\n        {name: \"Alberta\", key: \"AB\"},\n        {name: \"Northwest territories\", key: \"NWT\"},\n        {name: \"Quebec\", key: \"QC\"},\n        {name: \"Nova Scotia\", key: \"NS\"},\n        {name: \"Newfoundland & Labrador\", key: \"NL\"},\n        {name: \"Saskatchewan\", key: \"SK\"},\n        {name: \"British Columbia\", key: \"BC\"},\n        {name: \"Yukon\", key: \"YT\"},\n        {name: \"PC-BA\", key: \"PC-BA\"}\n\n      ]\n    };\n    return {\n\n      getStrings: function () {\n        return strings;\n      }\n    }\n  } );\n"]}